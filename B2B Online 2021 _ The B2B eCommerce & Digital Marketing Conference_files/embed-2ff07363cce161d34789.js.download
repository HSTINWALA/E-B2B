/*! For license information please see embed-2ff07363cce161d34789.js.LICENSE.txt */
!function(e){function t(t){for(var i,o,s=t[0],l=t[1],u=t[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(c&&c(t);p.length;)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},r={10:0},a=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="//assets.slideslive.com/packs/";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=l;a.push([2364,0,1]),n()}({0:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"ab",(function(){return a})),n.d(t,"rb",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"t",(function(){return l})),n.d(t,"u",(function(){return u})),n.d(t,"v",(function(){return p})),n.d(t,"S",(function(){return f})),n.d(t,"U",(function(){return h.s})),n.d(t,"O",(function(){return h.o})),n.d(t,"T",(function(){return h.r})),n.d(t,"tb",(function(){return h.C})),n.d(t,"s",(function(){return h.i})),n.d(t,"kb",(function(){return h.A})),n.d(t,"fb",(function(){return h.x})),n.d(t,"Z",(function(){return h.u})),n.d(t,"vb",(function(){return h.E})),n.d(t,"jb",(function(){return h.z})),n.d(t,"n",(function(){return h.g})),n.d(t,"k",(function(){return h.e})),n.d(t,"l",(function(){return h.f})),n.d(t,"a",(function(){return h.a})),n.d(t,"hb",(function(){return h.y})),n.d(t,"A",(function(){return h.k})),n.d(t,"o",(function(){return h.h})),n.d(t,"F",(function(){return h.m})),n.d(t,"B",(function(){return h.l})),n.d(t,"h",(function(){return h.d})),n.d(t,"y",(function(){return h.j})),n.d(t,"M",(function(){return h.n})),n.d(t,"wb",(function(){return h.F})),n.d(t,"xb",(function(){return h.G})),n.d(t,"bb",(function(){return h.v})),n.d(t,"P",(function(){return h.p})),n.d(t,"d",(function(){return h.b})),n.d(t,"ub",(function(){return h.D})),n.d(t,"db",(function(){return h.w})),n.d(t,"g",(function(){return h.c})),n.d(t,"R",(function(){return h.q})),n.d(t,"qb",(function(){return h.B})),n.d(t,"X",(function(){return h.t})),n.d(t,"mb",(function(){return m.a})),n.d(t,"x",(function(){return v.a})),n.d(t,"m",(function(){return y.a})),n.d(t,"G",(function(){return b.a})),n.d(t,"H",(function(){return b.b})),n.d(t,"gb",(function(){return b.c})),n.d(t,"lb",(function(){return b.d})),n.d(t,"j",(function(){return g})),n.d(t,"sb",(function(){return w.a})),n.d(t,"J",(function(){return O})),n.d(t,"nb",(function(){return A})),n.d(t,"eb",(function(){return I.a})),n.d(t,"V",(function(){return j.a})),n.d(t,"D",(function(){return L})),n.d(t,"ib",(function(){return R})),n.d(t,"Q",(function(){return M})),n.d(t,"E",(function(){return H})),n.d(t,"C",(function(){return Y})),n.d(t,"w",(function(){return ne})),n.d(t,"N",(function(){return ie.a})),n.d(t,"yb",(function(){return re})),n.d(t,"z",(function(){return ae})),n.d(t,"Y",(function(){return ue})),n.d(t,"K",(function(){return he})),n.d(t,"W",(function(){return me})),n.d(t,"I",(function(){return ke})),n.d(t,"b",(function(){return we.a})),n.d(t,"i",(function(){return _e})),n.d(t,"cb",(function(){return Se})),n.d(t,"p",(function(){return Te})),n.d(t,"c",(function(){return Ae})),n.d(t,"q",(function(){return Me})),n.d(t,"r",(function(){return Ue})),n.d(t,"pb",(function(){return Ve})),n.d(t,"ob",(function(){return qe})),n.d(t,"L",(function(){return Je}));var i=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},r=n(2);var a=function(e){if(!Object(r.a)(e))return 0;if("string"!==typeof e)return e;if(!e.match(/[hHmMsS]/))return parseInt(e,10);var t=0;return t+=60*parseInt(/([0-9]+)[hH]/g.exec(e)||0,10)*60,t+=60*parseInt(/([0-9]+)[mM]/g.exec(e)||0,10),t+=parseInt(/([0-9]+)[sS]/g.exec(e)||0,10)};n(55);var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.replace(/^([a-zA-Z])/,(function(e){return t?e.toUpperCase():e.toLowerCase()})).replace(/[- ]/g,"_").replace(/(_[a-z])/g,(function(e){return"_".concat(e.toUpperCase())})).replace(/_+/g,"")};var s=function(e){return Object(h.s)(e)?e.normalize?e.toLowerCase().normalize("NFKD").replace(/[^a-z0-9 ]/gi,"").replace(/ +/g,"-").replace(/-+/,"-"):e:null};var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",i=e.toString().split(/[,.]/);return i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,t),i.join(n)};var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"B";return e>=1e9?"".concat(Math.round(e/1e9,-2)," G").concat(t):e>=1e6?"".concat(Math.round(e/1e6,-2)," M").concat(t):e>=1e3?"".concat(Math.round(e/1e3,-2)," K").concat(t):"".concat(Math.round(e,-2)," ").concat(t)},c={second:1,minute:60,hour:3600,day:86400},d={second:1e3,minute:6e4,hour:36e5,day:864e5};var p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Number.isFinite(e))return"calculating";var n,i=t.inMs?d:c,r=0;t.withDays&&(r=Math.floor(e/i.day)),n=t.withDays?Math.floor(e%i.day/i.hour):Math.floor(e/i.hour);var a=Math.floor(e%i.hour/i.minute),o=Math.floor(e%i.minute/i.second),s=Math.round(e%i.second),l="";if(t.useColons){var u=[n.toString().padStart(2,"0"),a.toString().padStart(2,"0"),o.toString().padStart(2,"0")].join(":");r>0&&(l="".concat(r,"d ")),l+=u,t.inMs&&s>0&&(l+=".".concat(s.toString().padStart(3,"0")))}else{var p=[];r>0&&p.push("".concat(r," d")),n>0&&p.push("".concat(n," h")),a>0&&p.push("".concat(a," min")),(o>0||0===p.length)&&p.push("".concat(o," s")),t.inMs&&s>0&&p.push("".concat(s," ms")),l=p.join(" ")}return l};var f=function(e){return Number.isNaN(Number(e))},h=n(63),m=n(9),v=n(8),y=n(17),b=n(74);var g=function(e){var t=e.replace(/^<!DOCTYPE[^>]*>\s*/,"").replace(/^[<\s]*/g,"").replace(/\r?\n|\r/g,"").replace(/^([^>\s]+).*/g,"$1"),n="div";"html"===t?n="template":"tr"===t?n="tbody":["thead","tbody","tfoot"].indexOf(t)>-1?n="table":["th","td"].indexOf(t)>-1&&(n="tr");var i=document.createElement(n);return i.innerHTML=e,"content"in i?i.content:i.children.length>1?i.children:i.firstElementChild},k=n(12),w=n(22);var _=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(r.a)(e)){var n=Object(k.a)(e);t.show?n.style.display=Object(r.a)(t.display)?t.display:"block":n.style.display="none"}};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_(e,T(T({},t),{},{show:!1}))};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.classList.remove("hidden"),_(e,P(P({},t),{},{show:!0}))},I=n(37),j=n(23);var L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=i(e.toLowerCase()),a=t,o=0;do{f(a["offset".concat(r)])||(o+=a["offset".concat(r)]),a=a.offsetParent}while(n&&a);return o};var M=function(e){return"object"===typeof HTMLElement?e instanceof HTMLElement||e instanceof HTMLCollection:e&&"object"===typeof e&&null!==e&&1===e.nodeType&&"string"===typeof e.nodeName};var R=function(e,t){var n=e.parentNode,i=M(t)?t:g(t);if(i instanceof HTMLCollection){for(;i.length>0;)e.insertAdjacentElement("beforebegin",i.item(0));Object(I.a)(e)}else n.replaceChild(i,e);return i};function D(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){return e.matches(t)}var H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],i=e.previousElementSibling,a=t;for(Object(r.a)(a.filter)||(a=V(V({},a),{},{filter:B})),Object(r.a)(a.selector)||(a=V(V({},a),{},{selector:null})),Object(r.a)(a.first)||(a=V(V({},a),{},{first:!1})),Object(r.a)(a.stopAt)?"string"===typeof a.stopAt&&(a=V(V({},a),{},{stopAt:document.querySelector(a.stopAt)})):a=V(V({},a),{},{stopAt:null}),Object(r.a)(a.includeSelf)||(a=V(V({},a),{},{includeSelf:!1}));i;){if(!a.selector||a.filter(i,a.selector)){if(a.first)return i;if(a.stopAt&&a.stopAt===i)return a.includeSelf&&(n=[e].concat(D(n))),n;n=[].concat(D(n),[i])}i=i.previousElementSibling}return a.first&&0===n.length?null:n};function z(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t){return e.matches(t)}var Y=function(e,t){var n=[],i=e.nextElementSibling,a=t;for(Object(r.a)(a.filter)||(a=W(W({},a),{},{filter:G})),Object(r.a)(a.selector)||(a=W(W({},a),{},{selector:null})),Object(r.a)(a.first)||(a=W(W({},a),{},{first:!1})),Object(r.a)(a.stopAt)?"string"===typeof a.stopAt&&(a=W(W({},a),{},{stopAt:document.querySelector(a.stopAt)})):a=W(W({},a),{},{stopAt:null}),Object(r.a)(a.includeSelf)||(a=W(W({},a),{},{includeSelf:!1}));i;){if(!a.selector||a.filter(i,a.selector)){if(a.first)return i;if(a.stopAt&&a.stopAt===i)return a.includeSelf&&(n=[e].concat(z(n))),n;n=[].concat(z(n),[i])}i=i.nextElementSibling}return a.first&&0===n.length?null:n};function Q(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){return e.matches(t)}var ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],i=e.firstElementChild,a=t;for(Object(r.a)(a.filter)||(a=Z(Z({},a),{},{filter:te})),Object(r.a)(a.selector)||(a=Z(Z({},a),{},{selector:null})),Object(r.a)(a.first)||(a=Z(Z({},a),{},{first:!1}));i;){if(!a.selector||a.filter(i,a.selector)){if(a.first)return i;n=[].concat(Q(n),[i])}i=i.nextElementSibling}return a.first&&0===n.length?null:n};var ie=n(24);var re=function(e){return 0===e.clientWidth?parseFloat(window.getComputedStyle(e).width):e.clientWidth};var ae=function(e){for(var t=0,n=e.previousElementSibling;n;)++t,n=n.previousElementSibling;return t};function oe(){Object(h.s)(document.body.overflowHiddenModalCount)||(document.body.overflowHiddenModalCount=0),document.body.overflowHiddenModalCount+=1,document.body.overflowHiddenModalCount>0&&!document.body.classList.contains("overflow-hidden")&&document.body.classList.add("overflow--hidden")}function se(e){var t={};return Object(h.s)(e.url)&&(t.url=e.url),Object(h.s)(e.load)&&(t.load=e.load),Object(h.s)(e.accept)&&(t.accept=e.accept),Object(h.s)(e.reject)&&(t.reject=e.reject),Object(h.s)(e.close)&&(t.close=e.close),Object(h.s)(e.sourceElement)&&(t.sourceElement=e.sourceElement),t}function le(e){return M(e)?e:document.querySelector(".modal[data-modal-name='".concat(e,"'], section[data-modal-name='").concat(e,"']"))}var ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=le(e);if(!Object(h.s)(n))return console.warn("Modal ".concat(e," not found.")),!1;if(!t.forceOpen&&Object(j.a)(n))return console.warn("Modal ".concat(e," is already visible.")),!1;Object(h.s)(t.url)||(t.url=n.dataset.modalUrl),oe();var i=n.getAttribute("data-modal-event-name-prefix")||"modal";return Object(h.i)(n,"".concat(i,":beforeShow"),{detail:se(t)}),Me(n,{begin:function(){Object(h.D)(n),Object(h.i)(n,"".concat(i,":show"))}}),!0};function ce(e){return function(e){if(Array.isArray(e))return pe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||de(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){if(e){if("string"===typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,t):void 0}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function fe(){if(document.body.overflowHiddenModalCount-=1,document.body.overflowHiddenModalCount<0&&(document.body.overflowHiddenModalCount=0),document.body.overflowHiddenModalCount>0){var e,t=0,n=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=de(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(document.querySelectorAll(".modal[data-modal-name]"));try{for(n.s();!(e=n.n()).done;){var i=e.value;Object(j.a)(i)&&t++}}catch(r){n.e(r)}finally{n.f()}document.body.overflowHiddenModalCount=t}0===document.body.overflowHiddenModalCount&&document.body.classList.contains("overflow--hidden")&&document.body.classList.remove("overflow--hidden")}var he=function(e){var t;if(t=M(e)?e:"undefined"===typeof e?document.querySelectorAll('.modal[style*="display: block"]'):document.querySelector(".modal[data-modal-name='".concat(e,"']")),"undefined"===typeof e){if(!t.length)return!1;t=ce(t).reverse().sort((function(e,t){return parseInt(window.getComputedStyle(e).zIndex,10)-parseInt(window.getComputedStyle(t).zIndex,10)}))[0]}if(!t||!Object(j.a)(t))return!1;var n=t.getAttribute("data-modal-event-name-prefix")||"modal";return!!Object(h.i)(t,"".concat(n,":beforeHide"))&&(Ue(t,{complete:function(){Object(h.i)(t,"".concat(n,":afterHide")),Object(h.w)(t),fe()}}),Object(h.i)(t,"".concat(n,":hide")),!0)};var me=function(e){var t=document.querySelector(".modal[data-modal-name='".concat(e,"']"));return Object(r.a)(t)},ve=n(35),ye=n(56),be=n(51),ge=n.n(be);var ke=function(e,t){var n,i,a,o=Object(k.a)(e);if(Object(r.a)(t)&&(n=t.params,i=t.event,a=t.bubbleEvents),"true"!==o.getAttribute("data-remote")&&(console.warn("handleRemote: data-remote should be set to true for elements used in handleRemote function."),o.setAttribute("data-remote",!0)),Object(r.a)(n)){var s=Object(v.a)(o,"original-data");Object(r.a)(s)||(s=o.getAttribute("data-params")||"",Object(m.a)(o,"original-data",s));var l=Object(ve.a)(n,{originalParams:s});o.setAttribute("data-params",l)}return Object(r.a)(i)||(i={target:o,preventDefault:function(){return!0},stopPropagation:function(){return!0},stopImmediatePropagation:function(){return!0}}),a=!!Object(r.a)(a)&&a,Object(v.a)(o,"ajaxHandlersInitialized")||(Object(m.a)(o,"ajaxHandlersInitialized",!0),o.addEventListener("ajax:before",(function(e){return a||e.stopPropagation(),!0})),o.addEventListener("ajax:beforeSend",(function(e){var t=e.detail[0],n=e.detail[1];return n.crossDomain&&(n.crossDomain=Object(ye.a)(n.url),n.crossDomain||t.setRequestHeader("X-Requested-With","XMLHttpRequest")),a||e.stopPropagation(),!0})),o.addEventListener("ajax:success",(function(e){return a||e.stopPropagation(),!0})),o.addEventListener("ajax:error",(function(e){return a||e.stopPropagation(),!0})),o.addEventListener("ajax:complete",(function(e){return a||e.stopPropagation(),!0}))),ge.a.handleRemote.call(o,i)},we=n(57);var _e=function(e,t,n,i){var a="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t)),o=new Date;Object(r.a)(n)?o=new Date(o.getTime()+6e4*n):o.setFullYear(o.getFullYear()+10),a+="; expires=".concat(o.toUTCString()),Object(r.a)(i)?a+="; path=".concat(i):a+="; path=/",document.cookie=a};var Se=function(e){if(0===document.cookie.length)return null;for(var t="".concat(encodeURIComponent(e),"="),n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return decodeURIComponent(r.substring(t.length,r.length))}return null};var Te=function(e){_e(e,"",-1)},xe=n(11),Oe=n.n(xe);function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r.a)(e.begin)?e.begin:null,n=Object(r.a)(e.complete)?e.complete:null,i=e;return i=Object.keys(i).reduce((function(e,t){return["begin","complete"].indexOf(t)>-1?e:Pe(Pe({},e),{},Ce({},t,i[t]))}),{}),Oe()(Pe(Pe({},e),{},{begin:function(e){for(var n=e.animatables.map((function(e){return e.target})),i=0;i<n.length;i++)Object(r.a)(n[i].anime)&&n[i].anime.pause(),n[i].anime=e;t&&t(n,e)},complete:function(e){for(var t=e.animatables.map((function(e){return e.target})),i=0;i<t.length;i++)t[i].anime=void 0;n&&n(t,e)}}))};function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,i=t,a=Object(r.a)(i.opacity)?i.opacity:1,o=Object(r.a)(i.duration)?i.duration:400,s=Object(r.a)(i.easing)?i.easing:"easeInOutQuad",l=Object(r.a)(i.display)?i.display:"block",u=Object(r.a)(i.complete)?i.complete:null,c=Object(r.a)(i.begin)?i.begin:null;i=Object.keys(i).reduce((function(e,t){return["display","complete","begin"].indexOf(t)>-1?e:je(je({},e),{},Le({},t,i[t]))}),{});var d=je(je({},i),{},{opacity:a,duration:o,easing:s});""===n.style.opacity&&(n.style.opacity=0),Object(r.a)(n.anime)&&n.anime.pause(),n.anime=Oe()(je(je({targets:n},d),{},{begin:function(e){n.style.display=l,c&&c(n,e)},complete:function(e){n.anime=void 0,u&&u(n,e)}}))};function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,i=t,a=Object(r.a)(i.opacity)?i.opacity:0,o=Object(r.a)(i.duration)?i.duration:400,s=Object(r.a)(i.easing)?i.easing:"easeInOutQuad",l=Object(r.a)(i.display)?i.display:"none",u=Object(r.a)(i.complete)?i.complete:null,c=Object(r.a)(i.begin)?i.begin:null;i=Object.keys(i).reduce((function(e,t){return["display","complete","begin"].indexOf(t)>-1?e:De(De({},e),{},Ne({},t,i[t]))}),{});var d=De(De({},i),{},{opacity:a,duration:o,easing:s});Object(r.a)(n.anime)&&n.anime.pause(),n.anime=Oe()(De(De({targets:n},d),{},{begin:function(e){c&&c(n,e)},complete:function(e){n.anime=void 0,n.style.display=l,u&&u(n,e)}}))};var Ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,i=Object(r.a)(t.height)?t.height:0,a=Object(r.a)(t.duration)?t.duration:400,o=Object(r.a)(t.easing)?t.easing:"easeInOutQuad",s=Object(r.a)(t.display)?t.display:"none";Object(r.a)(n.anime)&&n.anime.pause(),n.style.overflow="hidden",n.anime=Oe()({targets:n,height:i,marginTop:0,marginBottom:0,paddingTop:0,paddingBottom:0,duration:a,easing:o,begin:function(e){Object(r.a)(t.begin)&&t.begin(n,e)},complete:function(){n.anime=void 0,e.style.cssText="display: ".concat(s,";"),Object(r.a)(t.complete)&&t.complete(n)}})};function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e){return"auto"===e.height?0:parseFloat(e.height)}var qe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,i=Object(r.a)(t.duration)?t.duration:400,a=Object(r.a)(t.easing)?t.easing:"easeInOutQuad",o=Object(r.a)(t.display)?t.display:"block",s=Object(r.a)(t.height)?t.height:"auto",l=Be({},window.getComputedStyle(n));Object(r.a)(n.anime)&&n.anime.pause();var u={height:null,display:null,overflow:"hidden"};if("none"===l.display&&(u=Be(Be({},u),{},{display:o,marginTop:0,marginBottom:0,paddingTop:0,paddingBottom:0})),"auto"===s){u=Object(ie.a)(n,u,!1);var c=n.offsetWidth;Object(ie.a)(n,Be(Be({},u),{},{position:"absolute",opacity:0,height:"auto",width:"".concat(c,"px")}),!1),s=n.offsetHeight+parseFloat(l.paddingTop)+parseFloat(l.paddingBottom)}Object(ie.a)(n,Be(Be({},u),{},{height:ze(l)}),!1),n.anime=Oe()({targets:n,height:s,marginTop:parseFloat(l.marginTop),marginBottom:parseFloat(l.marginBottom),paddingTop:parseFloat(l.paddingTop),paddingBottom:parseFloat(l.paddingBottom),duration:i,easing:a,begin:function(e){Object(r.a)(t.begin)&&t.begin(n,e)},complete:function(e){n.anime=void 0,n.style.cssText="display:".concat(o,";"),Object(r.a)(t.complete)&&t.complete(n,e)}})},Ke=n(36);var We=function(e){var t=window.location.pathname.split("/"),n=t[t.length-1],i="".concat(n).concat(function(e){return Object.keys(e).reduce((function(t,n){var i=t;return"".concat(i+=""===t?"?":"&").concat(n,"=").concat(e[n].join(","))}),"")}(e)).concat(window.location.hash);window.history.pushState({},"",i)};function Xe(e){return function(e){if(Array.isArray(e))return Ge(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ge(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Je=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(Array.isArray(e)===Array.isArray(t))if(Array.isArray(e)&&e.length!==t.length)console.error("History - value array has to be the same length as param array!",e,t);else{var i=Object(Ke.a)(),r=function(e,t){var r=n&&e in i?i[e]:[];r.includes(t)||new RegExp("".concat(t,"(,|$)")).test(r[0])||(i=Qe(Qe({},i),{},$e({},e,[].concat(Xe(r),[t]))))};Array.isArray(e)?e.forEach((function(e,n){r(e,t[n])})):r(e,t),We(i)}else console.error("History - if param is array, value has to be as well and vice versa!",e,t)}},1:function(e,t,n){"use strict";var i=n(63);t.a=function(e){var t=Object(i.E)("debug_slideslive_player");if(t){for(var n,r=e.toString()||"",a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];(n=console).log.apply(n,[r.padEnd(8," ")].concat(o))}}},100:function(e,t,n){!function(t){var n={src:"https://player.vimeo.com/api/player.js",loading:!1,loaded:!1,loadedCheckInterval:null,listeners:[],load:function(e){var n=this;if(this.listeners.push(e),this.loaded)setTimeout((function(){n.done()}),0);else if(!this.loading){this.loading=!0,this.loadedCheckInterval=setInterval((function(){"undefined"!==typeof t.Vimeo&&(clearInterval(this.loadedCheckInterval),n.loadedCheckInterval=null,n.loaded=!0,n.done())}),100);var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=this.src,document.head.appendChild(i)}},done:function(){for(;this.listeners.length>0;)this.listeners.pop()(t.Vimeo)}};e.exports?e.exports=n:t.VimeoPlayerApiLoader=n}(window)},1064:function(e,t,n){"use strict";n.r(t);n(1065)},1065:function(e,t,n){e.exports={container:"d2ViL2VtYmVkL2JvZHk__container"}},1066:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return(a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return c}));var c=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(d,e);var t,n,l,c=s(d);function d(){return i(this,d),c.apply(this,arguments)}return t=d,(n=[{key:"initialize",value:function(){a(u(d.prototype),"initialize",this).call(this),this.onLoad()}},{key:"onLoad",value:function(){""!==this.element.dataset.targetId&&""!==this.element.dataset.origin&&this.sendMessage({targetId:this.element.dataset.targetId,method:"error",name:this.element.dataset.name})}}])&&r(t.prototype,n),l&&r(t,l),d}(n(186).default)},1067:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var i=n(186),r=n(75),a=n(0);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return(l="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=p(e);if(t){var r=p(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f={messageListenerId:null,player:null},h=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(h,e);var t,n,i,d=c(h);function h(){return o(this,h),d.apply(this,arguments)}return t=h,(n=[{key:"initialize",value:function(){l(p(h.prototype),"initialize",this).call(this,f),this.initPlayer(),this.onLoad()}},{key:"connect",value:function(){this.messageListenerId=Object(a.a)(window,"message onmessage",this.handleMessage.bind(this))}},{key:"disconnect",value:function(){Object(a.hb)(window,{id:this.messageListenerId})}},{key:"onLoad",value:function(){""!==this.element.dataset.targetId&&""!==this.element.dataset.origin&&this.sendMessage({targetId:this.element.dataset.targetId,method:"ready"})}},{key:"initPlayer",value:function(){this.player=new r.a("player",{autoPlay:this.autoPlay})}},{key:"handleMessage",value:function(e){if(e.origin!==this.embedOrigin&&e.origin!==window.origin)return!0;var t=e.data;try{"string"===typeof t&&(t=JSON.parse(t.replace("/*framebus*/","")))}catch(n){return!0}if("object"!==typeof t||!t.slideslive)return!0;if(!this.player)return!0;switch(t.method){case"play":this.player.play();break;case"pause":this.player.pause();break;case"toggle":this.player.toggle();break;case"seekTo":this.player.seekTo(t.time);break;case"seekToSlide":this.player.seekToSlide(t.slide);break;case"setVolume":this.player.volume=t.value;break;case"nextSlide":this.player.nextSlide();break;case"prevSlide":this.player.prevSlide();break;case"syncVideoToSlide":this.player.syncVideoToSlides();break;case"syncSlideToVideo":this.player.syncSlidesToVideo();break;case"getSlideUrl":this.player.getSlideUrlFromEmbed(t.slide);break;case"setAvailableSize":null!=this.player.setAvailableSize&&this.player.setAvailableSize(t.height);break;case"setPlaybackRate":this.player.playbackRate=t.rate}return!0}},{key:"messageListenerId",get:function(){return this.props.messageListenerId},set:function(e){this.props.messageListenerId=e}},{key:"player",get:function(){return this.props.player},set:function(e){this.props.player=e}},{key:"autoPlay",get:function(){return this.element.dataset.autoPlay&&"false"!==this.element.dataset.autoPlay}}])&&s(t.prototype,n),i&&s(t,i),h}(i.default)},1068:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var i=n(186),r=n(0);n(1069);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return(s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var r=d(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p={resizeListenerId:null,messageListenerId:null},f=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(f,e);var t,n,i,c=u(f);function f(){return a(this,f),c.apply(this,arguments)}return t=f,(n=[{key:"initialize",value:function(){s(d(f.prototype),"initialize",this).call(this,p),this.sendSizeToParent(),this.onLoad()}},{key:"connect",value:function(){this.messageListenerId=Object(r.a)(window,"message onmessage",this.handleMessage.bind(this)),this.resizeListenerId=Object(r.a)(window,"resize",this.sendSizeToParent.bind(this))}},{key:"disconnect",value:function(){Object(r.hb)(window,{id:this.messageListenerId}),Object(r.hb)(window,{id:this.resizeListenerId})}},{key:"onLoad",value:function(){""!==this.element.dataset.targetId&&""!==this.element.dataset.origin&&this.sendMessage({targetId:this.element.dataset.targetId,method:"load"})}},{key:"sendSizeToParent",value:function(){""!==this.element.dataset.targetId&&""!==this.element.dataset.origin&&this.sendMessage({targetId:this.element.dataset.targetId,method:"setSize",width:"100%",height:this.element.offsetHeight+60})}},{key:"handleMessage",value:function(e){if(e.origin!==this.embedOrigin&&e.origin!==window.origin)return!0;var t=e.data;try{"string"===typeof t&&(t=JSON.parse(t.replace("/*framebus*/","")))}catch(n){return!0}return"object"!==typeof t||!t.slideslive||("thirdPartyCookiesSupport"!==t.method||t.supported||(this.targets.has("cookies")&&Object(r.nb)(this.targets.find("cookies")),this.targets.has("form")&&Object(r.J)(this.targets.find("form"))),!0)}},{key:"resizeListenerId",get:function(){return this.props.resizeListenerId},set:function(e){this.props.resizeListenerId=e}},{key:"messageListenerId",get:function(){return this.props.messageListenerId},set:function(e){this.props.messageListenerId=e}}])&&o(t.prototype,n),i&&o(t,i),f}(i.default)},1069:function(e,t,n){e.exports={container:"d2ViL2VtYmVkX25vdF9hbGxvd2VkL2NvbnRhaW5lcg__container"}},107:function(e,t,n){(function(e){function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(function(e,t,r){"use strict";var a=function e(t,n,i){i=o.extend({},o.options,i);var r=o.runValidations(t,n,i);if(r.some((function(e){return o.isPromise(e.error)})))throw new Error("Use validate.async if you want support for promises");return e.processValidationResults(r,i)},o=a;o.extend=function(e){return[].slice.call(arguments,1).forEach((function(t){for(var n in t)e[n]=t[n]})),e},o.extend(a,{version:{major:0,minor:12,patch:0,metadata:null,toString:function(){var e=o.format("%{major}.%{minor}.%{patch}",o.version);return o.isEmpty(o.version.metadata)||(e+="+"+o.version.metadata),e}},Promise:"undefined"!==typeof Promise?Promise:null,EMPTY_STRING_REGEXP:/^\s*$/,runValidations:function(e,t,n){var i,r,a,s,l,u,c,d=[];for(i in(o.isDomElement(e)||o.isJqueryElement(e))&&(e=o.collectFormValues(e)),t)for(r in a=o.getDeepObjectValue(e,i),s=o.result(t[i],a,e,i,n,t)){if(!(l=o.validators[r]))throw c=o.format("Unknown validator %{name}",{name:r}),new Error(c);u=s[r],(u=o.result(u,a,e,i,n,t))&&d.push({attribute:i,value:a,validator:r,globalOptions:n,attributes:e,options:u,error:l.call(l,a,u,i,e,n)})}return d},processValidationResults:function(e,t){e=o.pruneEmptyErrors(e,t),e=o.expandMultipleErrors(e,t),e=o.convertErrorMessages(e,t);var n=t.format||"grouped";if("function"!==typeof o.formatters[n])throw new Error(o.format("Unknown format %{format}",t));return e=o.formatters[n](e),o.isEmpty(e)?void 0:e},async:function(e,t,n){var i=(n=o.extend({},o.async.options,n)).wrapErrors||function(e){return e};!1!==n.cleanAttributes&&(e=o.cleanAttributes(e,t));var r=o.runValidations(e,t,n);return new o.Promise((function(a,s){o.waitForResults(r).then((function(){var l=o.processValidationResults(r,n);l?s(new i(l,n,e,t)):a(e)}),(function(e){s(e)}))}))},single:function(e,t,n){return n=o.extend({},o.single.options,n,{format:"flat",fullMessages:!1}),o({single:e},{single:t},n)},waitForResults:function(e){return e.reduce((function(e,t){return o.isPromise(t.error)?e.then((function(){return t.error.then((function(e){t.error=e||null}))})):e}),new o.Promise((function(e){e()})))},result:function(e){var t=[].slice.call(arguments,1);return"function"===typeof e&&(e=e.apply(null,t)),e},isNumber:function(e){return"number"===typeof e&&!isNaN(e)},isFunction:function(e){return"function"===typeof e},isInteger:function(e){return o.isNumber(e)&&e%1===0},isBoolean:function(e){return"boolean"===typeof e},isObject:function(e){return e===Object(e)},isDate:function(e){return e instanceof Date},isDefined:function(e){return null!==e&&void 0!==e},isPromise:function(e){return!!e&&o.isFunction(e.then)},isJqueryElement:function(e){return e&&o.isString(e.jquery)},isDomElement:function(e){return!!e&&(!(!e.querySelectorAll||!e.querySelector)&&(!(!o.isObject(document)||e!==document)||("object"===("undefined"===typeof HTMLElement?"undefined":i(HTMLElement))?e instanceof HTMLElement:e&&"object"===i(e)&&null!==e&&1===e.nodeType&&"string"===typeof e.nodeName)))},isEmpty:function(e){var t;if(!o.isDefined(e))return!0;if(o.isFunction(e))return!1;if(o.isString(e))return o.EMPTY_STRING_REGEXP.test(e);if(o.isArray(e))return 0===e.length;if(o.isDate(e))return!1;if(o.isObject(e)){for(t in e)return!1;return!0}return!1},format:o.extend((function(e,t){return o.isString(e)?e.replace(o.format.FORMAT_REGEXP,(function(e,n,i){return"%"===n?"%{"+i+"}":String(t[i])})):e}),{FORMAT_REGEXP:/(%?)%\{([^\}]+)\}/g}),prettify:function(e){return o.isNumber(e)?100*e%1===0?""+e:parseFloat(Math.round(100*e)/100).toFixed(2):o.isArray(e)?e.map((function(e){return o.prettify(e)})).join(", "):o.isObject(e)?e.toString():(e=""+e).replace(/([^\s])\.([^\s])/g,"$1 $2").replace(/\\+/g,"").replace(/[_-]/g," ").replace(/([a-z])([A-Z])/g,(function(e,t,n){return t+" "+n.toLowerCase()})).toLowerCase()},stringifyValue:function(e,t){return(t&&t.prettify||o.prettify)(e)},isString:function(e){return"string"===typeof e},isArray:function(e){return"[object Array]"==={}.toString.call(e)},isHash:function(e){return o.isObject(e)&&!o.isArray(e)&&!o.isFunction(e)},contains:function(e,t){return!!o.isDefined(e)&&(o.isArray(e)?-1!==e.indexOf(t):t in e)},unique:function(e){return o.isArray(e)?e.filter((function(e,t,n){return n.indexOf(e)==t})):e},forEachKeyInKeypath:function(e,t,n){if(o.isString(t)){var i,r="",a=!1;for(i=0;i<t.length;++i)switch(t[i]){case".":a?(a=!1,r+="."):(e=n(e,r,!1),r="");break;case"\\":a?(a=!1,r+="\\"):a=!0;break;default:a=!1,r+=t[i]}return n(e,r,!0)}},getDeepObjectValue:function(e,t){if(o.isObject(e))return o.forEachKeyInKeypath(e,t,(function(e,t){if(o.isObject(e))return e[t]}))},collectFormValues:function(e,t){var n,i,r,a,s,l,u={};if(o.isJqueryElement(e)&&(e=e[0]),!e)return u;for(t=t||{},a=e.querySelectorAll("input[name], textarea[name]"),n=0;n<a.length;++n)r=a.item(n),o.isDefined(r.getAttribute("data-ignored"))||(name=r.name.replace(/\./g,"\\\\."),l=o.sanitizeFormValue(r.value,t),"number"===r.type?l=l?+l:null:"checkbox"===r.type?r.attributes.value?r.checked||(l=u[name]||null):l=r.checked:"radio"===r.type&&(r.checked||(l=u[name]||null)),u[name]=l);for(a=e.querySelectorAll("select[name]"),n=0;n<a.length;++n)if(r=a.item(n),!o.isDefined(r.getAttribute("data-ignored"))){if(r.multiple)for(i in l=[],r.options)(s=r.options[i])&&s.selected&&l.push(o.sanitizeFormValue(s.value,t));else{var c="undefined"!==typeof r.options[r.selectedIndex]?r.options[r.selectedIndex].value:"";l=o.sanitizeFormValue(c,t)}u[r.name]=l}return u},sanitizeFormValue:function(e,t){return t.trim&&o.isString(e)&&(e=e.trim()),!1!==t.nullify&&""===e?null:e},capitalize:function(e){return o.isString(e)?e[0].toUpperCase()+e.slice(1):e},pruneEmptyErrors:function(e){return e.filter((function(e){return!o.isEmpty(e.error)}))},expandMultipleErrors:function(e){var t=[];return e.forEach((function(e){o.isArray(e.error)?e.error.forEach((function(n){t.push(o.extend({},e,{error:n}))})):t.push(e)})),t},convertErrorMessages:function(e,t){var n=[],i=(t=t||{}).prettify||o.prettify;return e.forEach((function(e){var r=o.result(e.error,e.value,e.attribute,e.options,e.attributes,e.globalOptions);o.isString(r)?("^"===r[0]?r=r.slice(1):!1!==t.fullMessages&&(r=o.capitalize(i(e.attribute))+" "+r),r=r.replace(/\\\^/g,"^"),r=o.format(r,{value:o.stringifyValue(e.value,t)}),n.push(o.extend({},e,{error:r}))):n.push(e)})),n},groupErrorsByAttribute:function(e){var t={};return e.forEach((function(e){var n=t[e.attribute];n?n.push(e):t[e.attribute]=[e]})),t},flattenErrorsToArray:function(e){return e.map((function(e){return e.error})).filter((function(e,t,n){return n.indexOf(e)===t}))},cleanAttributes:function(e,t){function n(e,t,n){return o.isObject(e[t])?e[t]:e[t]=!!n||{}}return o.isObject(t)&&o.isObject(e)?function e(t,n){if(!o.isObject(t))return t;var i,r,a=o.extend({},t);for(r in t)i=n[r],o.isObject(i)?a[r]=e(a[r],i):i||delete a[r];return a}(e,t=function(e){var t,i={};for(t in e)e[t]&&o.forEachKeyInKeypath(i,t,n);return i}(t)):{}},exposeModule:function(e,t,n,i,r){n?(i&&i.exports&&(n=i.exports=e),n.validate=e):(t.validate=e,e.isFunction(r)&&r.amd&&r([],(function(){return e})))},warn:function(e){"undefined"!==typeof console&&console.warn&&console.warn("[validate.js] "+e)},error:function(e){"undefined"!==typeof console&&console.error&&console.error("[validate.js] "+e)}}),a.validators={presence:function(e,t){if(!1!==(t=o.extend({},this.options,t)).allowEmpty?!o.isDefined(e):o.isEmpty(e))return t.message||this.message||"can't be blank"},length:function(e,t,n){if(o.isDefined(e)){var i,r=(t=o.extend({},this.options,t)).is,a=t.maximum,s=t.minimum,l=[],u=(e=(t.tokenizer||function(e){return e})(e)).length;return o.isNumber(u)?(o.isNumber(r)&&u!==r&&(i=t.wrongLength||this.wrongLength||"is the wrong length (should be %{count} characters)",l.push(o.format(i,{count:r}))),o.isNumber(s)&&u<s&&(i=t.tooShort||this.tooShort||"is too short (minimum is %{count} characters)",l.push(o.format(i,{count:s}))),o.isNumber(a)&&u>a&&(i=t.tooLong||this.tooLong||"is too long (maximum is %{count} characters)",l.push(o.format(i,{count:a}))),l.length>0?t.message||l:void 0):(o.error(o.format("Attribute %{attr} has a non numeric value for `length`",{attr:n})),t.message||this.notValid||"has an incorrect length")}},numericality:function(e,t,n,i,r){if(o.isDefined(e)){var a,s,l=[],u={greaterThan:function(e,t){return e>t},greaterThanOrEqualTo:function(e,t){return e>=t},equalTo:function(e,t){return e===t},lessThan:function(e,t){return e<t},lessThanOrEqualTo:function(e,t){return e<=t},divisibleBy:function(e,t){return e%t===0}},c=(t=o.extend({},this.options,t)).prettify||r&&r.prettify||o.prettify;if(o.isString(e)&&t.strict){var d="^-?(0|[1-9]\\d*)";if(t.onlyInteger||(d+="(\\.\\d+)?"),d+="$",!new RegExp(d).test(e))return t.message||t.notValid||this.notValid||this.message||"must be a valid number"}if(!0!==t.noStrings&&o.isString(e)&&!o.isEmpty(e)&&(e=+e),!o.isNumber(e))return t.message||t.notValid||this.notValid||this.message||"is not a number";if(t.onlyInteger&&!o.isInteger(e))return t.message||t.notInteger||this.notInteger||this.message||"must be an integer";for(a in u)if(s=t[a],o.isNumber(s)&&!u[a](e,s)){var p="not"+o.capitalize(a),f=t[p]||this[p]||this.message||"must be %{type} %{count}";l.push(o.format(f,{count:s,type:c(a)}))}return t.odd&&e%2!==1&&l.push(t.notOdd||this.notOdd||this.message||"must be odd"),t.even&&e%2!==0&&l.push(t.notEven||this.notEven||this.message||"must be even"),l.length?t.message||l:void 0}},datetime:o.extend((function(e,t){if(!o.isFunction(this.parse)||!o.isFunction(this.format))throw new Error("Both the parse and format functions needs to be set to use the datetime/date validator");if(o.isDefined(e)){var n,i=[],r=(t=o.extend({},this.options,t)).earliest?this.parse(t.earliest,t):NaN,a=t.latest?this.parse(t.latest,t):NaN;return e=this.parse(e,t),isNaN(e)||t.dateOnly&&e%864e5!==0?(n=t.notValid||t.message||this.notValid||"must be a valid date",o.format(n,{value:arguments[0]})):(!isNaN(r)&&e<r&&(n=t.tooEarly||t.message||this.tooEarly||"must be no earlier than %{date}",n=o.format(n,{value:this.format(e,t),date:this.format(r,t)}),i.push(n)),!isNaN(a)&&e>a&&(n=t.tooLate||t.message||this.tooLate||"must be no later than %{date}",n=o.format(n,{date:this.format(a,t),value:this.format(e,t)}),i.push(n)),i.length?o.unique(i):void 0)}}),{parse:null,format:null}),date:function(e,t){return t=o.extend({},t,{dateOnly:!0}),o.validators.datetime.call(o.validators.datetime,e,t)},format:function(e,t){(o.isString(t)||t instanceof RegExp)&&(t={pattern:t});var n,i=(t=o.extend({},this.options,t)).message||this.message||"is invalid",r=t.pattern;if(o.isDefined(e))return o.isString(e)?(o.isString(r)&&(r=new RegExp(t.pattern,t.flags)),(n=r.exec(e))&&n[0].length==e.length?void 0:i):i},inclusion:function(e,t){if(o.isDefined(e)&&(o.isArray(t)&&(t={within:t}),t=o.extend({},this.options,t),!o.contains(t.within,e))){var n=t.message||this.message||"^%{value} is not included in the list";return o.format(n,{value:e})}},exclusion:function(e,t){if(o.isDefined(e)&&(o.isArray(t)&&(t={within:t}),t=o.extend({},this.options,t),o.contains(t.within,e))){var n=t.message||this.message||"^%{value} is restricted";return o.format(n,{value:e})}},email:o.extend((function(e,t){var n=(t=o.extend({},this.options,t)).message||this.message||"is not a valid email";if(o.isDefined(e))return o.isString(e)&&this.PATTERN.exec(e)?void 0:n}),{PATTERN:/^[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z]{2,}$/i}),equality:function(e,t,n,i,r){if(o.isDefined(e)){o.isString(t)&&(t={attribute:t});var a=(t=o.extend({},this.options,t)).message||this.message||"is not equal to %{attribute}";if(o.isEmpty(t.attribute)||!o.isString(t.attribute))throw new Error("The attribute must be a non empty string");var s=o.getDeepObjectValue(i,t.attribute),l=t.comparator||function(e,t){return e===t},u=t.prettify||r&&r.prettify||o.prettify;return l(e,s,t,n,i)?void 0:o.format(a,{attribute:u(t.attribute)})}},url:function(e,t){if(o.isDefined(e)){var n=(t=o.extend({},this.options,t)).message||this.message||"is not a valid url",i=t.schemes||this.schemes||["http","https"],r=t.allowLocal||this.allowLocal||!1;if(!o.isString(e))return n;var a="^(?:(?:"+i.join("|")+")://)(?:\\S+(?::\\S*)?@)?(?:",s="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))";return r?s+="?":a+="(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})",a+="(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*"+s+")(?::\\d{2,5})?(?:[/?#]\\S*)?$",new RegExp(a,"i").exec(e)?void 0:n}}},a.formatters={detailed:function(e){return e},flat:o.flattenErrorsToArray,grouped:function(e){var t;for(t in e=o.groupErrorsByAttribute(e))e[t]=o.flattenErrorsToArray(e[t]);return e},constraint:function(e){var t;for(t in e=o.groupErrorsByAttribute(e))e[t]=e[t].map((function(e){return e.validator})).sort();return e}},a.exposeModule(a,this,e,t,n(158))}).call(this,t,e,n(158))}).call(this,n(66)(e))},1070:function(e,t,n){"use strict";n.r(t);n(1071)},1071:function(e,t,n){e.exports={container:"d2ViL2VtYmVkX25vdF9hbGxvd2VkL2hlYWRlcg__container",title:"d2ViL2VtYmVkX25vdF9hbGxvd2VkL2hlYWRlcg__title"}},1078:function(e,t,n){var i={"./background_fixed_component.js":232};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=1078},113:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var i=n(3),r=n(0),a=n(92);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,s,l;return n=t,l=[{key:"application",value:function(){return e.application_||(e.application_=i.a.start()),e.application_}},{key:"registerContext",value:function(e){var t=Object(r.T)(e)?function(e){var t=e.context,n=e.suffix,i=void 0===n?"controller":n,r=e.useNamespaces,o=void 0!==r&&r,s=e.topNamespace,l={suffix:i,useNamespaces:o,topNamespace:void 0===s?null:s};return Object(a.a)(t,l)}(e):Object(a.a)(e);this.application().load(t)}},{key:"register",value:function(e,t){this.application().register(e,t)}}],(s=null)&&o(n.prototype,s),l&&o(n,l),t}()}).call(this,n(20))},114:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"/>\n  <path d="M0 0h24v24H0z" fill="none"/>\n</svg>\n'},115:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>\n  <path d="M0 0h24v24H0z" fill="none"/>\n</svg>\n'},116:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path fill="none" d="M0 0h24v24H0V0z"/>\n  <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/>\n</svg>\n'},117:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path fill="none" d="M0 0h24v24H0V0z"/>\n  <path d="M19 7H5v10h14zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18z"/>\n</svg>\n'},118:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <circle cx="9" cy="9" r="4"/>\n  <path d="M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm7.76-9.64l-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14z"/>\n  <path fill="none" d="M0 0h24v24H0z"/>\n</svg>\n'},119:function(e,t,n){"use strict";(function(e){for(var n="undefined"!==typeof window&&"undefined"!==typeof document,i=["Edge","Trident","Firefox"],r=0,a=0;a<i.length;a+=1)if(n&&navigator.userAgent.indexOf(i[a])>=0){r=1;break}var o=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}};function s(e){return e&&"[object Function]"==={}.toString.call(e)}function l(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function u(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function c(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=l(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?e:c(u(e))}var d=n&&!(!window.MSInputMethodContext||!document.documentMode),p=n&&/MSIE 10/.test(navigator.userAgent);function f(e){return 11===e?d:10===e?p:d||p}function h(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===l(n,"position")?h(n):n:e?e.ownerDocument.documentElement:document.documentElement}function m(e){return null!==e.parentNode?m(e.parentNode):e}function v(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,r=n?t:e,a=document.createRange();a.setStart(i,0),a.setEnd(r,0);var o,s,l=a.commonAncestorContainer;if(e!==l&&t!==l||i.contains(r))return"BODY"===(s=(o=l).nodeName)||"HTML"!==s&&h(o.firstElementChild)!==o?h(l):l;var u=m(e);return u.host?v(u.host,t):v(e,m(t).host)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){var r=e.ownerDocument.documentElement,a=e.ownerDocument.scrollingElement||r;return a[n]}return e[n]}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=y(t,"top"),r=y(t,"left"),a=n?-1:1;return e.top+=i*a,e.bottom+=i*a,e.left+=r*a,e.right+=r*a,e}function g(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+i+"Width"],10)}function k(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],f(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function w(e){var t=e.body,n=e.documentElement,i=f(10)&&getComputedStyle(n);return{height:k("Height",t,n,i),width:k("Width",t,n,i)}}var _=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},S=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),T=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function O(e){return x({},e,{right:e.left+e.width,bottom:e.top+e.height})}function E(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var n=y(e,"top"),i=y(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch(p){}var r={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?w(e.ownerDocument):{},o=a.width||e.clientWidth||r.right-r.left,s=a.height||e.clientHeight||r.bottom-r.top,u=e.offsetWidth-o,c=e.offsetHeight-s;if(u||c){var d=l(e);u-=g(d,"x"),c-=g(d,"y"),r.width-=u,r.height-=c}return O(r)}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=f(10),r="HTML"===t.nodeName,a=E(e),o=E(t),s=c(e),u=l(t),d=parseFloat(u.borderTopWidth,10),p=parseFloat(u.borderLeftWidth,10);n&&r&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var h=O({top:a.top-o.top-d,left:a.left-o.left-p,width:a.width,height:a.height});if(h.marginTop=0,h.marginLeft=0,!i&&r){var m=parseFloat(u.marginTop,10),v=parseFloat(u.marginLeft,10);h.top-=d-m,h.bottom-=d-m,h.left-=p-v,h.right-=p-v,h.marginTop=m,h.marginLeft=v}return(i&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(h=b(h,t)),h}function C(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=P(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:y(n),s=t?0:y(n,"left"),l={top:o-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:r,height:a};return O(l)}function A(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===l(e,"position"))return!0;var n=u(e);return!!n&&A(n)}function I(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===l(t,"transform");)t=t.parentElement;return t||document.documentElement}function j(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},o=r?I(e):v(e,t);if("viewport"===i)a=C(o,r);else{var s=void 0;"scrollParent"===i?"BODY"===(s=c(u(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===i?e.ownerDocument.documentElement:i;var l=P(s,o,r);if("HTML"!==s.nodeName||A(o))a=l;else{var d=w(e.ownerDocument),p=d.height,f=d.width;a.top+=l.top-l.marginTop,a.bottom=p+l.top,a.left+=l.left-l.marginLeft,a.right=f+l.left}}var h="number"===typeof(n=n||0);return a.left+=h?n:n.left||0,a.top+=h?n:n.top||0,a.right-=h?n:n.right||0,a.bottom-=h?n:n.bottom||0,a}function L(e){return e.width*e.height}function M(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=j(n,i,a,r),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},l=Object.keys(s).map((function(e){return x({key:e},s[e],{area:L(s[e])})})).sort((function(e,t){return t.area-e.area})),u=l.filter((function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight})),c=u.length>0?u[0].key:l[0].key,d=e.split("-")[1];return c+(d?"-"+d:"")}function R(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=i?I(t):v(t,n);return P(n,r,i)}function D(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function N(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function U(e,t,n){n=n.split("-")[0];var i=D(e),r={width:i.width,height:i.height},a=-1!==["right","left"].indexOf(n),o=a?"top":"left",s=a?"left":"top",l=a?"height":"width",u=a?"width":"height";return r[o]=t[o]+t[l]/2-i[l]/2,r[s]=n===s?t[s]-i[u]:t[N(s)],r}function V(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function F(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var i=V(e,(function(e){return e[t]===n}));return e.indexOf(i)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&s(n)&&(t.offsets.popper=O(t.offsets.popper),t.offsets.reference=O(t.offsets.reference),t=n(t,e))})),t}function B(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=R(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=M(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=U(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=F(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function H(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function z(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var r=t[i],a=r?""+r+n:e;if("undefined"!==typeof document.body.style[a])return a}return null}function q(){return this.state.isDestroyed=!0,H(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[z("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function K(e){var t=e.ownerDocument;return t?t.defaultView:window}function W(e,t,n,i){var r="BODY"===e.nodeName,a=r?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:!0}),r||W(c(a.parentNode),t,n,i),i.push(a)}function X(e,t,n,i){n.updateBound=i,K(e).addEventListener("resize",n.updateBound,{passive:!0});var r=c(e);return W(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function G(){this.state.eventsEnabled||(this.state=X(this.reference,this.options,this.state,this.scheduleUpdate))}function Y(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,K(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Q(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function $(e,t){Object.keys(t).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Q(t[n])&&(i="px"),e.style[n]=t[n]+i}))}var J=n&&/Firefox/i.test(navigator.userAgent);function Z(e,t,n){var i=V(e,(function(e){return e.name===t})),r=!!i&&e.some((function(e){return e.name===n&&e.enabled&&e.order<i.order}));if(!r){var a="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return r}var ee=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],te=ee.slice(3);function ne(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=te.indexOf(e),i=te.slice(n+1).concat(te.slice(0,n));return t?i.reverse():i}var ie="flip",re="clockwise",ae="counterclockwise";function oe(e,t,n,i){var r=[0,0],a=-1!==["right","left"].indexOf(i),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=o.indexOf(V(o,(function(e){return-1!==e.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==s?[o.slice(0,s).concat([o[s].split(l)[0]]),[o[s].split(l)[1]].concat(o.slice(s+1))]:[o];return(u=u.map((function(e,i){var r=(1===i?!a:a)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,i){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+r[1],o=r[2];if(!a)return e;if(0===o.indexOf("%")){var s=void 0;switch(o){case"%p":s=n;break;case"%":case"%r":default:s=i}return O(s)[t]/100*a}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a;return a}(e,r,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,i){Q(n)&&(r[t]+=n*("-"===e[i-1]?-1:1))}))})),r}var se={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var r=e.offsets,a=r.reference,o=r.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",u=s?"width":"height",c={start:T({},l,a[l]),end:T({},l,a[l]+a[u]-o[u])};e.offsets.popper=x({},o,c[i])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,i=e.placement,r=e.offsets,a=r.popper,o=r.reference,s=i.split("-")[0],l=void 0;return l=Q(+n)?[+n,0]:oe(n,a,o,s),"left"===s?(a.top+=l[0],a.left-=l[1]):"right"===s?(a.top+=l[0],a.left+=l[1]):"top"===s?(a.left+=l[0],a.top-=l[1]):"bottom"===s&&(a.left+=l[0],a.top+=l[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||h(e.instance.popper);e.instance.reference===n&&(n=h(n));var i=z("transform"),r=e.instance.popper.style,a=r.top,o=r.left,s=r[i];r.top="",r.left="",r[i]="";var l=j(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);r.top=a,r.left=o,r[i]=s,t.boundaries=l;var u=t.priority,c=e.offsets.popper,d={primary:function(e){var n=c[e];return c[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(c[e],l[e])),T({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=c[n];return c[e]>l[e]&&!t.escapeWithReference&&(i=Math.min(c[n],l[e]-("right"===e?c.width:c.height))),T({},n,i)}};return u.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=x({},c,d[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,r=e.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(r),s=o?"right":"bottom",l=o?"left":"top",u=o?"width":"height";return n[s]<a(i[l])&&(e.offsets.popper[l]=a(i[l])-n[u]),n[l]>a(i[s])&&(e.offsets.popper[l]=a(i[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Z(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"===typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],a=e.offsets,o=a.popper,s=a.reference,u=-1!==["left","right"].indexOf(r),c=u?"height":"width",d=u?"Top":"Left",p=d.toLowerCase(),f=u?"left":"top",h=u?"bottom":"right",m=D(i)[c];s[h]-m<o[p]&&(e.offsets.popper[p]-=o[p]-(s[h]-m)),s[p]+m>o[h]&&(e.offsets.popper[p]+=s[p]+m-o[h]),e.offsets.popper=O(e.offsets.popper);var v=s[p]+s[c]/2-m/2,y=l(e.instance.popper),b=parseFloat(y["margin"+d],10),g=parseFloat(y["border"+d+"Width"],10),k=v-e.offsets.popper[p]-b-g;return k=Math.max(Math.min(o[c]-m,k),0),e.arrowElement=i,e.offsets.arrow=(T(n={},p,Math.round(k)),T(n,f,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(H(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=j(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),i=e.placement.split("-")[0],r=N(i),a=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case ie:o=[i,r];break;case re:o=ne(i);break;case ae:o=ne(i,!0);break;default:o=t.behavior}return o.forEach((function(s,l){if(i!==s||o.length===l+1)return e;i=e.placement.split("-")[0],r=N(i);var u=e.offsets.popper,c=e.offsets.reference,d=Math.floor,p="left"===i&&d(u.right)>d(c.left)||"right"===i&&d(u.left)<d(c.right)||"top"===i&&d(u.bottom)>d(c.top)||"bottom"===i&&d(u.top)<d(c.bottom),f=d(u.left)<d(n.left),h=d(u.right)>d(n.right),m=d(u.top)<d(n.top),v=d(u.bottom)>d(n.bottom),y="left"===i&&f||"right"===i&&h||"top"===i&&m||"bottom"===i&&v,b=-1!==["top","bottom"].indexOf(i),g=!!t.flipVariations&&(b&&"start"===a&&f||b&&"end"===a&&h||!b&&"start"===a&&m||!b&&"end"===a&&v);(p||y||g)&&(e.flipped=!0,(p||y)&&(i=o[l+1]),g&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=i+(a?"-"+a:""),e.offsets.popper=x({},e.offsets.popper,U(e.instance.popper,e.offsets.reference,e.placement)),e=F(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,r=i.popper,a=i.reference,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return r[o?"left":"top"]=a[n]-(s?r[o?"width":"height"]:0),e.placement=N(t),e.offsets.popper=O(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Z(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=V(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,r=e.offsets.popper,a=V(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:t.gpuAcceleration,s=h(e.instance.popper),l=E(s),u={position:r.position},c=function(e,t){var n=e.offsets,i=n.popper,r=n.reference,a=Math.round,o=Math.floor,s=function(e){return e},l=a(r.width),u=a(i.width),c=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),p=t?c||d||l%2===u%2?a:o:s,f=t?a:s;return{left:p(l%2===1&&u%2===1&&!d&&t?i.left-1:i.left),top:f(i.top),bottom:f(i.bottom),right:p(i.right)}}(e,window.devicePixelRatio<2||!J),d="bottom"===n?"top":"bottom",p="right"===i?"left":"right",f=z("transform"),m=void 0,v=void 0;if(v="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-l.height+c.bottom:c.top,m="right"===p?"HTML"===s.nodeName?-s.clientWidth+c.right:-l.width+c.right:c.left,o&&f)u[f]="translate3d("+m+"px, "+v+"px, 0)",u[d]=0,u[p]=0,u.willChange="transform";else{var y="bottom"===d?-1:1,b="right"===p?-1:1;u[d]=v*y,u[p]=m*b,u.willChange=d+", "+p}var g={"x-placement":e.placement};return e.attributes=x({},g,e.attributes),e.styles=x({},u,e.styles),e.arrowStyles=x({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return $(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&$(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,r){var a=R(r,t,e,n.positionFixed),o=M(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),$(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},le=function(){function e(t,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=o(this.update.bind(this)),this.options=x({},e.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(x({},e.Defaults.modifiers,r.modifiers)).forEach((function(t){i.options.modifiers[t]=x({},e.Defaults.modifiers[t]||{},r.modifiers?r.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return x({name:e},i.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&s(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return S(e,[{key:"update",value:function(){return B.call(this)}},{key:"destroy",value:function(){return q.call(this)}},{key:"enableEventListeners",value:function(){return G.call(this)}},{key:"disableEventListeners",value:function(){return Y.call(this)}}]),e}();le.Utils=("undefined"!==typeof window?window:e).PopperUtils,le.placements=ee,le.Defaults=se,t.a=le}).call(this,n(20))},12:function(e,t,n){"use strict";t.a=function(e){return window.jQuery&&e instanceof jQuery||window.$&&e instanceof $?e[0]:e}},120:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(0),r=n(1);function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.options={},this.addOptions(n),this.options.offline&&(this.options.disableTracking=!0),Object(r.a)("OPTIONS",this.data)}var t,n,o;return t=e,(n=[{key:"addOptions",value:function(e){var t,n=document.querySelector('meta[name="ben-base-url"]');Object(i.U)(n)&&(t=n.content),this.setOption("benBaseUrl",t||""),this.addStringOption(e,"presentationId",void 0,"presentationId"),this.addBooleanOption(e,"offline",!1),this.addBooleanOption(e,"disableTracking",!1),this.addBooleanOption(e,"showThumbnail",!0),this.addBooleanOption(e,"editor",!1),this.addIntegerOption(e,"maxHeight"),this.addBooleanOption(e,"autoLoad",!0),this.addBooleanOption(e,"demo",!1,"demo","demo"),this.addBooleanOption(e,"autoPlay",!1,"autoPlay"),this.addTimeOption(e,"startTime",0,"startTime","time"),this.addIntegerOption(e,"startSlide",0,"startSlide","slide"),this.addBooleanOption(e,"hideTitle",!1),this.addBooleanOption(e,"titleLink",!0),this.addBooleanOption(e,"disableFullscreen",!1,"disableFullscreen"),this.addFloatOption(e,"zoomRatio",void 0,"zoomRatio"),this.addStringOption(e,"zoomSliderColor",void 0,"zoomSliderColor"),this.addStringOption(e,"zoomHandleColor",void 0,"zoomHandleColor"),this.addStringOption(e,"locale","en","locale"),this.addBooleanOption(e,"verticalEnabled",window===window.parent,"verticalEnabled"),this.addBooleanOption(e,"verticalEnabledOnMobile",window===window.parent,"verticalEnabledOnMobile"),this.addIntegerOption(e,"verticalDisabledWhenWidthGte",768,"verticalDisabledWhenWidthGte"),this.addIntegerOption(e,"verticalWhenWidthLte",null,"verticalWhenWidthLte"),this.addBooleanOption(e,"allowHiddenControlsWhenPaused",!1,"allowHiddenControlsWhenPaused"),this.addStringOption(e,"registrationId",void 0,"registrationId"),this.addStringOption(e,"defaultStreamQuality",void 0,"defaultStreamQuality","default_stream_quality"),this.addBooleanOption(e,"originalVideoControls",!1,void 0,"i_really_want_to_use_original_video_controls"),this.addBooleanOption(e,"m3u8",!1,void 0,"m3u8"),this.addStringOption(e,"playerErrorReportUrl",void 0,"playerErrorReportUrl")}},{key:"setOption",value:function(e,t){var n=this;this.options[e]=t,Object.defineProperty(this,e,{get:function(){return n.options[e]}})}},{key:"getRawOption",value:function(e,t,n,r){var a;if(Object(i.U)(e)&&Object(i.U)(t)&&Object(i.U)(e[t])&&(a=e[t]),Object(i.U)(n)&&Object(i.U)(this.element.dataset[n])&&(a=this.element.dataset[n]),Object(i.U)(r)){var o=Object(i.vb)(r);Object(i.U)(o)&&(a=o)}return a}},{key:"addStringOption",value:function(e,t,n,r,a){var o=this.getRawOption(e,t,r,a);Object(i.U)(o)||(o=n),this.setOption(t,o)}},{key:"addBooleanOption",value:function(e,t,n,r,a){var o=this.getRawOption(e,t,r,a);o=Object(i.U)(o)?!0===o||"function"===typeof o.toLowerCase&&("true"===o.toLowerCase()||"yes"===o.toLowerCase()):n,this.setOption(t,o)}},{key:"addIntegerOption",value:function(e,t,n,r,a){var o=this.getRawOption(e,t,r,a);o=Object(i.U)(o)?parseInt(o,10):n,this.setOption(t,o)}},{key:"addFloatOption",value:function(e,t,n,r,a){var o=this.getRawOption(e,t,r,a);o=Object(i.U)(o)?parseFloat(o):n,this.setOption(t,o)}},{key:"addTimeOption",value:function(e,t,n,r,a){var o=this.getRawOption(e,t,r,a);o=Object(i.U)(o)?1e3*Object(i.ab)(o):n,this.setOption(t,o)}},{key:"data",get:function(){return this.options}}])&&a(t.prototype,n),o&&a(t,o),e}()},121:function(e,t,n){var i,r,a;function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r=[],void 0===(a="function"===typeof(i=function(){"use strict";var e="12.1.0";function t(e){return"object"===o(e)&&"function"===typeof e.to&&"function"===typeof e.from}function n(e){e.parentElement.removeChild(e)}function i(e){return null!==e&&void 0!==e}function r(e){e.preventDefault()}function a(e){return e.filter((function(e){return!this[e]&&(this[e]=!0)}),{})}function s(e,t){return Math.round(e/t)*t}function l(e,t){var n=e.getBoundingClientRect(),i=e.ownerDocument,r=i.documentElement,a=y(i);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(a.x=0),t?n.top+a.y-r.clientTop:n.left+a.x-r.clientLeft}function u(e){return"number"===typeof e&&!isNaN(e)&&isFinite(e)}function c(e,t,n){n>0&&(h(e,t),setTimeout((function(){m(e,t)}),n))}function d(e){return Math.max(Math.min(e,100),0)}function p(e){return Array.isArray(e)?e:[e]}function f(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function h(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function m(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function v(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function y(e){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:n?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:n?e.documentElement.scrollTop:e.body.scrollTop}}function b(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function g(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(n){}return e}function k(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function w(e,t){return 100/(t-e)}function _(e,t){return 100*t/(e[1]-e[0])}function S(e,t){return _(e,e[0]<0?t+Math.abs(e[0]):t-e[0])}function T(e,t){return t*(e[1]-e[0])/100+e[0]}function x(e,t){for(var n=1;e>=t[n];)n+=1;return n}function O(e,t,n){if(n>=e.slice(-1)[0])return 100;var i=x(n,e),r=e[i-1],a=e[i],o=t[i-1],s=t[i];return o+S([r,a],n)/w(o,s)}function E(e,t,n){if(n>=100)return e.slice(-1)[0];var i=x(n,t),r=e[i-1],a=e[i],o=t[i-1];return T([r,a],(n-o)*w(o,t[i]))}function P(e,t,n,i){if(100===i)return i;var r=x(i,e),a=e[r-1],o=e[r];return n?i-a>(o-a)/2?o:a:t[r-1]?e[r-1]+s(i-e[r-1],t[r-1]):i}function C(t,n,i){var r;if("number"===typeof n&&(n=[n]),!Array.isArray(n))throw new Error("noUiSlider ("+e+"): 'range' contains invalid value.");if(!u(r="min"===t?0:"max"===t?100:parseFloat(t))||!u(n[0]))throw new Error("noUiSlider ("+e+"): 'range' value isn't numeric.");i.xPct.push(r),i.xVal.push(n[0]),r?i.xSteps.push(!isNaN(n[1])&&n[1]):isNaN(n[1])||(i.xSteps[0]=n[1]),i.xHighestCompleteStep.push(0)}function A(e,t,n){if(!t)return!0;n.xSteps[e]=_([n.xVal[e],n.xVal[e+1]],t)/w(n.xPct[e],n.xPct[e+1]);var i=(n.xVal[e+1]-n.xVal[e])/n.xNumSteps[e],r=Math.ceil(Number(i.toFixed(3))-1),a=n.xVal[e]+n.xNumSteps[e]*r;n.xHighestCompleteStep[e]=a}function I(e,t,n){var i;this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=t;var r=[];for(i in e)e.hasOwnProperty(i)&&r.push([e[i],i]);for(r.length&&"object"===o(r[0][0])?r.sort((function(e,t){return e[0][0]-t[0][0]})):r.sort((function(e,t){return e[0]-t[0]})),i=0;i<r.length;i++)C(r[i][1],r[i][0],this);for(this.xNumSteps=this.xSteps.slice(0),i=0;i<this.xNumSteps.length;i++)A(i,this.xNumSteps[i],this)}I.prototype.getMargin=function(t){var n=this.xNumSteps[0];if(n&&t/n%1!==0)throw new Error("noUiSlider ("+e+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&_(this.xVal,t)},I.prototype.toStepping=function(e){return e=O(this.xVal,this.xPct,e)},I.prototype.fromStepping=function(e){return E(this.xVal,this.xPct,e)},I.prototype.getStep=function(e){return e=P(this.xPct,this.xSteps,this.snap,e)},I.prototype.getNearbySteps=function(e){var t=x(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},I.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(f);return Math.max.apply(null,e)},I.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var j={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};function L(n){if(t(n))return!0;throw new Error("noUiSlider ("+e+"): 'format' requires 'to' and 'from' methods.")}function M(t,n){if(!u(n))throw new Error("noUiSlider ("+e+"): 'step' is not numeric.");t.singleStep=n}function R(t,n){if("object"!==o(n)||Array.isArray(n))throw new Error("noUiSlider ("+e+"): 'range' is not an object.");if(void 0===n.min||void 0===n.max)throw new Error("noUiSlider ("+e+"): Missing 'min' or 'max' in 'range'.");if(n.min===n.max)throw new Error("noUiSlider ("+e+"): 'range' 'min' and 'max' cannot be equal.");t.spectrum=new I(n,t.snap,t.singleStep)}function D(t,n){if(n=p(n),!Array.isArray(n)||!n.length)throw new Error("noUiSlider ("+e+"): 'start' option is incorrect.");t.handles=n.length,t.start=n}function N(t,n){if(t.snap=n,"boolean"!==typeof n)throw new Error("noUiSlider ("+e+"): 'snap' option must be a boolean.")}function U(t,n){if(t.animate=n,"boolean"!==typeof n)throw new Error("noUiSlider ("+e+"): 'animate' option must be a boolean.")}function V(t,n){if(t.animationDuration=n,"number"!==typeof n)throw new Error("noUiSlider ("+e+"): 'animationDuration' option must be a number.")}function F(t,n){var i,r=[!1];if("lower"===n?n=[!0,!1]:"upper"===n&&(n=[!1,!0]),!0===n||!1===n){for(i=1;i<t.handles;i++)r.push(n);r.push(!1)}else{if(!Array.isArray(n)||!n.length||n.length!==t.handles+1)throw new Error("noUiSlider ("+e+"): 'connect' option doesn't match handle count.");r=n}t.connect=r}function B(t,n){switch(n){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider ("+e+"): 'orientation' option is invalid.")}}function H(t,n){if(!u(n))throw new Error("noUiSlider ("+e+"): 'margin' option must be numeric.");if(0!==n&&(t.margin=t.spectrum.getMargin(n),!t.margin))throw new Error("noUiSlider ("+e+"): 'margin' option is only supported on linear sliders.")}function z(t,n){if(!u(n))throw new Error("noUiSlider ("+e+"): 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(n),!t.limit||t.handles<2)throw new Error("noUiSlider ("+e+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function q(t,n){if(!u(n)&&!Array.isArray(n))throw new Error("noUiSlider ("+e+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(n)&&2!==n.length&&!u(n[0])&&!u(n[1]))throw new Error("noUiSlider ("+e+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==n){if(Array.isArray(n)||(n=[n,n]),t.padding=[t.spectrum.getMargin(n[0]),t.spectrum.getMargin(n[1])],!1===t.padding[0]||!1===t.padding[1])throw new Error("noUiSlider ("+e+"): 'padding' option is only supported on linear sliders.");if(t.padding[0]<0||t.padding[1]<0)throw new Error("noUiSlider ("+e+"): 'padding' option must be a positive number(s).");if(t.padding[0]+t.padding[1]>=100)throw new Error("noUiSlider ("+e+"): 'padding' option must not exceed 100% of the range.")}}function K(t,n){switch(n){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider ("+e+"): 'direction' option was not recognized.")}}function W(t,n){if("string"!==typeof n)throw new Error("noUiSlider ("+e+"): 'behaviour' must be a string containing options.");var i=n.indexOf("tap")>=0,r=n.indexOf("drag")>=0,a=n.indexOf("fixed")>=0,o=n.indexOf("snap")>=0,s=n.indexOf("hover")>=0,l=n.indexOf("unconstrained")>=0;if(a){if(2!==t.handles)throw new Error("noUiSlider ("+e+"): 'fixed' behaviour must be used with 2 handles");H(t,t.start[1]-t.start[0])}if(l&&(t.margin||t.limit))throw new Error("noUiSlider ("+e+"): 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:i||o,drag:r,fixed:a,snap:o,hover:s,unconstrained:l}}function X(t,n){if(!1!==n)if(!0===n){t.tooltips=[];for(var i=0;i<t.handles;i++)t.tooltips.push(!0)}else{if(t.tooltips=p(n),t.tooltips.length!==t.handles)throw new Error("noUiSlider ("+e+"): must pass a formatter for all handles.");t.tooltips.forEach((function(t){if("boolean"!==typeof t&&("object"!==o(t)||"function"!==typeof t.to))throw new Error("noUiSlider ("+e+"): 'tooltips' must be passed a formatter or 'false'.")}))}}function G(e,t){e.ariaFormat=t,L(t)}function Y(e,t){e.format=t,L(t)}function Q(t,n){if(t.keyboardSupport=n,"boolean"!==typeof n)throw new Error("noUiSlider ("+e+"): 'keyboardSupport' option must be a boolean.")}function $(e,t){e.documentElement=t}function J(t,n){if("string"!==typeof n&&!1!==n)throw new Error("noUiSlider ("+e+"): 'cssPrefix' must be a string or `false`.");t.cssPrefix=n}function Z(t,n){if("object"!==o(n))throw new Error("noUiSlider ("+e+"): 'cssClasses' must be an object.");if("string"===typeof t.cssPrefix)for(var i in t.cssClasses={},n)n.hasOwnProperty(i)&&(t.cssClasses[i]=t.cssPrefix+n[i]);else t.cssClasses=n}function ee(t){var n={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:j,format:j},r={step:{r:!1,t:M},start:{r:!0,t:D},connect:{r:!0,t:F},direction:{r:!0,t:K},snap:{r:!1,t:N},animate:{r:!1,t:U},animationDuration:{r:!1,t:V},range:{r:!0,t:R},orientation:{r:!1,t:B},margin:{r:!1,t:H},limit:{r:!1,t:z},padding:{r:!1,t:q},behaviour:{r:!0,t:W},ariaFormat:{r:!1,t:G},format:{r:!1,t:Y},tooltips:{r:!1,t:X},keyboardSupport:{r:!0,t:Q},documentElement:{r:!1,t:$},cssPrefix:{r:!0,t:J},cssClasses:{r:!0,t:Z}},a={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(r).forEach((function(o){if(!i(t[o])&&void 0===a[o]){if(r[o].r)throw new Error("noUiSlider ("+e+"): '"+o+"' is required.");return!0}r[o].t(n,i(t[o])?t[o]:a[o])})),n.pips=t.pips;var o=document.createElement("div"),s=void 0!==o.style.msTransform,l=void 0!==o.style.transform;n.transformRule=l?"transform":s?"msTransform":"webkitTransform";var u=[["left","top"],["right","bottom"]];return n.style=u[n.dir][n.ort],n}function te(t,i,o){var s,u,f,w,_,S=b(),T=k()&&g(),x=t,O=[],E=[],P=0,C=i.spectrum,A=[],I={},j=t.ownerDocument,L=i.documentElement||j.documentElement,M=j.body,R=-1,D=0,N=1,U=2,V="rtl"===j.dir||1===i.ort?0:100;function F(e,t){var n=j.createElement("div");return t&&h(n,t),e.appendChild(n),n}function B(e,t){var n=F(e,i.cssClasses.origin),r=F(n,i.cssClasses.handle);return r.setAttribute("data-handle",t),i.keyboardSupport&&r.setAttribute("tabindex","0"),r.setAttribute("role","slider"),r.setAttribute("aria-orientation",i.ort?"vertical":"horizontal"),0===t?h(r,i.cssClasses.handleLower):t===i.handles-1&&h(r,i.cssClasses.handleUpper),n}function H(e,t){return!!t&&F(e,i.cssClasses.connect)}function z(e,t){var n=F(t,i.cssClasses.connects);u=[],(f=[]).push(H(n,e[0]));for(var r=0;r<i.handles;r++)u.push(B(t,r)),E[r]=r,f.push(H(n,e[r+1]))}function q(e){return h(e,i.cssClasses.target),0===i.dir?h(e,i.cssClasses.ltr):h(e,i.cssClasses.rtl),0===i.ort?h(e,i.cssClasses.horizontal):h(e,i.cssClasses.vertical),F(e,i.cssClasses.base)}function K(e,t){return!!i.tooltips[t]&&F(e.firstChild,i.cssClasses.tooltip)}function W(){var e=u.map(K);pe("update",(function(t,n,r){if(e[n]){var a=t[n];!0!==i.tooltips[n]&&(a=i.tooltips[n].to(r[n])),e[n].innerHTML=a}}))}function X(){pe("update",(function(e,t,n,r,a){E.forEach((function(e){var t=u[e],r=ve(O,e,0,!0,!0,!0),o=ve(O,e,100,!0,!0,!0),s=a[e],l=i.ariaFormat.to(n[e]);r=C.fromStepping(r).toFixed(1),o=C.fromStepping(o).toFixed(1),s=C.fromStepping(s).toFixed(1),t.children[0].setAttribute("aria-valuemin",r),t.children[0].setAttribute("aria-valuemax",o),t.children[0].setAttribute("aria-valuenow",s),t.children[0].setAttribute("aria-valuetext",l)}))}))}function G(t,n,i){if("range"===t||"steps"===t)return C.xVal;if("count"===t){if(n<2)throw new Error("noUiSlider ("+e+"): 'values' (>= 2) required for mode 'count'.");var r=n-1,a=100/r;for(n=[];r--;)n[r]=r*a;n.push(100),t="positions"}return"positions"===t?n.map((function(e){return C.fromStepping(i?C.getStep(e):e)})):"values"===t?i?n.map((function(e){return C.fromStepping(C.getStep(C.toStepping(e)))})):n:void 0}function Y(e,t,n){function i(e,t){return(e+t).toFixed(7)/1}var r={},o=C.xVal[0],s=C.xVal[C.xVal.length-1],l=!1,u=!1,c=0;return(n=a(n.slice().sort((function(e,t){return e-t}))))[0]!==o&&(n.unshift(o),l=!0),n[n.length-1]!==s&&(n.push(s),u=!0),n.forEach((function(a,o){var s,d,p,f,h,m,v,y,b,g,k=a,w=n[o+1],_="steps"===t;if(_&&(s=C.xNumSteps[o]),s||(s=w-k),!1!==k&&void 0!==w)for(s=Math.max(s,1e-7),d=k;d<=w;d=i(d,s)){for(y=(h=(f=C.toStepping(d))-c)/e,g=h/(b=Math.round(y)),p=1;p<=b;p+=1)r[(m=c+p*g).toFixed(5)]=[C.fromStepping(m),0];v=n.indexOf(d)>-1?N:_?U:D,!o&&l&&(v=0),d===w&&u||(r[f.toFixed(5)]=[d,v]),c=f}})),r}function Q(e,t,n){var r=j.createElement("div"),a=[];a[D]=i.cssClasses.valueNormal,a[N]=i.cssClasses.valueLarge,a[U]=i.cssClasses.valueSub;var o=[];o[D]=i.cssClasses.markerNormal,o[N]=i.cssClasses.markerLarge,o[U]=i.cssClasses.markerSub;var s=[i.cssClasses.valueHorizontal,i.cssClasses.valueVertical],l=[i.cssClasses.markerHorizontal,i.cssClasses.markerVertical];function u(e,t){var n=t===i.cssClasses.value,r=n?a:o;return t+" "+(n?s:l)[i.ort]+" "+r[e]}function c(e,a,o){if((o=t?t(a,o):o)!==R){var s=F(r,!1);s.className=u(o,i.cssClasses.marker),s.style[i.style]=e+"%",o>D&&((s=F(r,!1)).className=u(o,i.cssClasses.value),s.setAttribute("data-value",a),s.style[i.style]=e+"%",s.innerHTML=n.to(a))}}return h(r,i.cssClasses.pips),h(r,0===i.ort?i.cssClasses.pipsHorizontal:i.cssClasses.pipsVertical),Object.keys(e).forEach((function(t){c(t,e[t][0],e[t][1])})),r}function $(){_&&(n(_),_=null)}function J(e){$();var t=e.mode,n=e.density||1,i=e.filter||!1,r=Y(n,t,G(t,e.values||!1,e.stepped||!1)),a=e.format||{to:Math.round};return _=x.appendChild(Q(r,i,a))}function Z(){var e=s.getBoundingClientRect(),t="offset"+["Width","Height"][i.ort];return 0===i.ort?e.width||s[t]:e.height||s[t]}function te(e,t,n,r){var a=function(a){return!!(a=ne(a,r.pageOffset,r.target||t))&&!(x.hasAttribute("disabled")&&!r.doNotReject)&&!(v(x,i.cssClasses.tap)&&!r.doNotReject)&&!(e===S.start&&void 0!==a.buttons&&a.buttons>1)&&(!r.hover||!a.buttons)&&(T||a.preventDefault(),a.calcPoint=a.points[i.ort],void n(a,r))},o=[];return e.split(" ").forEach((function(e){t.addEventListener(e,a,!!T&&{passive:!0}),o.push([e,a])})),o}function ne(e,t,n){var i,r,a=0===e.type.indexOf("touch"),o=0===e.type.indexOf("mouse"),s=0===e.type.indexOf("pointer");if(0===e.type.indexOf("MSPointer")&&(s=!0),a){var l=function(e){return e.target===n||n.contains(e.target)};if("touchstart"===e.type){var u=Array.prototype.filter.call(e.touches,l);if(u.length>1)return!1;i=u[0].pageX,r=u[0].pageY}else{var c=Array.prototype.find.call(e.changedTouches,l);if(!c)return!1;i=c.pageX,r=c.pageY}}return t=t||y(j),(o||s)&&(i=e.clientX+t.x,r=e.clientY+t.y),e.pageOffset=t,e.points=[i,r],e.cursor=o||s,e}function ie(e){var t=100*(e-l(s,i.ort))/Z();return t=d(t),i.dir?100-t:t}function re(e){var t=100,n=!1;return u.forEach((function(i,r){if(!i.hasAttribute("disabled")){var a=Math.abs(O[r]-e);(a<t||100===a&&100===t)&&(n=r,t=a)}})),n}function ae(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&se(e,t)}function oe(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return se(e,t);var n=(i.dir?-1:1)*(e.calcPoint-t.startCalcPoint);be(n>0,100*n/t.baseSize,t.locations,t.handleNumbers)}function se(e,t){t.handle&&(m(t.handle,i.cssClasses.active),P-=1),t.listeners.forEach((function(e){L.removeEventListener(e[0],e[1])})),0===P&&(m(x,i.cssClasses.drag),we(),e.cursor&&(M.style.cursor="",M.removeEventListener("selectstart",r))),t.handleNumbers.forEach((function(e){he("change",e),he("set",e),he("end",e)}))}function le(e,t){var n;if(1===t.handleNumbers.length){var a=u[t.handleNumbers[0]];if(a.hasAttribute("disabled"))return!1;n=a.children[0],P+=1,h(n,i.cssClasses.active)}e.stopPropagation();var o=[],s=te(S.move,L,oe,{target:e.target,handle:n,listeners:o,startCalcPoint:e.calcPoint,baseSize:Z(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:O.slice()}),l=te(S.end,L,se,{target:e.target,handle:n,listeners:o,doNotReject:!0,handleNumbers:t.handleNumbers}),c=te("mouseout",L,ae,{target:e.target,handle:n,listeners:o,doNotReject:!0,handleNumbers:t.handleNumbers});o.push.apply(o,s.concat(l,c)),e.cursor&&(M.style.cursor=getComputedStyle(e.target).cursor,u.length>1&&h(x,i.cssClasses.drag),M.addEventListener("selectstart",r,!1)),t.handleNumbers.forEach((function(e){he("start",e)}))}function ue(e){e.stopPropagation();var t=ie(e.calcPoint),n=re(t);if(!1===n)return!1;i.events.snap||c(x,i.cssClasses.tap,i.animationDuration),_e(n,t,!0,!0),we(),he("slide",n,!0),he("update",n,!0),he("change",n,!0),he("set",n,!0),i.events.snap&&le(e,{handleNumbers:[n]})}function ce(e){var t=ie(e.calcPoint),n=C.getStep(t),i=C.fromStepping(n);Object.keys(I).forEach((function(e){"hover"===e.split(".")[0]&&I[e].forEach((function(e){e.call(w,i)}))}))}function de(e){e.fixed||u.forEach((function(e,t){te(S.start,e.children[0],le,{handleNumbers:[t]})})),e.tap&&te(S.start,s,ue,{}),e.hover&&te(S.move,s,ce,{hover:!0}),e.drag&&f.forEach((function(t,n){if(!1!==t&&0!==n&&n!==f.length-1){var r=u[n-1],a=u[n],o=[t];h(t,i.cssClasses.draggable),e.fixed&&(o.push(r.children[0]),o.push(a.children[0])),o.forEach((function(e){te(S.start,e,le,{handles:[r,a],handleNumbers:[n-1,n]})}))}}))}function pe(e,t){I[e]=I[e]||[],I[e].push(t),"update"===e.split(".")[0]&&u.forEach((function(e,t){he("update",t)}))}function fe(e){var t=e&&e.split(".")[0],n=t&&e.substring(t.length);Object.keys(I).forEach((function(e){var i=e.split(".")[0],r=e.substring(i.length);t&&t!==i||n&&n!==r||delete I[e]}))}function he(e,t,n){Object.keys(I).forEach((function(r){var a=r.split(".")[0];e===a&&I[r].forEach((function(e){e.call(w,A.map(i.format.to),t,A.slice(),n||!1,O.slice())}))}))}function me(e){return e+"%"}function ve(e,t,n,r,a,o){return u.length>1&&!i.events.unconstrained&&(r&&t>0&&(n=Math.max(n,e[t-1]+i.margin)),a&&t<u.length-1&&(n=Math.min(n,e[t+1]-i.margin))),u.length>1&&i.limit&&(r&&t>0&&(n=Math.min(n,e[t-1]+i.limit)),a&&t<u.length-1&&(n=Math.max(n,e[t+1]-i.limit))),i.padding&&(0===t&&(n=Math.max(n,i.padding[0])),t===u.length-1&&(n=Math.min(n,100-i.padding[1]))),!((n=d(n=C.getStep(n)))===e[t]&&!o)&&n}function ye(e,t){var n=i.ort;return(n?t:e)+", "+(n?e:t)}function be(e,t,n,i){var r=n.slice(),a=[!e,e],o=[e,!e];i=i.slice(),e&&i.reverse(),i.length>1?i.forEach((function(e,n){var i=ve(r,e,r[e]+t,a[n],o[n],!1);!1===i?t=0:(t=i-r[e],r[e]=i)})):a=o=[!0];var s=!1;i.forEach((function(e,i){s=_e(e,n[e]+t,a[i],o[i])||s})),s&&i.forEach((function(e){he("update",e),he("slide",e)}))}function ge(e,t){return i.dir?100-e-t:e}function ke(e,t){O[e]=t,A[e]=C.fromStepping(t);var n="translate("+ye(me(ge(t,0)-V),"0")+")";u[e].style[i.transformRule]=n,Se(e),Se(e+1)}function we(){E.forEach((function(e){var t=O[e]>50?-1:1,n=3+(u.length+t*e);u[e].style.zIndex=n}))}function _e(e,t,n,i){return!1!==(t=ve(O,e,t,n,i,!1))&&(ke(e,t),!0)}function Se(e){if(f[e]){var t=0,n=100;0!==e&&(t=O[e-1]),e!==f.length-1&&(n=O[e]);var r=n-t,a="translate("+ye(me(ge(t,r)),"0")+")",o="scale("+ye(r/100,"1")+")";f[e].style[i.transformRule]=a+" "+o}}function Te(e,t){return null===e||!1===e||void 0===e?O[t]:("number"===typeof e&&(e=String(e)),e=i.format.from(e),!1===(e=C.toStepping(e))||isNaN(e)?O[t]:e)}function xe(e,t){var n=p(e),r=void 0===O[0];t=void 0===t||!!t,i.animate&&!r&&c(x,i.cssClasses.tap,i.animationDuration),E.forEach((function(e){_e(e,Te(n[e],e),!0,!1)})),E.forEach((function(e){_e(e,O[e],!0,!0)})),we(),E.forEach((function(e){he("update",e),null!==n[e]&&t&&he("set",e)}))}function Oe(e){xe(i.start,e)}function Ee(t,n,i){var r=[];if(!((t=Number(t))>=0&&t<E.length))throw new Error("noUiSlider ("+e+"): invalid handle number, got: "+t);for(var a=0;a<E.length;a++)r[a]=null;r[t]=n,xe(r,i)}function Pe(){var e=A.map(i.format.to);return 1===e.length?e[0]:e}function Ce(){for(var e in i.cssClasses)i.cssClasses.hasOwnProperty(e)&&m(x,i.cssClasses[e]);for(;x.firstChild;)x.removeChild(x.firstChild);delete x.noUiSlider}function Ae(){return O.map((function(e,t){var n=C.getNearbySteps(e),i=A[t],r=n.thisStep.step,a=null;!1!==r&&i+r>n.stepAfter.startValue&&(r=n.stepAfter.startValue-i),a=i>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&i-n.stepBefore.highestStep,100===e?r=null:0===e&&(a=null);var o=C.countStepDecimals();return null!==r&&!1!==r&&(r=Number(r.toFixed(o))),null!==a&&!1!==a&&(a=Number(a.toFixed(o))),[a,r]}))}function Ie(e,t){var n=Pe(),r=["margin","limit","padding","range","animate","snap","step","format"];r.forEach((function(t){void 0!==e[t]&&(o[t]=e[t])}));var a=ee(o);r.forEach((function(t){void 0!==e[t]&&(i[t]=a[t])})),C=a.spectrum,i.margin=a.margin,i.limit=a.limit,i.padding=a.padding,i.pips&&J(i.pips),O=[],xe(e.start||n,t)}return s=q(x),z(i.connect,s),de(i.events),xe(i.start),w={destroy:Ce,steps:Ae,on:pe,off:fe,get:Pe,set:xe,setHandle:Ee,reset:Oe,__moveHandles:function(e,t,n){be(e,t,O,n)},options:o,updateOptions:Ie,target:x,removePips:$,pips:J},i.pips&&J(i.pips),i.tooltips&&W(),X(),w}function ne(t,n){if(!t||!t.nodeName)throw new Error("noUiSlider ("+e+"): create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider ("+e+"): Slider was already initialized.");var i=te(t,ee(n,t),n);return t.noUiSlider=i,i}return{__spectrum:I,version:e,create:ne}})?i.apply(t,r):i)||(e.exports=a)},122:function(e,t,n){!function(t){var n={src:"https://fast.wistia.com/assets/external/E-v1.js",loading:!1,loaded:!1,loadedCheckInterval:null,listeners:[],load:function(e){var n=this;if(this.listeners.push(e),this.loaded)setTimeout((function(){n.done()}),0);else if(!this.loading){this.loading=!0,this.loadedCheckInterval=setInterval((function(){"undefined"!==typeof t.Wistia&&(clearInterval(this.loadedCheckInterval),n.loadedCheckInterval=null,n.loaded=!0,n.done())}),100);var i=document.createElement("script");i.type="text/javascript",i.charset="ISO-8859-1",i.async=!0,i.src=this.src,document.head.appendChild(i)}},done:function(){for(;this.listeners.length>0;)this.listeners.pop()(t.Wistia)}};e.exports?e.exports=n:t.WistiaPlayerApiLoader=n}(window)},123:function(e,t,n){!function(t){var n={src:"https://cdn.jsdelivr.net/npm/hls.js@",loading:!1,loaded:!1,loadedCheckInterval:null,listeners:[],load:function(e,n){"undefined"===typeof n&&(n="latest");var i=this;if(this.listeners.push(e),this.loaded)setTimeout((function(){i.done()}),0);else if(!this.loading){this.loading=!0,this.loadedCheckInterval=setInterval((function(){"undefined"!==typeof t.Hls&&(clearInterval(this.loadedCheckInterval),i.loadedCheckInterval=null,i.loaded=!0,i.done())}),100);var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src=this.src+n,document.head.appendChild(r)}},done:function(){for(;this.listeners.length>0;)this.listeners.pop()(t.Hls)}};e.exports?e.exports=n:t.HlsPlayerApiLoader=n}(window)},124:function(e,t,n){!function(t,n){var i={src:"https://content.videoken.com/players/slideslive.js",loading:!1,loaded:!1,loadedCheckInterval:null,listeners:[],load:function(e){var n=this;if(e&&this.listeners.push(e),this.loaded)setTimeout((function(){return n.done()}),0);else if(!this.loading){this.loading=!0,this.loadedCheckInterval=setInterval((function(){console.log("chekc videoken"),"undefined"!==typeof t._vkenPlayer&&(clearInterval(n.loadedCheckInterval),n.loadedCheckInterval=null,n.loaded=!0,n.done())}),100);var i=document.createElement("script");i.type="text/javascript",i.charset="ISO-8859-1",i.async=!0,i.src=this.src,document.head.appendChild(i)}},done:function(){for(;this.listeners.length>0;)this.listeners.pop()(t._vkenPlayer)}};e.exports?e.exports=i:t.VideoKenLoader=i}(window)},125:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,"a",(function(){return r}));var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.callback=t,this.props={isRunning:!1}}var t,n,r;return t=e,(n=[{key:"start",value:function(){this.isRunning=!0}},{key:"stop",value:function(){this.isRunning=!1}},{key:"scheduleTick",value:function(){var e=this;setTimeout((function(){return e.tick()}),100)}},{key:"tick",value:function(){this.isRunning&&(this.callback(),this.scheduleTick())}},{key:"isRunning",get:function(){return this.props.isRunning},set:function(e){this.props.isRunning!==e&&(this.props.isRunning=e,e&&this.scheduleTick())}},{key:"interval",get:function(){return this.props.interval},set:function(e){this.props.interval=e}}])&&i(t.prototype,n),r&&i(t,r),e}()},126:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(0);function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.callbacks=n,Object(i.a)(this.element,"keydown",(function(e){e.ctrlKey||e.metaKey||document.activeElement&&"INPUT"===document.activeElement.nodeName||r.handleKey(e.keyCode,e.altKey||e.shiftKey)&&e.preventDefault()}))}var t,n,a;return t=e,(n=[{key:"handleKey",value:function(e,t){return t?this.handleFunctionKey(e):this.handleNormalKey(e)}},{key:"handleFunctionKey",value:function(e){switch(e){case 37:return this.callbacks.skipBack(),!0;case 39:return this.callbacks.skipForward(),!0;default:return!1}}},{key:"handleNormalKey",value:function(e){switch(e){case 27:return this.callbacks.hideOpenedOverlays(),!0;case 32:return this.callbacks.togglePlayback(),!0;case 37:return this.callbacks.prevSlide(),!0;case 39:return this.callbacks.nextSlide(),!0;case 66:return this.callbacks.addBookmark(),!0;case 70:return this.callbacks.toggleFullscreen(),!0;case 77:return this.callbacks.toggleMute(),!0;case 83:return this.callbacks.syncSlidesToVideo(),!0;case 84:return this.callbacks.syncVideoToSlides(),!0;default:return!1}}}])&&r(t.prototype,n),a&&r(t,a),e}()},127:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(128),r=n.n(i),a=n(0),o=n(1);function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=n,this.callbacks=i,this.props={lastUpdate:0,lastModified:null,slidesLastModified:null,lastSlideTimestamp:0,lastSlideVersion:0,delay:0,subtitlesEnabled:!0,subtitlesDelayMs:0,streamStartFromVideo:null,actualStreamStartFromServer:null,scheduledStreamStartFromServer:null,appStart:null,showSlides:null,liveFinished:null,servers:null,currentRequest:null,updateInterval:null,interval:null,playingAnalyticsDisabled:!1,thumbnail:null,terminated:!1},this.presentationPlaylistLoader=t}var t,n,i;return t=e,(n=[{key:"start",value:function(){this.props.interval||(Object(o.a)("LIVE","start"),this.scheduleRequest())}},{key:"stop",value:function(){this.props.interval&&(Object(o.a)("LIVE","stop"),clearTimeout(this.props.interval),this.props.interval=null)}},{key:"scheduleRequest",value:function(){var e,t=this;e=Object(a.U)(this.props.updateInterval)?this.props.updateInterval:this.props.liveFinished?6e4:5e3,e+=4e3*Math.random(),this.props.interval=setTimeout((function(){return t.requestLivestreamInfo()}),e)}},{key:"requestLivestreamInfo",value:function(){var e=this;this.props.terminated||(this.presentationPlaylistLoader.usingPlaylist?this.presentationPlaylistLoader.loadPlaylist({complete:function(){e.scheduleRequest()},presentationInfo:function(t){e.processLivestreamInfo(t)}}):this.presentationPlaylistLoader.loadPresentationInfo(this.presentationInfoQueryParams,{complete:function(){e.scheduleRequest()},presentationInfo:function(t){e.processLivestreamInfo(t)}}))}},{key:"processLivestreamInfo",value:function(e){var t=e.video_service_name,n=e.video_service_id,i=e.is_live;if(Object(a.U)(i)&&!i&&Object(a.U)(t)&&""!==t&&Object(a.U)(n)&&n)window.location.reload();else{this.updateLastModified(e.last_modified);var r=e.next_presentation;Object(a.U)(r)&&this.callbacks.setNextPresentation(r);var o=e.playing_analytics_disabled;Object(a.U)(o)&&this.updatePlayingAnalyticsDisabled(o),Object(a.U)(e.thumbnail)&&this.updateThumbnail(e.thumbnail);var s=e.streaming;if(Object(a.U)(s)){var l=s.details;Object(a.U)(l)&&(this.updateServers(l.servers),this.updateDelay(l.delay),this.updateSubtitlesEnabled(l.subtitles_enabled),this.updateSubtitlesDelayMs(l.subtitles_delay_ms),this.updateStreamStartFromServer(l.video_actual_start,l.video_scheduled_start),this.updateShowSlides(l.show_slides),this.updateLiveFinished(l.finished),this.updateUpdateInterval(l.update_interval),this.updateTerminated(l.terminated));var u=s.slides;Object(a.U)(u)&&(this.updateSlidesLastModified(u.last_modified),this.processNewSlides(u.slides))}}}},{key:"updateLastModified",value:function(e){void 0!==e&&(this.props.lastModified=e)}},{key:"updateSlidesLastModified",value:function(e){this.props.slidesLastModified=e}},{key:"updateServers",value:function(e){r()(this.servers,e)||(this.props.servers=e,this.callbacks.serversChanged(this.servers))}},{key:"updateDelay",value:function(e){this.delay!==e&&(Object(o.a)("LIVE","delay",e),this.props.delay=e,this.callbacks.delayChanged(this.delay))}},{key:"updateSubtitlesEnabled",value:function(e){Object(a.U)(e)&&this.subtitlesEnabled!==e&&(Object(o.a)("LIVE","subtitles enabled",e),this.props.subtitlesEnabled=e,this.callbacks.subtitlesEnabledChanged(this.subtitlesEnabled))}},{key:"updateSubtitlesDelayMs",value:function(e){Object(a.U)(e)&&this.subtitlesDelayMs!==e&&(Object(o.a)("LIVE","subtitles delay",e),this.props.subtitlesDelayMs=e,this.callbacks.subtitlesDelayMsChanged(this.subtitlesDelayMs))}},{key:"updateStreamStartFromServer",value:function(e,t){var n=this.streamStart;this.props.actualStreamStartFromServer=e,this.props.scheduledStreamStartFromServer=t,this.streamStart!==n&&this.callbacks.streamStartChanged(this.streamStart)}},{key:"updateStreamStartFromVideo",value:function(e){var t=this.streamStart;this.props.streamStartFromVideo=e,this.streamStart!==t&&this.callbacks.streamStartChanged(this.streamStart)}},{key:"updateShowSlides",value:function(e){this.showSlides!==e&&(Object(o.a)("LIVE","show slides",e),this.props.showSlides=e,this.callbacks.showSlidesChanged(this.showSlides))}},{key:"updateLiveFinished",value:function(e){this.liveFinished!==e&&(Object(o.a)("LIVE","live finished",e),this.props.liveFinished=e,this.callbacks.liveFinishedChanged(this.liveFinished))}},{key:"updateUpdateInterval",value:function(e){this.props.updateInterval=e}},{key:"updateTerminated",value:function(e){this.props.terminated!==e&&(Object(o.a)("LIVE","terminated",e),this.props.terminated=e,this.callbacks.terminatedChanged(e))}},{key:"updatePlayingAnalyticsDisabled",value:function(e){Object(a.U)(e)?this.playingAnalyticsDisabled!==e&&(Object(o.a)("LIVE","playing analytics disabled",e),this.props.playingAnalyticsDisabled=e,this.callbacks.playingAnalyticsDisabledChanged(this.playingAnalyticsDisabled)):this.playingAnalyticsDisabled&&(Object(o.a)("LIVE","playing analytics disabled",!1),this.props.playingAnalyticsDisabled=!1,this.callbacks.playingAnalyticsDisabledChanged(this.playingAnalyticsDisabled))}},{key:"processNewSlides",value:function(e){if(Object(a.U)(e)&&e.length>0){this.callbacks.newSlides(e,!this.presentationPlaylistLoader.usingPlaylist);var t=e[e.length-1];this.props.lastSlideTimestamp=t.timestamp,this.props.lastSlideVersion=t.version}}},{key:"updateThumbnail",value:function(e){Object(a.U)(e)&&this.props.thumbnail!==e&&(Object(o.a)("LIVE","thumbnail",e),this.props.thumbnail=e,this.callbacks.thumbnailChanged(this.props.thumbnail))}},{key:"presentationInfoQueryParams",get:function(){var e="last_slide_timestamp=".concat(this.props.lastSlideTimestamp);return e+="&last_slide_version=".concat(this.props.lastSlideVersion),Object(a.U)(this.props.lastModified)&&(e+="&last_modified=".concat(this.props.lastModified)),Object(a.U)(this.props.slidesLastModified)&&(e+="&slides_last_modified=".concat(this.props.slidesLastModified)),e}},{key:"delay",get:function(){return this.props.delay||0}},{key:"subtitlesEnabled",get:function(){return this.props.subtitlesEnabled}},{key:"subtitlesDelayMs",get:function(){return this.props.subtitlesDelayMs||0}},{key:"streamStart",get:function(){return this.props.streamStartFromVideo||this.props.actualStreamStartFromServer||this.props.scheduledStreamStartFromServer||0}},{key:"appStart",get:function(){return this.props.appStart||0}},{key:"showSlides",get:function(){return this.props.showSlides}},{key:"liveFinished",get:function(){return this.props.liveFinished||!1}},{key:"servers",get:function(){return this.props.servers}},{key:"playingAnalyticsDisabled",get:function(){return this.props.playingAnalyticsDisabled||!1}}])&&s(t.prototype,n),i&&s(t,i),e}()},128:function(e,t,n){function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=Array.prototype.slice,a=n(230),o=n(231),s=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=i(e)&&"object"!=i(t)?n.strict?e===t:e==t:function(e,t,n){var c,d;if(l(e)||l(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e))return!!o(t)&&(e=r.call(e),t=r.call(t),s(e,t,n));if(u(e)){if(!u(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var p=a(e),f=a(t)}catch(h){return!1}if(p.length!=f.length)return!1;for(p.sort(),f.sort(),c=p.length-1;c>=0;c--)if(p[c]!=f[c])return!1;for(c=p.length-1;c>=0;c--)if(d=p[c],!s(e[d],t[d],n))return!1;return i(e)===i(t)}(e,t,n))};function l(e){return null===e||void 0===e}function u(e){return!(!e||"object"!==i(e)||"number"!==typeof e.length)&&("function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0]))}},129:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var i=n(0),r=n(1),a=n(130),o=n.n(a);function s(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c=function(){function t(n,a){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=n,this.callbacks=a,this.props={createdAt:this.now,userUuid:null,sessionUuid:null,lastPlayingUpdateTime:0,analyticsPlayerOrderId:0,analyticsPlayerQueue:[],analyticsPlaysOrderId:0,analyticsPlaysQueue:[],userEmail:null,firstPlay:!0,playingAnalyticsDisabled:!1,debug:!1,checkForStateChangeLoop:!0,lastTrackedState:null,trackedStateChangeCount:0,live:!1,presentationMediaSetId:null,webReferrer:"unknown"},Object(i.U)(e.gon)&&Object(i.U)(e.gon.analytics_uuid)&&(this.props.userUuid=e.gon.analytics_uuid),this.initWebReferrer(),Object(i.a)(window,"PresentationOverlaySignup:done",(function(e){s.props.debug&&Object(r.a)("LYTICS","email from sign up",e.detail.user),s.props.userEmail=e.detail.user}));var l=6e4+Math.floor(6e4*Math.random());setInterval((function(){s.processQueues()}),l),window!==window.parent&&Object(i.a)(this.options.element,"mouseleave",(function(){s.processQueues({useSendBeacon:!0})})),window.addEventListener("pagehide",(function(){return s.processQueues({useSendBeacon:!0})})),o.a.addEventListener("statechange",(function(e){"hidden"!==e.newState&&"terminated"!==e.newState||s.processQueues({useSendBeacon:!0})}))}var n,a,l;return n=t,(a=[{key:"initWebReferrer",value:function(){var e=Object(i.vb)("ref")||"unknown";this.webReferrer=e}},{key:"updatePlaying",value:function(e){if(!this.props.playingAnalyticsDisabled){var t=e-this.props.lastPlayingUpdateTime;(t<0||t>=5e3)&&(this.props.lastPlayingUpdateTime=e,this.trackPlaying())}}},{key:"trackStateChange",value:function(e){this.currentTime>=1e3&&(this.props.checkForStateChangeLoop=!1),this.props.trackedStateChangeCount+=1;var t=!1;if(this.props.checkForStateChangeLoop&&this.props.trackedStateChangeCount>10&&this.currentTime<1e3&&("playing"===e&&"paused"===this.props.lastTrackedState||"paused"===e&&"playing"===this.props.lastTrackedState)&&(t=!0,console.warn("LYTICS","state change loop detected",this.props.trackedStateChangeCount,this.props.lastTrackedState,this.currentTime,e)),this.props.lastTrackedState=e,t)return!1;switch(e){case"playing":this.trackPlayingStateChange();break;case"paused":this.trackPausedStateChange();break;case"ended":this.trackEndedStateChange();break;default:console.warn("LYTICS","Unhandled state",e)}return!0}},{key:"trackSeekStart",value:function(){this.trackAnalyticsPlays("seek_start")}},{key:"trackSeekEnd",value:function(){this.trackAnalyticsPlays("seek_end")}},{key:"trackPlayingStateChange",value:function(){this.trackAnalyticsPlays("play")}},{key:"trackPausedStateChange",value:function(){this.props.firstPlay||this.trackAnalyticsPlays("pause")}},{key:"trackEndedStateChange",value:function(){this.trackAnalyticsPlays("ended")}},{key:"trackPlaying",value:function(){this.props.playingAnalyticsDisabled||this.trackAnalyticsPlays("playing")}},{key:"trackLoad",value:function(e){this.trackAnalyticsPlayer("load",e)}},{key:"trackPlay",value:function(e){this.trackAnalyticsPlayer("play",e)}},{key:"trackPause",value:function(e){this.trackAnalyticsPlayer("pause",e)}},{key:"trackSeek",value:function(e){this.trackAnalyticsPlayer("seek",e)}},{key:"trackMute",value:function(e){this.trackAnalyticsPlayer("mute",e)}},{key:"trackSlideMute",value:function(e){this.trackAnalyticsPlayer("slide_mute",e)}},{key:"trackVolume",value:function(e){this.trackAnalyticsPlayer("volume",e)}},{key:"trackLive",value:function(e){this.trackAnalyticsPlayer("live",e)}},{key:"trackOriginalSlide",value:function(e){this.trackAnalyticsPlayer("original_slide",e)}},{key:"trackFullscreen",value:function(e){this.trackAnalyticsPlayer("fullscreen_changed",e)}},{key:"trackSeekToSlide",value:function(e){this.trackAnalyticsPlayer("seek_to_slide",e)}},{key:"trackSyncSlidesToVideo",value:function(e){this.trackAnalyticsPlayer("sync_slide_to_video",e)}},{key:"trackSyncVideoToSlides",value:function(e){this.trackAnalyticsPlayer("sync_video_to_slide",e)}},{key:"trackPrevSlide",value:function(e){this.trackAnalyticsPlayer("prev_slide",e)}},{key:"trackNextSlide",value:function(e){this.trackAnalyticsPlayer("next_slide",e)}},{key:"trackSetSubtitleTrack",value:function(e){this.trackAnalyticsPlayer("subtitles",e)}},{key:"trackSetPlaybackRate",value:function(e){this.trackAnalyticsPlayer("rate",e)}},{key:"trackSetQuality",value:function(e){this.trackAnalyticsPlayer("quality",e)}},{key:"trackPlayerLoading",value:function(e){this.trackAnalyticsPlayer("player_loading",e)}},{key:"trackVideoLoadingEvent",value:function(e){this.trackAnalyticsPlayer("video_loading",e)}},{key:"trackAnalyticsPlayer",value:function(t,n){if(!this.trackingDisabled)if(this.props.analyticsPlayerOrderId+=1,Object(i.U)(this.props.userUuid)){var r={presentation_media_set_id:this.presentationMediaSetId,uuid:this.props.userUuid,order_id:this.props.analyticsPlayerOrderId,source:this.source,source_url:this.sourceUrl,referer:document.referrer||"",session_time:this.sessionTime,tracked_at:(new Date).toISOString()};Object(i.U)(n)&&(r.event_value=n,"load"===t&&(r.event_value.webReferrer=this.webReferrer,r.event_value.isLive=this.live)),Object(i.U)(e.gon)&&Object(i.U)(e.gon.user_is_member)&&e.gon.user_is_member&&(r.user_is_member=e.gon.user_is_member),"load"===t?this.sendAnalyticsPlayer(t,r):this.props.analyticsPlayerQueue.push({event:t,params:r})}else console.warn("LYTICS","Undefined user UUID!")}},{key:"trackAnalyticsPlays",value:function(e){if(!this.trackingDisabled)if(this.props.analyticsPlaysOrderId+=1,Object(i.U)(this.props.userUuid)){var t={presentation_media_set_id:this.presentationMediaSetId,uuid:this.props.userUuid,order_id:this.props.analyticsPlaysOrderId,source:this.source,source_url:this.sourceUrl,event_data:this.createAnalyticsPlaysData(),session_time:this.sessionTime,tracked_at:(new Date).toISOString()};this.props.analyticsPlaysQueue.push({event:e,params:t})}else console.warn("LYTICS","Undefined user UUID!")}},{key:"sendAnalyticsPlayer",value:function(e,t){var n=this;this.props.debug&&Object(r.a)("LYTICS","player",e,t);var a={analytics_player:t};Object(i.U)(this.props.userEmail)&&""!==this.props.userEmail&&(a.user_email=this.props.userEmail),Object(i.b)("POST","".concat(this.options.benBaseUrl,"/analytics/player/").concat(this.presentationId,"/").concat(e),JSON.stringify(a),{withCredentials:!0,headers:{"Content-Type":"application/json; charset=utf-8"},success:function(e){var t=JSON.parse(e.responseText);Object(i.U)(n.props.userUuid)&&n.props.userUuid!==t.uuid?console.warn("LYTICS","User UUID changed!"):(Object(r.a)("LYTICS","received user UUID"),n.props.userUuid=t.uuid),Object(i.U)(n.props.sessionUuid)&&n.props.sessionUuid!==t.load_id?console.warn("LYTICS","Session UUID changed!"):(Object(r.a)("LYTICS","received session UUID"),n.props.sessionUuid=t.load_id),n.processQueues()}})}},{key:"batchSendAnalyticsPlayer",value:function(e,t){var n=t.useSendBeacon;Object(r.a)("LYTICS","send player analytics in batch",e.length);var a={batch:e};Object(i.U)(this.props.userEmail)&&""!==this.props.userEmail&&(a.user_email=this.props.userEmail);var o="".concat(this.options.benBaseUrl,"/analytics/player/").concat(this.presentationId,"/batch"),s=JSON.stringify(a);if(n){var l=new Blob([s],{type:"application/json"});navigator.sendBeacon(o,l)}else Object(i.b)("POST",o,s,{withCredentials:!0,headers:{"Content-Type":"application/json; charset=utf-8"}})}},{key:"sendAnalyticsPlays",value:function(e,t){this.props.debug&&Object(r.a)("LYTICS","plays",e,t);var n={analytics_play:t};Object(i.U)(this.props.userEmail)&&""!==this.props.userEmail&&(n.user_email=this.props.userEmail),Object(i.b)("POST","".concat(this.options.benBaseUrl,"/analytics/play/").concat(this.presentationId,"/").concat(e),JSON.stringify(n),{withCredentials:!0,headers:{"Content-Type":"application/json; charset=utf-8"}})}},{key:"batchSendAnalyticsPlays",value:function(e,t){var n=t.useSendBeacon;Object(r.a)("LYTICS","send plays analytics in batch",e.length);var a={batch:e};Object(i.U)(this.props.userEmail)&&""!==this.props.userEmail&&(a.user_email=this.props.userEmail);var o="".concat(this.options.benBaseUrl,"/analytics/play/").concat(this.presentationId,"/batch"),s=JSON.stringify(a);if(n){var l=new Blob([s],{type:"application/json"});navigator.sendBeacon(o,l)}else Object(i.b)("POST",o,s,{withCredentials:!0,headers:{"Content-Type":"application/json; charset=utf-8"}})}},{key:"processQueues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(i.U)(this.props.sessionUuid)){this.props.debug&&Object(r.a)("LYTICS","process queues");var t=!!e.useSendBeacon;if(this.hasQueuedAnalyticsPlayerData){var n,a=s(this.props.analyticsPlayerQueue);try{for(a.s();!(n=a.n()).done;){var o=n.value;o.params.uuid=this.props.userUuid,o.params.load_id=this.props.sessionUuid,o.params.presentation_media_set_id=this.presentationMediaSetId}}catch(d){a.e(d)}finally{a.f()}this.batchSendAnalyticsPlayer(this.props.analyticsPlayerQueue,{useSendBeacon:t}),this.props.analyticsPlayerQueue=[]}if(this.hasQueuedAnalyticsPlaysData){var l,u=s(this.props.analyticsPlaysQueue);try{for(u.s();!(l=u.n()).done;){var c=l.value;c.params.uuid=this.props.userUuid,c.params.load_id=this.props.sessionUuid,c.params.presentation_media_set_id=this.presentationMediaSetId}}catch(d){u.e(d)}finally{u.f()}this.batchSendAnalyticsPlays(this.props.analyticsPlaysQueue,{useSendBeacon:t}),this.props.analyticsPlaysQueue=[]}}}},{key:"createAnalyticsPlaysData",value:function(){var e=this.size;return{is_live:this.live,session_time:this.sessionTime,is_on_air:this.inLivePosition,current_time:this.currentTime,current_slide:this.currentSlideIndex,slides_in_sync:this.slidesInSync,player_width:e.width,player_height:e.height,player_mode:this.mode,zoom:this.zoom,fullscreen:this.fullscreenActive,first_play:this.firstPlay,volume:this.volume,muted:this.muted}}},{key:"playingAnalyticsDisabled",set:function(e){e?Object(r.a)("LYTICS","playing analytics disabled"):Object(r.a)("LYTICS","playing analytics enabled"),this.props.playingAnalyticsDisabled=e}},{key:"firstPlay",get:function(){return this.callbacks.firstPlay()},set:function(e){this.props.firstPlay=e}},{key:"presentationId",get:function(){return this.options.presentationId}},{key:"presentationMediaSetId",get:function(){return this.props.presentationMediaSetId},set:function(e){this.props.presentationMediaSetId=e}},{key:"hasQueuedAnalyticsPlayerData",get:function(){return Object(i.U)(this.props.analyticsPlayerQueue)&&this.props.analyticsPlayerQueue.length>0}},{key:"hasQueuedAnalyticsPlaysData",get:function(){return Object(i.U)(this.props.analyticsPlaysQueue)&&this.props.analyticsPlaysQueue.length>0}},{key:"hasQueuedData",get:function(){return this.hasQueuedAnalyticsPlayerData||this.hasQueuedAnalyticsPlaysData}},{key:"trackingDisabled",get:function(){return this.options.disableTracking}},{key:"webReferrer",get:function(){return this.props.webReferrer},set:function(e){this.props.webReferrer=e}},{key:"live",get:function(){return this.props.live},set:function(e){this.props.live=e}},{key:"now",get:function(){return window.performance&&window.performance.now?Math.round(window.performance.now()):Date.now()}},{key:"sessionTime",get:function(){return this.now-this.props.createdAt}},{key:"currentTime",get:function(){return this.callbacks.currentTime()}},{key:"inLivePosition",get:function(){return this.callbacks.inLivePosition()}},{key:"currentSlideIndex",get:function(){return this.callbacks.currentSlideIndex()}},{key:"slidesInSync",get:function(){return this.callbacks.slidesInSync()}},{key:"size",get:function(){return this.callbacks.size()}},{key:"mode",get:function(){return this.callbacks.mode()}},{key:"zoom",get:function(){return this.callbacks.zoom()}},{key:"fullscreenActive",get:function(){return this.callbacks.fullscreenActive()}},{key:"volume",get:function(){return this.callbacks.volume()}},{key:"muted",get:function(){return this.callbacks.muted()}},{key:"source",get:function(){return this.callbacks.source()}},{key:"sourceUrl",get:function(){return this.callbacks.sourceUrl()}}])&&u(n.prototype,a),l&&u(n,l),t}()}).call(this,n(20))},130:function(e,t,n){var i,r,a;function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(){"use strict";var e=void 0;try{new EventTarget,e=!1}catch(t){e=!1}var t="function"==typeof Symbol&&"symbol"==o(Symbol.iterator)?function(e){return o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":o(e)},n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+o(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=o(t)&&"function"!=typeof t?e:t},s=function(){function e(){n(this,e),this._registry={}}return i(e,[{key:"addEventListener",value:function(e,t){this._getRegistry(e).push(t)}},{key:"removeEventListener",value:function(e,t){var n=this._getRegistry(e),i=n.indexOf(t);i>-1&&n.splice(i,1)}},{key:"dispatchEvent",value:function(e){return e.target=this,Object.freeze(e),this._getRegistry(e.type).forEach((function(t){return t(e)})),!0}},{key:"_getRegistry",value:function(e){return this._registry[e]=this._registry[e]||[]}}]),e}(),l=e?EventTarget:s,u=e?Event:function e(t){n(this,e),this.type=t},c=function(e){function t(e,i){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.newState=i.newState,r.oldState=i.oldState,r.originalEvent=i.originalEvent,r}return r(t,u),t}(),d="active",p="passive",f="hidden",h="frozen",m="terminated",v="object"===("undefined"==typeof safari?"undefined":t(safari))&&safari.pushNotification,y=["focus","blur","visibilitychange","freeze","resume","pageshow","onpageshow"in self?"pagehide":"unload"],b=function(e){return e.preventDefault(),e.returnValue="Are you sure?"},g=[[d,p,f,m],[d,p,f,h],[f,p,d],[h,f],[h,d],[h,p]].map((function(e){return e.reduce((function(e,t,n){return e[t]=n,e}),{})})),k=function(){return document.visibilityState===f?f:document.hasFocus()?d:p};return new(function(e){function t(){n(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),i=k();return e._state=i,e._unsavedChanges=[],e._handleEvents=e._handleEvents.bind(e),y.forEach((function(t){return addEventListener(t,e._handleEvents,!0)})),v&&addEventListener("beforeunload",(function(t){e._safariBeforeUnloadTimeout=setTimeout((function(){t.defaultPrevented||t.returnValue.length>0||e._dispatchChangesIfNeeded(t,f)}),0)})),e}return r(t,l),i(t,[{key:"addUnsavedChanges",value:function(e){!this._unsavedChanges.indexOf(e)>-1&&(0===this._unsavedChanges.length&&addEventListener("beforeunload",b),this._unsavedChanges.push(e))}},{key:"removeUnsavedChanges",value:function(e){var t=this._unsavedChanges.indexOf(e);t>-1&&(this._unsavedChanges.splice(t,1),0===this._unsavedChanges.length&&removeEventListener("beforeunload",b))}},{key:"_dispatchChangesIfNeeded",value:function(e,t){if(t!==this._state)for(var n=function(e,t){for(var n,i=0;n=g[i];++i){var r=n[e],a=n[t];if(r>=0&&a>=0&&a>r)return Object.keys(n).slice(r,a+1)}return[]}(this._state,t),i=0;i<n.length-1;++i){var r=n[i],a=n[i+1];this._state=a,this.dispatchEvent(new c("statechange",{oldState:r,newState:a,originalEvent:e}))}}},{key:"_handleEvents",value:function(e){switch(v&&clearTimeout(this._safariBeforeUnloadTimeout),e.type){case"pageshow":case"resume":this._dispatchChangesIfNeeded(e,k());break;case"focus":this._dispatchChangesIfNeeded(e,d);break;case"blur":this._state===d&&this._dispatchChangesIfNeeded(e,k());break;case"pagehide":case"unload":this._dispatchChangesIfNeeded(e,e.persisted?h:m);break;case"visibilitychange":this._state!==h&&this._state!==m&&this._dispatchChangesIfNeeded(e,k());break;case"freeze":this._dispatchChangesIfNeeded(e,h)}}},{key:"state",get:function(){return this._state}},{key:"pageWasDiscarded",get:function(){return document.wasDiscarded||!1}}]),t}())},"object"==o(t)&&"undefined"!=typeof e?e.exports=a():void 0===(r="function"===typeof(i=a)?i.call(t,n,t,e):i)||(e.exports=r)},131:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(0),r=n(1);function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props={enabled:!1,url:null,origin:null,targetId:null},window!==window.parent){var n=t.dataset.origin,a=t.dataset.targetId;Object(i.U)(n)&&Object(i.U)(a)&&""!==n&&""!==a&&(this.props.url=t.dataset.url||"unknown",this.props.origin=n,this.props.targetId=a,this.props.enabled=!0)}Object(r.a)("EMBED","enabled",this.enabled)}var t,n,o;return t=e,(n=[{key:"sendSizeChanged",value:function(e){this.sendMessage({method:"sizeChanged",size:e})}},{key:"sendSetSize",value:function(e){var t=e.height;this.sendMessage({method:"setSize",height:t})}},{key:"sendLoad",value:function(){this.sendMessage({method:"load"})}},{key:"sendReady",value:function(){this.sendMessage({method:"ready"})}},{key:"sendError",value:function(e){this.sendMessage({method:"error",error:e})}},{key:"sendStateChanged",value:function(e){this.sendMessage({method:"stateChanged",state:e})}},{key:"sendSlideUrl",value:function(e,t,n){this.sendMessage({method:"slideUrl",slide:e,url:t,type:n})}},{key:"sendTimeUpdate",value:function(e,t){this.sendMessage({method:"timeUpdate",currentTime:e,duration:t})}},{key:"sendMessage",value:function(e){if(this.enabled){var t=e;t.targetId=this.props.targetId,t.slideslive=!0,Object(i.U)(window.ActiveXObject)&&(t=JSON.stringify(t)),Object(r.a)("EMBED","post message",t),window.parent.postMessage(t,this.props.origin)}}},{key:"enabled",get:function(){return this.props.enabled}},{key:"url",get:function(){return this.props.url}}])&&a(t.prototype,n),o&&a(t,o),e}()},132:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),r=n(1);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=["history","watch-later","favorite"],u={options:{},presentationPlaylists:[],playlistsList:[],baseUrl:"",predefinedPlaylistsExists:!1,queue:[]},c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},u),this.options=t,this.callbacks=n,this.initBaseUrl(),this.initPlaylistsList()}var t,n,c;return t=e,(n=[{key:"initBaseUrl",value:function(){var e=window.location.host.split("."),t="".concat(window.location.protocol,"//");if(e.length>2){for(var n=0;n<e.length;n++)if(["staging","test"].includes(e[n])||e.length-n<=2){t+=e.slice(n).join(".");break}}else t+=window.location.host;this.baseUrl=t}},{key:"initPlaylistsList",value:function(){var e=this;Object(i.b)("GET",this.fetchPlaylistsListUrl,void 0,{withCredentials:!0,success:function(t){var n=e.sortPlaylists(JSON.parse(t.response).data);Object(r.a)("PLAYLISTS","fetch playlists list success",n.length),e.playlistsList=n,e.callbacks.updatePlaylistsList(e.playlistsList,e.presentationPlaylists)},error:function(e){Object(r.a)("PLAYLISTS","fetch playlists list error",e)},complete:function(){e.createPredefinedPlaylists(),e.initPresentationPlaylists()}})}},{key:"initPresentationPlaylists",value:function(){var e=this;Object(i.b)("GET",this.fetchPresentationPlaylistsUrl,void 0,{withCredentials:!0,success:function(t){var n=JSON.parse(t.response).data;Object(r.a)("PLAYLISTS","fetch presentation playlists success",n.length),e.presentationPlaylists=n;for(var i=!1,a=!1,o=0;o<n.length;o++){var s=n[o].canonical_name||n[o].id;e.callbacks.afterAction(s,!0),"favorite"===s?i=!0:"watch-later"===s&&(a=!0)}i||e.callbacks.afterAction("favorite",!1),a||e.callbacks.afterAction("watch-later",!1)},error:function(t){Object(r.a)("PLAYLISTS","fetch presentation playlists error",t),e.callbacks.afterAction("favorite",!1),e.callbacks.afterAction("watch-later",!1)}})}},{key:"add",value:function(e){var t=this;if(this.predefinedPlaylistsExists){var n={presentation_id:this.options.presentationId},a=this.playlistsList.find((function(t){return t.id.toString()===e}));a?n.playlist_id=e:(a=this.playlistsList.find((function(t){return t.canonical_name===e})))?n.playlist_canonical_name=e:n.playlist_name=e,Object(i.b)("POST",this.addUrl,JSON.stringify({data:n}),{withCredentials:!0,success:function(n){var i=JSON.parse(n.response).data;"history"!==i.canonical_name&&(t.presentationPlaylists.push(i),t.callbacks.afterAction(e,!0))},error:function(e){return Object(r.a)("PLAYLISTS","add presentation to playlist error",e)}})}else this.queue.push({action:"add",name:e})}},{key:"remove",value:function(e){var t=this;if(this.predefinedPlaylistsExists){var n={presentation_id:this.options.presentationId},a=this.playlistsList.find((function(t){return t.id.toString()===e}));a?n.playlist_id=e:(a=this.playlistsList.find((function(t){return t.canonical_name===e})),n.playlist_canonical_name=e),a?Object(i.b)("POST",this.removeUrl,JSON.stringify({data:n}),{withCredentials:!0,success:function(n){var i=JSON.parse(n.response).data;t.presentationPlaylists=t.presentationPlaylists.filter((function(e){return e.id!==i.id})),t.callbacks.afterAction(e,!1)},error:function(e){return Object(r.a)("PLAYLISTS","remove presentation from playlist error",e)}}):console.warn("PLAYLISTS","unknown playlist",e)}else this.queue.push({action:"remove",name:e})}},{key:"createPredefinedPlaylists",value:function(){for(var e=this,t=!0,n=function(n){e.playlistsList.find((function(e){return e.canonical_name===l[n]}))||(t=!1,e.addPlaylist({canonical_name:l[n]}))},i=0;i<l.length;i++)n(i);t&&this.predefinedPlaylistsCreated()}},{key:"predefinedPlaylistsCreated",value:function(){if(this.predefinedPlaylistsExists=!0,this.queue.length>0)for(var e=0;e<this.queue.length;e++)"add"===this.queue[e].action?this.add(this.queue[e].name):this.remove(this.queue[e].name)}},{key:"addPlaylist",value:function(e){var t=this,n={};"canonical_name"in e&&(n.playlist_canonical_name=e.canonical_name),"name"in e&&(n.playlist_name=e.name),"custom"in e&&(n.playlist_custom=e.custom),Object(i.b)("POST",this.createPlaylistUrl,JSON.stringify({data:n}),{withCredentials:!0,success:function(e){var n=JSON.parse(e.response).data;t.playlistsList.push(n),t.playlistsList=t.sortPlaylists(t.playlistsList),t.callbacks.updatePlaylistsList(t.playlistsList,t.presentationPlaylists),t.predefinedPlaylistsExists||t.playlistsList.filter((function(e){return l.includes(e.canonical_name)})).length!==l.length||t.predefinedPlaylistsCreated()}})}},{key:"sortPlaylists",value:function(e){return e.sort((function(e,t){return e.canonical_name?t.canonical_name&&t.canonical_name<e.canonical_name?1:-1:t.canonical_name?1:e.name.localeCompare(t.name,{sensitivity:"accent"})}))}},{key:"options",get:function(){return this.props.options},set:function(e){this.props.options=e}},{key:"predefinedPlaylistsExists",get:function(){return this.props.predefinedPlaylistsExists},set:function(e){this.props.predefinedPlaylistsExists=e}},{key:"queue",get:function(){return this.props.queue},set:function(e){this.props.queue=e}},{key:"presentationPlaylists",get:function(){return this.props.presentationPlaylists},set:function(e){this.props.presentationPlaylists=e}},{key:"playlistsList",get:function(){return this.props.playlistsList},set:function(e){this.props.playlistsList=e}},{key:"addUrl",get:function(){return"".concat(this.baseUrl,"/api/v1/playlists/add_presentation")}},{key:"removeUrl",get:function(){return"".concat(this.baseUrl,"/api/v1/playlists/remove_presentation")}},{key:"createPlaylistUrl",get:function(){return"".concat(this.baseUrl,"/api/v1/playlists")}},{key:"fetchPresentationPlaylistsUrl",get:function(){return"".concat(this.baseUrl,"/api/v1/playlists/by_presentation/").concat(this.options.presentationId)}},{key:"fetchPlaylistsListUrl",get:function(){return"".concat(this.baseUrl,"/api/v1/playlists?").concat("search_by=custom,canonical_name&canonical_name=history,favorite,watch-later&custom=true")}},{key:"baseUrl",get:function(){return this.props.baseUrl},set:function(e){this.props.baseUrl=e}}])&&s(t.prototype,n),c&&s(t,c),e}()},133:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(0),r=n(1);function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c={options:{},bookmarksList:[],baseUrl:""},d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c),this.options=t,this.callbacks=n,this.initBaseUrl(),this.initBookmarksList()}var t,n,o;return t=e,(n=[{key:"initBaseUrl",value:function(){var e=window.location.host.split("."),t="".concat(window.location.protocol,"//");if(e.length>2){for(var n=0;n<e.length;n++)if(["staging","test"].includes(e[n])||e.length-n<=2){t+=e.slice(n).join(".");break}}else t+=window.location.host;this.baseUrl=t}},{key:"initBookmarksList",value:function(){var e=this;Object(i.b)("GET",this.fetchBookmarksListUrl,void 0,{withCredentials:!0,success:function(t){var n=JSON.parse(t.response).data;Object(r.a)("BOOKMARKS","fetch bookmarks list success",n.length),e.bookmarksList=[].concat(a(e.bookmarksList),a(n)),e.callbacks.updateBookmarksList(e.bookmarksList)},error:function(t){if(404===t.status)return Object(r.a)("BOOKMARKS","fetch bookmarks list success but empty"),void e.callbacks.updateBookmarksList([]);Object(r.a)("BOOKMARKS","fetch bookmarks list error",t)}})}},{key:"add",value:function(e){var t=this,n={presentation_id:this.options.presentationId,current_time:Math.round(e/1e3)};Object(i.b)("POST","".concat(this.url),JSON.stringify(n),{withCredentials:!0,success:function(e){var n=JSON.parse(e.response).data;Object(r.a)("BOOKMARKS","add bookmark success",n.id),t.bookmarksList.push(n),t.callbacks.afterAdded(n.id),t.callbacks.updateBookmarksList(t.bookmarksList)},error:function(e){Object(r.a)("BOOKMARKS","add bookmark error",e)}})}},{key:"update",value:function(e){var t=this,n=e.id,a={bookmark:{note:e.note}};Object(i.b)("PUT","".concat(this.url,"/").concat(n),JSON.stringify(a),{withCredentials:!0,success:function(e){var n=JSON.parse(e.response).data;Object(r.a)("BOOKMARKS","update bookmark success",n.id);var i=t.bookmarksList.findIndex((function(e){return e.id===parseInt(n.id,10)}));t.bookmarksList[i]=n,t.callbacks.afterUpdate(n,t.bookmarksList)},error:function(e){Object(r.a)("BOOKMARKS","update bookmark error",e)}})}},{key:"remove",value:function(e){var t=this;Object(i.b)("DELETE","".concat(this.url,"/").concat(e),void 0,{withCredentials:!0,success:function(e){var n=JSON.parse(e.response).data;Object(r.a)("BOOKMARKS","remove bookmark success",n.id),t.bookmarksList=t.bookmarksList.filter((function(e){return e.id!==parseInt(n.id,10)})),t.callbacks.afterRemove(n.id,t.bookmarksList)},error:function(e){Object(r.a)("BOOKMARKS","remove bookmark error",e)}})}},{key:"options",get:function(){return this.props.options},set:function(e){this.props.options=e}},{key:"bookmarksList",get:function(){return this.props.bookmarksList},set:function(e){this.props.bookmarksList=e}},{key:"url",get:function(){return"".concat(this.baseUrl,"/api/v1/player_bookmarks")}},{key:"fetchBookmarksListUrl",get:function(){return"".concat(this.baseUrl,"/api/v1/player_bookmarks/").concat(this.options.presentationId)}},{key:"baseUrl",get:function(){return this.props.baseUrl},set:function(e){this.props.baseUrl=e}}])&&u(t.prototype,n),o&&u(t,o),e}()},134:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(0);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function s(e){if(!Object(i.U)(e)||""===e)return null;var t=e.match(/\d+/g);return Date.UTC(t[0],t[1]-1,t[2],t[3],t[4],t[5])}var l=function(){function e(){r(this,e),Object.assign(this,{version:null,playlistType:null,playlistCreatedAt:null,presentationId:null,presentationTitle:null,presentationUpdatedAt:null,presentationThumbnail:null,presentationMediaSetId:null,playingAnalyticsDisabled:null,startTime:null,videoRatio:null,displayVideoRatio:null,defaultSubtitlesLanguage:null,playerLogo:null,nextPresentationId:null,nextPresentationTitle:null,nextPresentationThumbnail:null,playerType:null,hasVideo:null,hasAudio:null,hasSlides:null,vodVideoServiceName:null,vodVideoId:null,vodVideoCdnServers:null,vodVideoKenEnabled:null,vodSlidesXmlUrl:null,vodSlidesJsonUrl:null,streamUpdatedAt:null,streamSlidesUpdatedAt:null,streamFinished:null,streamAvailableOnDemand:null,streamTerminated:null,streamVideoServers:null,streamVideoActualStart:null,streamVideoScheduledStart:null,streamSyncDelay:null,streamSubtitlesDelay:null,streamShowSlides:null,streamSubtitlesEnabled:null,streamUpdateInterval:null,streamSlides:[]})}return o(e,[{key:"_storePlaylistValue",value:function(e,t){var n=function(e){var t=e.replace(/^EXT-SL-/,"").split("-").reduce((function(e,t){return"".concat(e).concat(t.charAt(0).toUpperCase()+t.slice(1).toLowerCase())}),"");return t[0].toLowerCase()+t.slice(1)}(e);this.hasOwnProperty(n)?this[n]=t:console.warn("No property for tag ".concat(e," (").concat(n,"):"),t)}},{key:"_storePlaylistIntegerValue",value:function(e,t){this._storePlaylistValue(e,parseInt(t,10))}},{key:"_storePlaylistFloatValue",value:function(e,t){this._storePlaylistValue(e,parseFloat(t))}},{key:"_storePlaylistStringValue",value:function(e,t){this._storePlaylistValue(e,t.toString())}},{key:"_storePlaylistDateTimeValue",value:function(e,t){if(Object(i.U)(t)&&""!==t){var n=t.match(/\d+/g),r=Date.UTC(n[0],n[1]-1,n[2],n[3],n[4],n[5]);this._storePlaylistValue(e,r)}}},{key:"_storePlaylistBooleanValue",value:function(e,t){this._storePlaylistValue(e,!0===t||"true"===t.toLowerCase()||"yes"===t.toLowerCase())}},{key:"_storePlaylistJsonValue",value:function(e,t){this._storePlaylistValue(e,JSON.parse(t))}},{key:"_storePlaylistStreamSlide",value:function(e,t,n){for(var i,r,a,o,s,l=n,u=0;u<t.length;){(o=t.indexOf(",",u))<0&&(o=t.length);var c=(s=t.substring(u,o)).indexOf("="),d=s.substring(0,c),p=s.substring(c+1);switch(d){case"TIME":i=parseInt(p,10);break;case"STREAM-START":r=parseInt(p,10);break;case"VERSION":a=parseInt(p,10);break;default:console.warn("Unhandled stream slide value key ".concat(d,":"),p)}u=o+1}this.streamSlides.push({time:i,streamStart:r,url:l,version:a})}},{key:"setVodVideoCdnServers",value:function(e){this.vodVideoCdnServers=e}},{key:"toDeprecatedPresentationInfo",value:function(){var e=s(this.presentationUpdatedAt),t=s(this.streamUpdatedAt)||0,n=s(this.streamUpdatedAt)||0,i=Math.round(e/1e3),r=Math.round(n/1e3),a=e>t?this.presentationUpdatedAt:this.streamUpdatedAt,o=this.streamSlides;return{is_live:"live"===this.playerType,player_type:this.playerType,has_video:this.hasVideo,has_audio:this.hasAudio,has_slides:this.hasSlides,video_service_name:this.vodVideoServiceName,video_service_id:this.vodVideoId,video_ken_enabled:this.vodVideoKenEnabled,video_cdn_servers:this.vodVideoCdnServers,slides_xml_url:this.vodSlidesXmlUrl,slides_json_url:this.vodSlidesJsonUrl,default_subtitles_language:this.defaultSubtitlesLanguage,last_modified:a,next_presentation:{id:this.nextPresentationId,title:this.nextPresentationTitle,thumbnail:this.nextPresentationThumbnail},playing_analytics_disabled:this.playingAnalyticsDisabled,thumbnail:this.presentationThumbnail,player_start_time:this.startTime,updated_at:i,media_set_id:this.presentationMediaSetId,video_ratio:this.videoRatio,display_video_ratio:this.displayVideoRatio,streaming:{details:{finished:this.streamFinished,available_on_demand:this.streamAvailableOnDemand,terminated:this.streamTerminated,servers:this.streamVideoServers,delay:this.streamSyncDelay,subtitles_enabled:this.streamSubtitlesEnabled,subtitles_delay_ms:this.streamSubtitlesDelay,video_actual_start:this.streamVideoActualStart,video_scheduled_start:this.streamVideoScheduledStart,show_slides:this.streamShowSlides,update_interval:this.streamUpdateInterval},slides:{last_modified:r,slides:o}}}}}]),e}(),u=function(){function e(t){r(this,e),this.options=t,this.props={request:null,usingPlaylist:!1,playlistUrl:null,playlistUrlLastModified:null,loggedUsage:!1,vodVideoCdnServers:null},this.playlist=null}return o(e,[{key:"checkBot",value:function(e){return!!Object(i.P)()&&(console.warn("PLST","You are a search engine bot."),e.error&&e.error('<p>It appears you are a search engine bot.<br>If not, please report this at <a class="link--white link--underline" href="mailto:hello@slideslive.com">hello@slideslive.com</a>.</p><p>'.concat(navigator.userAgent,"</p>")),!0)}},{key:"loadPresentationInfo",value:function(e,t){var n=this;if(!this.checkBot(t)&&!this.props.request){var r=[];Object(i.U)(this.options.demo)&&r.push("demo=".concat(this.options.demo)),Object(i.U)(this.options.registrationId)&&r.push("registration_id=".concat(this.options.registrationId)),Object(i.U)(e)&&r.push(e),this.sendRequest("".concat(this.options.benBaseUrl,"/player/").concat(this.options.presentationId,"?").concat(r.join("&")),(function(){t.complete&&t.complete()}),(function(e){if(304!==e.status)if(e.responseText.startsWith("#"))n.processPlaylistFromSlidesLive(e.responseText,t);else{var i=JSON.parse(e.responseText);i.playlist||i.playlist_url?n.processPlaylistFromSlidesLive(e.responseText,t):t.presentationInfo&&t.presentationInfo(i)}}),(function(e){console.warn("PLST","Loading presentation info failed. Network error ".concat(e.status,".")),t.error&&t.error("Presentation info loading failed. Try again.")}),{withCredentials:!0})}}},{key:"loadPlaylist",value:function(e){this.checkBot(e)||this.props.request||(this.props.playlistUrl?this.loadPlaylistFromPlaylistUrl(e):this.loadPlaylistFromSlidesLive(e))}},{key:"processPlaylistFromSlidesLive",value:function(e,t){if(this.props.usingPlaylist=!0,e.startsWith("#"))t.complete&&t.complete(),this.parsePlaylist(e,t);else if(e.startsWith("{")){var n=JSON.parse(e);n.vod_video_cdn_servers&&(this.props.cdnServers=n.vod_video_cdn_servers),n.playlist?(t.complete&&t.complete(),this.parsePlaylist(n.playlist,t)):n.playlist_url?(this.props.playlistUrl=n.playlist_url,this.loadPlaylistFromPlaylistUrl(t)):(console.warn("PLST","Loading presentation playlist failed. Invalid JSON content."),t.error&&t.error("Invalid playlist response. Try again."))}else t.complete&&t.complete(),console.warn("PLST","Loading presentation playlist failed. Invalid content."),t.error&&t.error("Invalid playlist response. Try again.")}},{key:"loadPlaylistFromSlidesLive",value:function(e){var t=this;this.props.usingPlaylist=!0;var n=[];n.push("format=m3u8"),Object(i.U)(this.options.demo)&&n.push("demo=".concat(this.options.demo)),Object(i.U)(this.options.registrationId)&&n.push("registration_id=".concat(this.options.registrationId)),this.sendRequest("".concat(this.options.benBaseUrl,"/player/").concat(this.options.presentationId,"?").concat(n.join("&")),(function(){}),(function(n){304!==n.status?t.processPlaylistFromSlidesLive(n.responseText,e):e.complete&&e.complete()}),(function(t){e.complete&&e.complete(),console.warn("PLST","Loading presentation playlist from URL failed. Network error ".concat(t.status,".")),e.error&&e.error("Presentation playlist loading failed. Try again.")}),{withCredentials:!0})}},{key:"loadPlaylistFromPlaylistUrl",value:function(e){var t=this;this.props.usingPlaylist=!0,this.sendRequest(this.props.playlistUrl,(function(){e.complete&&e.complete()}),(function(n){if(304!==n.status){var r=n.getResponseHeader("Last-Modified");Object(i.U)(r)&&(t.props.playlistUrlLastModified=r),n.responseText.startsWith("#")&&t.parsePlaylist(n.responseText,e)}}),(function(n){console.warn("PLST","Loading presentation playlist from URL failed. Network error ".concat(n.status,".")),e.error&&e.error("Presentation playlist loading failed. Try again."),0!==n.status&&403!==n.status||(t.props.playlistUrl=null)}),{accept:"application/x-mpegURL",withCredentials:!1,ifModifiedSince:this.props.playlistUrlLastModified})}},{key:"sendRequest",value:function(e,t,n,r,a){var o=this,s=a.accept,l=a.ifModifiedSince,u=a.withCredentials,c={Accept:s||"text/plain"};return Object(i.U)(l)&&(c["If-Modified-Since"]=l),this.props.request=Object(i.b)("GET","".concat(e),void 0,{noAcceptHeader:!0,noXRequestedWithHeader:!0,skipCsrfToken:!0,withCredentials:u,headers:c,complete:function(){o.props.request=null,t()},success:function(e){o.props.request=null,n(e)},error:function(e,t){o.props.request=null,r(e,t)}}),this.props.request}},{key:"parsePlaylist",value:function(e,t){this.props.loggedUsage||(console.info("PLST","Using new SlidesLive presentation playlist."),this.props.loggedUsage=!0);var n=window.performance.now(),i=this.doParsePlaylist(e),r=window.performance.now()-n;r>2e4&&console.warn("PLST","Parsing presentation playlist took ".concat(r," ms.")),i?(this.props.vodVideoCdnServers&&i.setVodVideoCdnServers(this.props.vodVideoCdnServers),this.playlist=i,t.playlist&&t.playlist(this.playlist),t.presentationInfo&&t.presentationInfo(this.playlist.toDeprecatedPresentationInfo())):t.error&&t.error("Presentation playlist parsing failed. Try again.")}},{key:"doParsePlaylist",value:function(e){if(!e.startsWith("#EXTM3U\n"))return console.warn("PLST","Presentation playlist parsing failed."),null;for(var t,n,i=new l,r=0;r<e.length;)if((t=e.indexOf("\n",r))<0&&(t=e.length),"#EXTM3U"!==(n=e.substring(r,t)))if(0!==n.size)if("#"===n[0]){var a=n.indexOf(":");if(a<0){var o=n.substring(1);console.warn("Unhandled tag ".concat(o,"."))}else{var s=n.substring(1,a),u=n.substring(a+1);switch(s){case"EXT-SL-VERSION":case"EXT-SL-PRESENTATION-ID":case"EXT-SL-PRESENTATION-MEDIA-SET-ID":case"EXT-SL-START-TIME":case"EXT-SL-NEXT-PRESENTATION-ID":case"EXT-SL-STREAM-SYNC-DELAY":case"EXT-SL-STREAM-SUBTITLES-DELAY":case"EXT-SL-STREAM-UPDATE-INTERVAL":i._storePlaylistIntegerValue(s,u);break;case"EXT-SL-VIDEO-RATIO":case"EXT-SL-DISPLAY-VIDEO-RATIO":i._storePlaylistFloatValue(s,u);break;case"EXT-SL-PLAYLIST-TYPE":case"EXT-SL-PLAYLIST-CREATED-AT":case"EXT-SL-PRESENTATION-TITLE":case"EXT-SL-PRESENTATION-THUMBNAIL":case"EXT-SL-DEFAULT-SUBTITLES-LANGUAGE":case"EXT-SL-PLAYER-LOGO":case"EXT-SL-NEXT-PRESENTATION-TITLE":case"EXT-SL-NEXT-PRESENTATION-THUMBNAIL":case"EXT-SL-PLAYER-TYPE":case"EXT-SL-VOD-VIDEO-SERVICE-NAME":case"EXT-SL-VOD-VIDEO-ID":case"EXT-SL-VOD-SLIDES-XML-URL":case"EXT-SL-VOD-SLIDES-JSON-URL":case"EXT-SL-PRESENTATION-UPDATED-AT":case"EXT-SL-STREAM-UPDATED-AT":case"EXT-SL-STREAM-SLIDES-UPDATED-AT":i._storePlaylistStringValue(s,u);break;case"EXT-SL-STREAM-VIDEO-ACTUAL-START":case"EXT-SL-STREAM-VIDEO-SCHEDULED-START":i._storePlaylistDateTimeValue(s,u);break;case"EXT-SL-PLAYING-ANALYTICS-DISABLED":case"EXT-SL-HAS-VIDEO":case"EXT-SL-HAS-AUDIO":case"EXT-SL-HAS-SLIDES":case"EXT-SL-VOD-VIDEO-KEN-ENABLED":case"EXT-SL-STREAM-FINISHED":case"EXT-SL-STREAM-AVAILABLE-ON-DEMAND":case"EXT-SL-STREAM-TERMINATED":case"EXT-SL-STREAM-SHOW-SLIDES":case"EXT-SL-STREAM-SUBTITLES-ENABLED":i._storePlaylistBooleanValue(s,u);break;case"EXT-SL-STREAM-VIDEO-SERVERS":i._storePlaylistJsonValue(s,u);break;case"EXT-SL-STREAM-SLIDE":r=t+1,(t=e.indexOf("\n",r))<0&&(t=e.length),n=e.substring(r,t),i._storePlaylistStreamSlide(s,u,n);break;default:console.warn("Unhandled presentation playlist tag ".concat(s,":"),u)}}r=t+1}else r=t+1;else r=t+1;else r=t+1;return i}},{key:"usingPlaylist",get:function(){return this.props.usingPlaylist}}]),e}()},135:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(0),r=n(1);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var l=function(){function e(t){a(this,e),this.callbacks=t,this.props={loading:null,state:"",player:null}}return s(e,[{key:"play",value:function(){this.active&&this.props.player.play()}},{key:"pause",value:function(){this.active&&this.props.player.pause()}},{key:"updatePlayer",value:function(e,t){this.props.loading=!1,this.props.state=t?"playing":"paused",this.props.player=e,this.callbacks.changed()}},{key:"active",get:function(){return!!this.props.player}},{key:"loading",get:function(){return this.active&&this.props.loading},set:function(e){this.props.loading!==e&&(this.props.loading=e,this.callbacks.changed())}},{key:"playing",get:function(){return"playing"===this.props.state}},{key:"ended",get:function(){return this.props.player.ended}},{key:"playbackRate",get:function(){return this.active?this.props.player.playbackRate:null},set:function(e){this.props.player.playbackRate=e}},{key:"state",set:function(e){this.props.state!==e&&(this.props.state=e,this.callbacks.changed())}},{key:"player",set:function(e){this.updatePlayer(e,!1)}}]),e}(),u=function(){function e(t){var n=this;a(this,e),this.callbacks=t,this.props={loading:!1,playingBeforeLoading:!1,pauseWhenLoaded:!1,uberUpdateTimeout:null,lastAction:null,state:"",playFailed:!1,playbackRate:1},this.speakerVideo=new l({changed:function(){return n.scheduleUberUpdate()}}),this.slideVideo=new l({changed:function(){return n.scheduleUberUpdate()}})}return s(e,[{key:"scheduleUberUpdate",value:function(){var e=this;this.props.uberUpdateTimeout||(this.props.uberUpdateTimeout=setTimeout((function(){e.props.uberUpdateTimeout=null,e.uberUpdate()}),0))}},{key:"play",value:function(){this.playFailed=!1,this.loading||(Object(r.a)("PLBCKCTRL","play"),this.props.lastAction="play",this.speakerVideo.play(),this.slideVideo.play())}},{key:"pause",value:function(){this.props.lastAction="pause",this.loading?this.props.pauseWhenLoaded=!0:(Object(r.a)("PLBCKCTRL","pause"),this.speakerVideo.pause(),this.slideVideo.pause())}},{key:"updateSpeakerVideoLoading",value:function(e){Object(r.a)("PLBCKCTRL","updateSpeakerVideoLoading",e),this.speakerVideo.loading=e}},{key:"updateSpeakerVideoState",value:function(e){Object(r.a)("PLBCKCTRL","updateSpeakerVideoState",e),this.speakerVideo.state=e}},{key:"updateSlideVideoPlayer",value:function(e,t){Object(r.a)("PLBCKCTRL","updateSlideVideoPlayer",e?"set":"reset",t),this.slideVideo.updatePlayer(e,t),this.slideVideo.active&&this.slideVideo.playbackRate!==this.playbackRate&&(this.slideVideo.playbackRate=this.playbackRate)}},{key:"updateSlideVideoLoading",value:function(e){Object(r.a)("PLBCKCTRL","updateSlideVideoLoading",e),this.slideVideo.loading=e}},{key:"updateSlideVideoState",value:function(e){this.slideVideo.active&&(Object(r.a)("PLBCKCTRL","updateSlideVideoState",e,this.slideVideo.ended?"ended":"not ended"),this.slideVideo.ended||(this.slideVideo.state=e))}},{key:"uberUpdate",value:function(){return this.speakerVideo.loading||this.slideVideo.loading?this.updateLoading():(this.loading&&this.updateLoadingDone(),this.playing?this.updatePlaying():this.updatePaused())}},{key:"updateLoading",value:function(){Object(r.a)("PLBCKCTRL","updateLoading",this.speakerVideo.loading,this.slideVideo.loading),this.loading||(this.props.playingBeforeLoading=this.playing),this.loading=!0,this.speakerVideo.loading&&this.slideVideo.loading||(this.speakerVideo.loading&&this.slideVideo.pause(),this.slideVideo.loading&&this.speakerVideo.pause())}},{key:"updateLoadingDone",value:function(){var e=[];this.props.pauseWhenLoaded&&e.push("pauseWhenLoaded"),this.props.playingBeforeLoading&&e.push("playingBeforeLoading"),this.props.playFailed&&e.push("playFailed"),Object(r.a)("PLBCKCTRL","updateLoadingDone",e),this.loading=!1,this.props.pauseWhenLoaded?(this.speakerVideo.active&&this.speakerVideo.playing||this.slideVideo.active&&this.slideVideo.playing)&&this.pause():(this.props.playingBeforeLoading||"play"===this.props.lastAction&&!this.props.playFailed)&&(this.speakerVideo.active&&!this.speakerVideo.playing||this.slideVideo.active&&!this.slideVideo.playing)&&this.play(),this.props.pauseWhenLoaded=!1,this.props.playingBeforeLoading=!1,this.scheduleUberUpdate()}},{key:"updatePlaying",value:function(){Object(r.a)("PLBCKCTRL","updatePlaying",this.speakerVideo.playing,this.slideVideo.playing),this.speakerVideo.active&&this.speakerVideo.playing||this.slideVideo.active&&this.slideVideo.playing&&!this.slideVideo.ended?this.speakerVideo.active&&!this.speakerVideo.playing||this.slideVideo.active&&(!this.slideVideo.playing||this.slideVideo.ended)?"pause"===this.props.lastAction&&this.pause():this.state="playing":this.state="paused"}},{key:"updatePaused",value:function(){Object(r.a)("PLBCKCTRL","updatePaused",this.speakerVideo.playing,this.slideVideo.playing),this.speakerVideo.active&&!this.speakerVideo.playing||this.slideVideo.active&&!this.slideVideo.playing&&!this.slideVideo.ended?this.speakerVideo.active&&this.speakerVideo.playing||this.slideVideo.active&&(this.slideVideo.playing||this.slideVideo.ended)?"play"===this.props.lastAction&&this.play():this.state="paused":this.state="playing"}},{key:"updatePlaybackRate",value:function(e){this.playbackRate!==e&&(Object(r.a)("PLBCKCTRL","updatePlaybackRate",e),this.playbackRate=e)}},{key:"loading",get:function(){return this.props.loading},set:function(e){var t=this;this.props.loading!==e&&(Object(r.a)("PLBCKCTRL","loadingChanged",e),this.props.loading=e,Object(i.k)((function(){return t.callbacks.loadingChanged(e)})))}},{key:"playing",get:function(){return"playing"===this.props.state}},{key:"playbackRate",get:function(){return this.props.playbackRate},set:function(e){e!==this.playbackRate&&(Object(r.a)("PLBCKCTRL","playbackRateChanged",e),this.props.playbackRate=e,this.speakerVideo.playbackRate=e,this.slideVideo.active&&(this.slideVideo.playbackRate=e))}},{key:"state",set:function(e){this.props.state!==e&&(Object(r.a)("PLBCKCTRL","stateChanged",e),this.props.state=e,this.callbacks.stateChanged(e))}},{key:"speakerVideoPlayer",set:function(e){this.speakerVideo.player=e}},{key:"playFailed",set:function(e){this.props.playFailed=e,e&&this.pause()}}]),e}()},136:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ie}));var i=n(0),r=n(1),a=n(38);var o=function(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),i=Math.floor(e%60),r=1,a="";return t>0&&(r=2,a+=t.toString(),a+=":"),a+=n.toString().padStart(r,"0"),a+=":",a+=i.toString().padStart(2,"0")},s=Object(i.M)(n(204));var l=function(e){return s[e]},u={play:"Play [spacebar]",pause:"Pause [spacebar]",volume:"Volume",live:"Live",fullscreen:"Fullscreen [f]",minimize:"Minimize",prevSlide:"Previous slide [arrow left]",nextSlide:"Next slide [arrow right]",syncSlidesToVideo:"Sync slides to video [s]",syncVideoToSlides:"Sync video to slides [t]",originalSlide:"Show original slide",settings:"Settings",playlists:"Playlists",bookmarks:"Bookmarks",subtitles:"Subtitles",playbackRate:"Playback rate",quality:"Quality",server:"Server",cancel:"Cancel",next:"Next",close:"Close",create:"Create",save:"Save",edit:"Edit",remove:"Remove",liveStartSoon:"Livestream will start soon!",createPlaylist:"Create playlist",addFavorite:"Add to Favorite",addWatchLater:"Add to Watch later",addToPlaylist:"Add to playlist",removeFavorite:"Remove from Favorite",removeWatchLater:"Remove from Watch later",removeFromPlaylist:"Remove from playlist",addBookmark:"Add bookmark [b]",addNote:"Add a note",moreOptions:"More options",watchLater:"Watch later",favorite:"Favorite",myPlaylists:"My playlists",newPlaylistName:"Playlist name",topicsAndTranscript:"Topics and transcript",notRecorded:"Presentation has not been recorded yet!",debugInformation:"Debug information",muteSlide:"Mute right video",unmuteSlide:"Unmute right video"},c={play:"P\u0159ehr\xe1t [mezern\xedk]",pause:"Pozastavit [mezern\xedk]",volume:"Hlasitost",live:"Live",fullscreen:"Cel\xe1 obrazovka [f]",minimize:"Zmen\u0161it",prevSlide:"P\u0159edchoz\xed slide [\u0161ipka vlevo]",nextSlide:"Dal\u0161\xed slide [\u0161ipka vpravo]",syncSlidesToVideo:"Synchronizovat slidy s videem [s]",syncVideoToSlides:"Synchronizovat video se slidy [t]",originalSlide:"Zobrazit p\u016fvodn\xed slide",settings:"Nastaven\xed",playlists:"Playlisty",bookmarks:"Z\xe1lo\u017eky",subtitles:"Titulky",playbackRate:"Rychlost p\u0159ehr\xe1v\xe1n\xed",quality:"Kvalita",server:"Server",cancel:"Zru\u0161it",next:"Dal\u0161\xed",close:"Zav\u0159\xedt",create:"Vytvo\u0159it",save:"Ulo\u017eit",edit:"Upravit",remove:"Smazat",liveStartSoon:"\u017div\xfd p\u0159enos za\u010dne ji\u017e brzy!",createPlaylist:"Vytvo\u0159it playlist",addFavorite:"P\u0159idat do obl\xedben\xfdch",addWatchLater:"P\u0159idat ke zhl\xe9dnut\xed pozd\u011bji",addToPlaylist:"P\u0159idat do playlistu",removeFavorite:"Odebrat z obl\xedben\xfdch",removeWatchLater:"Odebrat ze zhl\xe9dnut\xed pozd\u011bji",removeFromPlaylist:"Odebrat z playlistu",addBookmark:"P\u0159idat z\xe1lo\u017eku [b]",addNote:"P\u0159idat pozn\xe1mku",moreOptions:"V\xedce mo\u017enost\xed",watchLater:"Zhl\xe9dnout pozd\u011bji",favorite:"Obl\xedben\xe9",myPlaylists:"Moje playlisty",newPlaylistName:"N\xe1zev playlistu",topicsAndTranscript:"T\xe9mata a p\u0159epis",notRecorded:"Prezentace je\u0161t\u011b nebyla nahr\xe1na!",debugInformation:"Debug informace",muteSlide:"Zti\u0161it video vpravo",unmuteSlide:"Zapnout zvuk videa vpravo"},d={play:"Play [spacebar]",pause:"Pause [spacebar]]",volume:"Volume",live:"Live",fullscreen:"Fullscreen [f]",minimize:"Minimize",prevSlide:"Vorherige Seite [Pfeil links]",nextSlide:"N\xe4chste Seite [Pfeil rechts]",syncSlidesToVideo:"Die Slides mit dem Video synchronisieren [s]",syncVideoToSlides:"Das Video mit den Slides synchronisieren [t]",originalSlide:"Show original slide",settings:"Settings",playlists:"Playlists",bookmarks:"Bookmarks",subtitles:"Subtitles",playbackRate:"Playback rate",quality:"Quality",server:"Server",cancel:"Cancel",next:"Next",close:"Close",create:"Create",save:"Save",edit:"Edit",remove:"Remove",liveStartSoon:"Livestream will start soon!",createPlaylist:"Create playlist",addFavorite:"Add to Favorite",addWatchLater:"Add to Watch later",addToPlaylist:"Add to playlist",removeFavorite:"Remove from Favorite",removeWatchLater:"Remove from Watch later",removeFromPlaylist:"Remove from playlist",addBookmark:"Add bookmark [b]",addNote:"Add a note",moreOptions:"More options",watchLater:"Watch later",favorite:"Favorite",myPlaylists:"My playlists",newPlaylistName:"Playlist name",topicsAndTranscript:"Topics and transcript",notRecorded:"Presentation has not been recorded yet!",debugInformation:"Debug information",muteSlide:"Mute right video",unmuteSlide:"Unmute right video"};function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var f=function(){function e(t,n,r,a,o){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.panel=t,this.slider=n,this.bar=r,this.current=a,this.setVolumeCallback=o,this.props={mouseIn:!1,mouseDown:!1,setVolumeTimeout:void 0},this.mouseUpHandler=function(e){s.setMouseDown(e,!1),s.props.mouseIn||s.hide(e)},this.mouseMoveHandler=function(e){return s.setVolumeFromMouseEvent(e)},Object(i.a)(this.panel,"mouseenter",(function(e){return s.show(e)})),Object(i.a)(this.panel,"mouseleave",(function(e){return s.hide(e)})),Object(i.a)(this.panel,"mouseenter",(function(e){return s.mouseEnterSlider(e)})),Object(i.a)(this.panel,"mouseleave",(function(e){return s.mouseLeaveSlider(e)})),Object(i.a)(this.slider,"dragstart",(function(e){return e.preventDefault()})),Object(i.a)(this.slider,"mousedown",(function(e){return s.setMouseDown(e,!0)}))}var t,n,r;return t=e,(n=[{key:"show",value:function(e){e.target===this.panel&&this.panel.classList.add("slp__volumePanel--active")}},{key:"hide",value:function(e){this.props.mouseIn&&e.target!==this.panel||(this.props.mouseIn=!1,this.props.mouseDown||this.panel.classList.remove("slp__volumePanel--active"))}},{key:"mouseEnterSlider",value:function(e){e.target===this.panel&&(this.props.mouseIn=!0,Object(i.a)(document,"mouseup",this.mouseUpHandler),Object(i.a)(document,"mousemove",this.mouseMoveHandler))}},{key:"mouseLeaveSlider",value:function(e){this.props.mouseIn&&e.target!==this.panel||(this.props.mouseIn=!1,this.props.mouseDown||(Object(i.hb)(document,{handler:this.mouseUpHandler}),Object(i.hb)(document,{handler:this.mouseMoveHandler})))}},{key:"setMouseDown",value:function(e,t){this.setVolumeFromMouseEvent(e),this.props.mouseDown=t}},{key:"setVolumeFromMouseEvent",value:function(e){if(this.props.mouseDown){var t=Object(i.y)(e)-Object(i.D)("left",this.bar,!0)||0,n=Math.max(0,Math.min(100,t/Object(i.yb)(this.bar)*100));this.setVolumeCallback(n)}}},{key:"setVolumeDisplay",value:function(e){this.current.style.width="".concat(e,"%")}}])&&p(t.prototype,n),r&&p(t,r),e}();function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var m=function(){function e(t,n,a,o,s,l,u,c,d,p,f){var h=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bar=t,this.padding=n,this.current=a,this.mouse=o,this.bookmarks=s,this.startMoveCallback=l,this.updateMoveCallback=u,this.endMoveCallback=c,this.progressImageUrlCallback=d,this.initializeLocalization=p,this.bookmarkIcon=f,this.props={bookmarks:[],mouseIn:!1,mouseDown:!1,mouseTime:0,duration:0,slideRatio:16/9,currentSlideUrl:null},this.mouseUpHandler=function(e){Object(r.a)("PROG","mouse up"),h.endMove(e),h.props.mouseDown=!1,h.props.mouseIn||h.setInactive()},this.mouseMoveHandler=function(e){return h.followMouse(e)},Object(i.a)(this.padding,"dragstart",(function(e){return e.preventDefault()})),Object(i.a)(this.padding,"mouseenter",(function(e){return h.setActive(e)})),Object(i.a)(this.padding,"mouseleave",(function(e){return h.setInactive(e)})),Object(i.a)(this.padding,"mousedown",(function(e){return h.setMouseDown(e)})),Object(i.a)(this.padding,"touchstart",(function(e){e.preventDefault(),h.disableTippy(),h.setActive(e),h.setMouseDown(e)})),Object(i.a)(this.padding,"touchmove",(function(e){e.preventDefault(),h.mouseMoveHandler(e)})),Object(i.a)(this.padding,"touchend",(function(e){e.preventDefault(),h.mouseUpHandler(e),h.setInactive(e),h.enableTippy()})),Object(i.a)(this.padding,"touchcancel",(function(e){e.preventDefault(),h.setInactive(e),h.enableTippy()})),this.resetTippy(),this.prepareImageTooltipUpdateHack()}var t,n,s;return t=e,(n=[{key:"resetTippy",value:function(){this.padding._tippy&&(this.padding._tippy.destroy(),this.padding._tippy=void 0);var e=this.padding.closest(".slp");Object(a.a)(this.padding,{a11y:!1,arrow:!1,delay:20,distance:0,duration:100,animation:"shift-away",animateFill:!1,theme:"slp-progress",placement:"top",followCursor:"horizontal",touch:!1,appendTo:e.parentNode,hideOnClick:!1,boundary:e})}},{key:"disableTippy",value:function(){this.padding._tippy&&this.padding._tippy.disable()}},{key:"enableTippy",value:function(){this.padding._tippy&&this.padding._tippy.enable()}},{key:"setProgress",value:function(e,t){var n=0===this.props.duration;if(this.props.duration=t,n&&this.setBookmarksHtml(),!this.props.mouseDown){var i=e/t*100;this.current.style.width="".concat(i,"%")}}},{key:"setActive",value:function(e){e&&e.target!==this.padding||(Object(r.a)("PROG","set active"),this.props.mouseIn=!0,"mouseenter"===e.type&&(Object(i.a)(document,"mouseup",this.mouseUpHandler),Object(i.a)(document,"mousemove",this.mouseMoveHandler)),this.bar.classList.add("slp__progress--active"))}},{key:"setInactive",value:function(e){e&&e.target!==this.padding||(Object(r.a)("PROG","set inactive",this.props.mouseDown),this.props.mouseIn=!1,this.props.mouseDown||(e&&"mouseleave"!==e.type||(Object(i.hb)(document,{handler:this.mouseUpHandler}),Object(i.hb)(document,{handler:this.mouseMoveHandler})),this.bar.classList.remove("slp__progress--active")))}},{key:"setMouseDown",value:function(e){Object(r.a)("PROG","mouse down"),this.props.mouseDown=!0,this.startMove(e)}},{key:"followMouse",value:function(e){var t=this.mousePositionToPct(e);this.setMouseWidth(t),this.props.mouseDown&&(this.setCurrentWidth(t),this.updateMoveCallback(t))}},{key:"startMove",value:function(e){var t=this.mousePositionToPct(e);this.setMouseWidth(t),this.setCurrentWidth(t),this.startMoveCallback(t)}},{key:"endMove",value:function(e){var t=this.mousePositionToPct(e);this.setCurrentWidth(t),this.endMoveCallback(t)}},{key:"setCurrentWidth",value:function(e){this.current.style.width="".concat(e,"%")}},{key:"setMouseWidth",value:function(e){this.mouse.style.width="".concat(e,"%");var t,n=this.padding._tippy.popper.querySelector("[data-progressbar-time]"),r=this.props.duration*(e/100),a=this.progressImageUrlCallback(r),s=!1;Object(i.U)(a)?this.props.currentSlideUrl!==a?t='<div class="slp__progress__imageTooltip"><img src="'.concat(a,'" alt="Slide" onload="window.__slpImageTooltipUpdateHack(this)"><div data-progressbar-time>').concat(o(r/1e3),"</div></div>"):s=!0:n&&!Object(i.U)(this.props.currentSlideUrl)?s=!0:t='<div class="slp__progress__textTooltip"><div data-progressbar-time>'.concat(o(r/1e3),"</div></div>"),this.props.currentSlideUrl=a,s?n.textContent=o(r/1e3):this.padding._tippy.setContent(t)}},{key:"mousePositionToPct",value:function(e){var t=Object(i.y)(e)-Object(i.D)("left",this.bar,!0)||0;return Math.max(0,Math.min(100,t/Object(i.yb)(this.bar)*100))}},{key:"slideRatio",set:function(e){this.props.slideRatio=e}},{key:"prepareImageTooltipUpdateHack",value:function(){"function"!==typeof window.__slpImageTooltipUpdateHack&&(window.__slpImageTooltipUpdateHack=function(e){var t=e.closest(".tippy-popper");if(Object(i.U)(t)){var n=t._tippy.popperInstance;Object(i.U)(n)&&n.update()}})}},{key:"setBookmarks",value:function(e){this.props.bookmarks=e,this.props.duration>0&&this.setBookmarksHtml()}},{key:"setBookmarksHtml",value:function(){for(var e="",t=0;t<this.props.bookmarks.length;t++){var n=this.props.bookmarks[t],i=""===n.note.trim()?o(n.current_time):n.note,r=1e3*n.current_time/this.props.duration*100;e+='<li class="slp__progress__bookmark"',e+='  data-slp-title="'.concat(i,'"'),e+='  data-slp-action-w-param="seekTo"',e+='  data-slp-action-param="'.concat(1e3*(n.current_time-2),'"'),e+='  style="left: '.concat(r,'%;">'),e+=this.bookmarkIcon,e+="</li>"}this.bookmarks.innerHTML=e,this.initializeLocalization(this.bookmarks)}}])&&h(t.prototype,n),s&&h(t,s),e}();function v(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var g=function(){function e(t,n,r){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.trigger=t,this.menu=n,this.changeCallback=r,this.originalContent={},this.activeItems={},Object(i.a)(this.trigger,"click",(function(e){return a.toggleMenu(e)})),Object(i.a)(this.menu,"click","[data-slp-open-menu]",(function(e){return a.openMenuFromEvent(e)})),Object(i.a)(this.menu,"click","[data-slp-action-param]",(function(e){return a.setActiveItemFromEvent(e)}))}var t,n,a;return t=e,(n=[{key:"fireChangeCallback",value:function(){var e=this.menu.classList.contains("slp__menu--active");this.trigger._tippy&&(e?this.trigger._tippy.disable():this.trigger._tippy.enable()),this.changeCallback(e)}},{key:"close",value:function(){this.menu.classList.contains("slp__menu--active")&&(Object(r.a)("MENU","close"),this.menu.classList.remove("slp__menu--active"),this.fireChangeCallback())}},{key:"toggleMenu",value:function(e){Object(r.a)("MENU","toggle"),e.preventDefault(),this.menu.classList.contains("slp__menu--active")||this.openMenu("root"),this.menu.classList.toggle("slp__menu--active"),this.fireChangeCallback()}},{key:"openMenuFromEvent",value:function(e){e.preventDefault(),this.openMenu(e.selectorTarget.getAttribute("data-slp-open-menu"))}},{key:"openMenu",value:function(e){var t,n=v(this.menu.querySelectorAll("[data-slp-menu]"));try{for(n.s();!(t=n.n()).done;){var i=t.value,r=e===i.getAttribute("data-slp-menu");i.classList.toggle("slp__submenu--active",r)}}catch(a){n.e(a)}finally{n.f()}}},{key:"setSubmenuContent",value:function(e,t){var n=this.menu.querySelector('[data-slp-menu="'.concat(e,'"]'));if(Object(i.U)(n)){if(Object(i.U)(this.originalContent[e])||(this.originalContent[e]=n.innerHTML),t.length>0){var r,a=this.originalContent[e],o=v(t);try{for(o.s();!(r=o.n()).done;){var s=r.value;a+='<li class="slp__submenu__button"',Object(i.U)(s.param)?(a+=' data-slp-action-w-param="'.concat(s.action,'"'),a+=' data-slp-action-param="'.concat(s.param,'"')):a+=' data-slp-action="'.concat(s.action,'"'),a+=">".concat(s.title,"</li>")}}catch(u){o.e(u)}finally{o.f()}n.innerHTML=a,this.menu.querySelector('[data-slp-open-menu="'.concat(e,'"]')).classList.remove("slp__submenu__button--disabled");var l=this.activeItems[e];this.setActiveItem(e,l)}}else console.warn("Submenu ".concat(e," not found."))}},{key:"disableSubmenu",value:function(e){this.menu.querySelector('[data-slp-open-menu="'.concat(e,'"]')).classList.add("slp__submenu__button--disabled")}},{key:"setActiveItem",value:function(e,t){if(Object(i.U)(t)){this.activeItems[e]=t;var n=this.menu.querySelector('[data-slp-menu="'.concat(e,'"]'));if(Object(i.U)(n)){var r,a=null,o=v(n.querySelectorAll("[data-slp-action-param]"));try{for(o.s();!(r=o.n()).done;){var s=r.value,l=s.getAttribute("data-slp-action-param")===t.toString();s.classList.toggle("slp__submenu__button--active",l),l&&(a=s.innerText)}}catch(d){o.e(d)}finally{o.f()}if(Object(i.U)(a)){var u=this.menu.querySelector('[data-slp-open-menu="'.concat(e,'"]'));if(Object(i.U)(u)){var c=u.querySelector(".slp__submenu__activeItemLabel");Object(i.U)(c)&&(c.innerHTML=a)}}}}}}])&&b(t.prototype,n),a&&b(t,a),e}();function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var w=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.options=n,this.toggleControlsCallback=i,this.props={visible:!0,menuOpen:!1,modalOpen:!1,playing:!1,hideTimer:null,visibleTimeout:null},this.addListeners(this.element)}var t,n,a;return t=e,(n=[{key:"addListeners",value:function(e){var t=this;Object(i.a)(e,"mouseenter",(function(e){return t.mouseEnter(e)})),Object(i.a)(e,"mousemove",(function(e){return t.mouseMove(e)})),Object(i.a)(e,"mouseleave",(function(e){return t.mouseLeave(e)}))}},{key:"isControlsElement",value:function(e){return"videoControls"===e.dataset.slpTarget||"slidesControls"===e.dataset.slpTarget||"settingsMenu"===e.dataset.slpTarget}},{key:"mouseEnter",value:function(e){e.target===this.element?(this.mouseInPlayer=!0,Object(r.a)("CONTROLS","mouse in player")):this.isControlsElement(e.target)&&(this.mouseInControls=!0,Object(r.a)("CONTROLS","mouse in controls"))}},{key:"mouseMove",value:function(e){this.props.mouseInPlayer&&!this.props.visible&&(this.visible=!0),this.refresh()}},{key:"mouseLeave",value:function(e){e.target===this.element?(this.mouseInPlayer=!1,Object(r.a)("CONTROLS","mouse out player")):this.isControlsElement(e.target)&&(this.mouseInControls=!1,Object(r.a)("CONTROLS","mouse out controls"))}},{key:"refresh",value:function(){this.updateHideTimer()}},{key:"updateHideTimer",value:function(){var e=this;Object(i.U)(this.props.hideTimer)&&(clearTimeout(this.props.hideTimer),this.props.hideTimer=null),this.props.visible&&this.canHide&&(this.props.mouseInPlayer?this.props.hideTimer=setTimeout((function(){return e.hideTimerCallback()}),3e3):this.visible=!1)}},{key:"hideTimerCallback",value:function(){this.canHide&&(this.visible=!1)}},{key:"visible",set:function(e){var t=this;Object(r.a)("CONTROLS","set visible",e),this.props.visibleTimeout&&(clearTimeout(this.props.visibleTimeout),this.props.visibleTimeout=null);var n=function(){t.props.visible=e,t.toggleControlsCallback(t.props.visible),t.updateHideTimer()};e?n():this.props.visibleTimeout=setTimeout(n,100)}},{key:"canHide",get:function(){return!this.props.mouseInControls&&!this.props.menuOpen&&!this.props.modalOpen&&(this.props.playing||!this.props.mouseInPlayer&&this.options.allowHiddenControlsWhenPaused)}},{key:"mouseInPlayer",set:function(e){this.props.mouseInPlayer=e,e&&(this.visible=!0),this.refresh()}},{key:"mouseInControls",set:function(e){this.props.mouseInControls=e,e&&(this.visible=!0),this.refresh()}},{key:"menuOpen",set:function(e){this.props.menuOpen=e,e&&(this.visible=!0),this.refresh()}},{key:"modalOpen",set:function(e){this.props.modalOpen=e,e>0&&(this.visible=!0),this.refresh()}},{key:"playing",set:function(e){this.props.playing=e,e||(this.visible=!0),this.refresh()}}])&&k(t.prototype,n),a&&k(t,a),e}(),_=n(121),S=n.n(_);n(227);function T(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var x=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.options=n,this.props={realVideoRatio:16/9,displayVideoRatio:null,slidesRatio:16/9,changed:!!this.options.defaultRatio,zoom:this.options.defaultRatio||.5},S.a.create(this.element,{start:this.props.zoom,range:{min:0,max:1},step:.003,behaviour:"tap-drag",animate:!1}),this.setHandleIcon(),this.setColors(),this.slider.on("slide",(function(e,t){return i.slide(e,t)})),this.slider.on("set",(function(e,t){return i.updateZoom(e,t)})),this.slider.on("click",(function(e,t){return i.sliderClicked(e,t)})),this.props.changed&&this.options.callbacks.zoomChanged(this.props.zoom)}var t,n,r;return t=e,(n=[{key:"setHandleIcon",value:function(){this.element.querySelector(".noUi-handle").innerHTML=this.options.handleIcon}},{key:"setColors",value:function(){var e=this.element,t=this.element.querySelector(".noUi-handle");Object(i.U)(this.options.sliderColor)&&(e.style.backgroundColor=this.options.sliderColor),Object(i.U)(this.options.handleColor)&&(t.style.backgroundColor=this.options.handleColor)}},{key:"slide",value:function(e,t){Math.abs(this.slider.get()-this.balancedZoom)<.05?(this.props.changed=!1,this.props.zoom=this.balancedZoom,this.slider.set(this.props.zoom)):(this.props.changed=!0,this.props.zoom=this.slider.get()),this.options.callbacks.zoomChanged(this.props.zoom)}},{key:"updateZoom",value:function(e,t){this.options.callbacks.zoomChanged(this.props.zoom)}},{key:"sliderClicked",value:function(e,t){this.options.callbacks.click(this.props.zoom)}},{key:"updateBalancedZoom",value:function(){this.props.changed||(this.props.zoom=this.balancedZoom,this.slider.set(this.props.zoom),this.options.callbacks.zoomChanged(this.props.zoom))}},{key:"realVideoRatio",set:function(e){this.props.realVideoRatio=e,this.updateBalancedZoom()}},{key:"displayVideoRatio",set:function(e){this.props.displayVideoRatio=e,this.updateBalancedZoom()}},{key:"slidesRatio",set:function(e){this.props.slidesRatio=e,this.updateBalancedZoom()}},{key:"slider",get:function(){return this.element.noUiSlider}},{key:"balancedZoom",get:function(){var e=1/(this.props.displayVideoRatio||this.props.realVideoRatio),t=1/this.props.slidesRatio;return t/(t+e)}}])&&T(t.prototype,n),r&&T(t,r),e}();function O(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var E=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.fullscreenChangedCallback=n,this.props={active:!1};Object(i.a)(document,"webkitfullscreenchange mozfullscreenchange MSFullscreenChange fullscreenchange",(function(e){return r.updateFullscreenStatus(e)}))}var t,n,r;return t=e,(n=[{key:"toggleFullscreen",value:function(){this.props.active?this.closeFullscreen():this.openFullscreen()}},{key:"closeFullscreen",value:function(){(document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen).call(document)}},{key:"openFullscreen",value:function(){(this.element.requestFullscreen||this.element.webkitRequestFullscreen||this.element.mozRequestFullScreen||this.element.msRequestFullscreen).call(this.element)}},{key:"updateFullscreenStatus",value:function(e){this.active=!!(document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement||document.fullscreenElement||document.webkitFullscreenElement)}},{key:"active",get:function(){return this.props.active},set:function(e){this.props.active=e,this.fullscreenChangedCallback(this.props.active)}}])&&O(t.prototype,n),r&&O(t,r),e}();function P(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function A(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var I=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object(i.U)(t)&&(this.modal=t,this.options=n,Object(i.a)(this.modal.parentNode,"click",'[data-slp-open-modal="'.concat(this.modalName,'"]:not([disabled])'),this.openFromEvent.bind(this)),Object(i.a)(this.modal,"click",'[data-slp-close-modal="true"]:not([disabled])',this.close.bind(this)))}var t,n,a;return t=e,(n=[{key:"fireChangeCallback",value:function(){var e=this.modal.classList.contains("slp__modal--active");this.options.callbacks.change(e)}},{key:"close",value:function(){Object(i.U)(this.modal)&&this.modal.classList.contains("slp__modal--active")&&(Object(r.a)("MODAL","close",this.modalName),this.modal.classList.remove("slp__modal--active"),this.fireChangeCallback())}},{key:"openFromEvent",value:function(e){e.preventDefault(),this.open()}},{key:"open",value:function(){if(Object(i.U)(this.modal)){Object(r.a)("MODAL","open",this.modalName);var e,t=P(this.modal.parentNode.querySelectorAll('[data-slp-target$="Modal"]'));try{for(t.s();!(e=t.n()).done;){var n=e.value,a=n.getAttribute("data-slp-target"),o=this.modalName===a;n.classList.toggle("slp__modal--active",o)}}catch(s){t.e(s)}finally{t.f()}this.fireChangeCallback()}}},{key:"modalName",get:function(){return this.modal.getAttribute("data-slp-target")}}])&&A(t.prototype,n),a&&A(t,a),e}();function j(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function L(e,t,n){return(L="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=U(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=U(e);if(t){var r=U(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return D(this,n)}}function D(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var V=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(o,e);var t,n,r,a=R(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=a.call(this,e,t),Object(i.U)(e)?(n.content=n.modal.querySelector('[data-slp-target="modalContent"]'),n.form=n.modal.querySelector('[data-slp-target="addPlaylistForm"]'),n.newNameInput=n.form.querySelector('[data-slp-target="newPlaylistName"]'),n.originalContentHTML=n.content.innerHTML,Object(i.a)(n.form,"submit",n.handleAddPlaylistFormSubmit.bind(N(n))),n):D(n)}return t=o,(n=[{key:"open",value:function(){Object(i.U)(this.modal)&&(this.newNameInput.value="",L(U(o.prototype),"open",this).call(this))}},{key:"updatePlaylistsList",value:function(e,t){this.newNameInput.value="";for(var n=this.originalContentHTML,i=0;i<e.length;i++){var r=e[i];"history"!==(r.canonical_name||r.id)&&(n+=this.itemHTML(r))}this.content.innerHTML=n;for(var a=0;a<t.length;a++){var o=t[a],s=o.canonical_name||o.id;this.updatePlaylist(s,!0)}}},{key:"updatePlaylist",value:function(e,t){var n=this.content.querySelector('[data-slp-target="playlist-'.concat(e,'"]'));n&&(n.setAttribute("data-slp-action-param","".concat(e,";").concat(!t)),this.content.querySelector('[data-slp-target="checkbox-'.concat(e,'"]')).checked=t)}},{key:"setPlaylistLoading",value:function(e,t){var n=this.content.querySelector('[data-slp-target="playlist-'.concat(e,'"]'));if(n){if(!t)return Object(i.U)(n.spinnerElement)&&Object(i.eb)(n.spinnerElement),void(n.disabled=!1);if(!Object(i.U)(n.spinnerElement)){var r=Object(i.H)({tiny:!0,absoluteWrapper:!0});n.spinnerElement=r}n.disabled=!0,n.insertAdjacentElement("afterbegin",n.spinnerElement)}}},{key:"handleAddPlaylistFormSubmit",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.newNameInput.value.trim();""!==t&&this.options.callbacks.addPlaylist(t)}},{key:"itemHTML",value:function(e){var t=e.canonical_name||e.id,n="<li>";return n+='  <button class="slp__modal-playlists__item"',n+=' data-slp-target="playlist-'.concat(t,'"'),n+=' data-slp-action-w-param="togglePlaylist"',n+=' data-slp-action-param="'.concat(t,';true">'),n+='    <div class="animatedCheckbox__container animatedCheckbox__container--light">',n+='      <div class="animatedCheckbox">',n+='        <input type="checkbox" data-slp-target="checkbox-'.concat(t,'">'),n+='        <span class="animatedCheckbox__icon"></span>',n+='        <span class="animatedCheckbox__label">'.concat(e.name,"</span>"),n+="      </div>",n+="    </button>",n+="  </button>",n+="</li>"}}])&&j(t.prototype,n),r&&j(t,r),o}(I);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=X(e);if(t){var r=X(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return K(this,n)}}function K(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?W(e):t}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G={editing:{}},Y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(s,e);var t,n,r,a=q(s);function s(e,t,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),o=a.call(this,e,t),Object(i.U)(e)?(o.props=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},G),o.initializeLocalization=n,o.setNewLocalizationOnTarget=r,o.content=o.modal.querySelector('[data-slp-target="modalContent"]'),o.originalContentHTML=o.content.innerHTML,Object(i.a)(o.content,"submit",'[data-slp-target^="updateBookmarkForm-"]',o.handleEditBookmarkFormSubmit.bind(W(o))),Object(i.a)(o.content,"click",'[data-slp-target^="updateBookmark-"]',o.handleUpdateFromEvent.bind(W(o))),Object(i.a)(o.content,"click",'[data-slp-target^="removeBookmark-"]',o.handleRemoveFromEvent.bind(W(o))),Object(i.a)(o.content,"click",'[data-slp-target^="seekTo-"]',o.handleSeekToFromEvent.bind(W(o))),o):K(o)}return t=s,(n=[{key:"updateBookmarksList",value:function(e){for(var t=this.originalContentHTML,n=0;n<e.length;n++)t+=this.itemHTML(e[n]);this.content.innerHTML=t,this.updateEditing(),this.initializeLocalization(this.content)}},{key:"updateEditing",value:function(){for(var e=Object.keys(this.editing),t=0;t<e.length;t++){var n=e[t];if(this.editing[n]){var i=this.content.querySelector('[data-slp-target="updateBookmark-'.concat(n,'"]')),r=this.content.querySelector('[data-slp-target="bookmarkNote-'.concat(n,'"]'));this.enableEditing(i,n,r)}}}},{key:"updateBookmark",value:function(e){this.content.querySelector('[data-slp-target="bookmarkNote-'.concat(e.id,'"]')).value=e.note,this.modal.focus()}},{key:"removeBookmark",value:function(e){var t=this.content.querySelector('[data-slp-target="updateBookmarkForm-'.concat(e,'"]'));t&&(t=t.parentNode,Object(i.eb)(t),delete this.editing[e],this.modal.focus())}},{key:"setBookmarkLoading",value:function(e,t){var n=this.content.querySelector('[data-slp-target="updateBookmarkForm-'.concat(e,'"]'));if(n){if(!t)return Object(i.U)(n.spinnerElement)&&Object(i.eb)(n.spinnerElement),void(n.disabled=!1);if(!Object(i.U)(n.spinnerElement)){var r=Object(i.H)({tiny:!0,absoluteWrapper:!0});n.spinnerElement=r}n.disabled=!0,n.insertAdjacentElement("afterbegin",n.spinnerElement)}}},{key:"enableEditing",value:function(e,t,n){this.editing[t]=!0,e.innerHTML=this.options.icons.save,this.setNewLocalizationOnTarget(e,"save"),n.readOnly=!1,n.focus()}},{key:"disableEditing",value:function(e,t,n){this.editing[t]=!1,e.innerHTML=this.options.icons.edit,this.setNewLocalizationOnTarget(e,"edit"),n.readOnly=!0}},{key:"handleEditBookmarkFormSubmit",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.selectorTarget.getAttribute("data-id");this.handleUpdate(t),this.modal.focus()}},{key:"handleUpdateFromEvent",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.selectorTarget,n=t.getAttribute("data-id");this.handleUpdate(n,t)}},{key:"handleUpdate",value:function(e,t){t=t||this.content.querySelector('[data-slp-target="updateBookmark-'.concat(e,'"]'));var n=this.content.querySelector('[data-slp-target="bookmarkNote-'.concat(e,'"]'));this.editing[e]?(this.disableEditing(t,e,n),this.options.callbacks.update({id:e,note:n.value.trim()})):this.enableEditing(t,e,n)}},{key:"handleRemoveFromEvent",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.selectorTarget.getAttribute("data-id");this.handleRemove(t)}},{key:"handleRemove",value:function(e){this.options.callbacks.remove(e)}},{key:"handleSeekToFromEvent",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.selectorTarget,n=parseFloat(t.getAttribute("data-time"))-2e3;this.options.callbacks.seekTo(n),this.close()}},{key:"itemHTML",value:function(e){var t='<li class="slp__modal-bookmarks__item">';return t+="  <button",t+='    class="slp__modal-bookmarks__seekTo"',t+='    data-slp-target="seekTo-'.concat(e.id,'"'),t+='    data-time="'.concat(1e3*e.current_time,'">'),t+='    <span class="slp__modal-bookmarks__icon">',t+=this.options.icons.bookmark,t+="    </span>",t+='    <span class="slp__modal-bookmarks__time text--right">',t+=o(e.current_time),t+="    </span>",t+="  </button>",t+="  <form",t+='    class="slp__modal-bookmarks__form"',t+='    data-id="'.concat(e.id,'"'),t+='    data-slp-target="updateBookmarkForm-'.concat(e.id,'">'),t+='    <div class="fieldLine__container fieldLine__container--light fieldLine__container--noLabel">',t+="      <input",t+='        class="fieldLine"',t+='        value="'.concat(e.note,'"'),t+='        data-slp-target="bookmarkNote-'.concat(e.id,'"'),t+='        readonly="true"',t+=">",t+='      <svg class="graphicLine" viewBox="0 0 1200 60" preserveAspectRatio="none">',t+='        <path d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"></path>',t+="      </svg>",t+="    </div>",t+="    <button",t+='      data-slp-title="edit"',t+='      class="slp__modal-bookmarks__button slp__modal-bookmarks__button--edit"',t+='      data-id="'.concat(e.id,'"'),t+='      data-slp-target="updateBookmark-'.concat(e.id,'">'),t+=this.options.icons.edit,t+="    </button>",t+="    <button",t+='      data-slp-title="remove"',t+='      class="slp__modal-bookmarks__button slp__modal-bookmarks__button--remove"',t+='      data-id="'.concat(e.id,'"'),t+='      data-slp-target="removeBookmark-'.concat(e.id,'">'),t+=this.options.icons.remove,t+="    </button>",t+="  </form>",t+="</li>"}},{key:"editing",get:function(){return this.props.editing},set:function(e){this.props.editing=e}}])&&H(t.prototype,n),r&&H(t,r),s}(I);function Q(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ie(e,t,n){return(ie="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=le(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=le(e);if(t){var r=le(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return oe(this,n)}}function oe(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?se(e):t}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue={id:null},ce=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(o,e);var t,n,r,a=ae(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=a.call(this,e,t),Object(i.U)(e)?(n.props=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ue),n.form=n.popup.querySelector('[data-slp-target="updateBookmarkForm"]'),n.noteInput=n.form.querySelector('[data-slp-target="bookmarkNote"]'),n.updateButton=n.form.querySelector('[data-slp-target="updateBookmark"]'),n.removeButton=n.form.querySelector('[data-slp-target="removeBookmark"]'),Object(i.a)(n.form,"submit",n.handleUpdateBookmarkFormSubmit.bind(se(n))),Object(i.a)(n.removeButton,"click",n.remove.bind(se(n))),Object(i.a)(n.noteInput,"keydown",n.handleKeyDown.bind(se(n))),n):oe(n)}return t=o,(n=[{key:"open",value:function(e){if(Object(i.U)(this.popup)&&Object(i.U)(e)){var t=this.noteInput.value.trim();Object(i.U)(this.id)&&""!==t&&this.options.callbacks.update({id:this.id,note:t}),this.id=e,this.noteInput.value="",ie(le(o.prototype),"open",this).call(this),this.noteInput.focus()}}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(Object(i.U)(this.popup)){var t=this.noteInput.value.trim();e&&""!==t&&this.options.callbacks.update({id:this.id,note:t}),ie(le(o.prototype),"close",this).call(this),this.noteInput.value=""}}},{key:"remove",value:function(e){e.preventDefault(),e.stopPropagation(),this.options.callbacks.remove(this.id),ie(le(o.prototype),"close",this).call(this)}},{key:"handleUpdateBookmarkFormSubmit",value:function(e){e.preventDefault(),e.stopPropagation(),this.close(!0)}},{key:"handleKeyDown",value:function(e){e.ctrlKey||e.metaKey||27===e.keyCode&&(e.preventDefault(),this.close(!0))}},{key:"id",get:function(){return this.props.id},set:function(e){this.props.id=e}}])&&ne(t.prototype,n),r&&ne(t,r),o}(function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];J(this,e),Object(i.U)(t)&&(this.popup=t,this.options=n,this.otherConnectedElements=r,Object(i.a)(this.popup.parentNode,"click",'[data-slp-open-popup="'.concat(this.popupName,'"]:not([disabled])'),this.openFromEvent.bind(this)))}var t,n,a;return t=e,(n=[{key:"fireChangeCallback",value:function(){var e=this.popup.classList.contains("slp__popup--active");this.options.callbacks.change(e)}},{key:"close",value:function(){Object(i.U)(this.popup)&&this.popup.classList.contains("slp__popup--active")&&(Object(r.a)("POPUP","close",this.popupName),this.popup.classList.remove("slp__popup--active"),this.fireChangeCallback())}},{key:"openFromEvent",value:function(e){e.preventDefault(),this.open()}},{key:"open",value:function(){if(Object(i.U)(this.popup)){Object(r.a)("POPUP","open",this.popupName);var e,t=Q(this.popup.parentNode.querySelectorAll('[data-slp-target$="Popup"]'));try{for(t.s();!(e=t.n()).done;){var n=e.value,a=n.getAttribute("data-slp-target"),o=this.popupName===a;n.classList.toggle("slp__popup--active",o)}}catch(s){t.e(s)}finally{t.f()}this.fireChangeCallback()}}},{key:"popupName",get:function(){return this.popup.getAttribute("data-slp-target")}}])&&Z(t.prototype,n),a&&Z(t,a),e}()),de='<div class="slp" data-slp-target="rootElement" tabindex="0">\n  <div class="slp__liveNotStarted" data-slp-target="liveThumbnail">\n    <div class="slp__liveNotStartedTitle__gradient"></div>\n    <div class="slp__liveNotStartedTitle">\n      <div class="slp__liveNotStartedTitle__logo"></div>\n      <div class="slp__liveNotStartedTitle__text" data-slp-localized="liveStartSoon">\n        Livestream will start soon!\n      </div>\n    </div>\n  </div>\n  <div class="slp__notRecorded" data-slp-target="notRecordedThumbnail">\n    <div class="slp__notRecordedTitle__gradient"></div>\n    <div class="slp__notRecordedTitle">\n      <div class="slp__notRecordedTitle__logo"></div>\n      <div class="slp__notRecordedTitle__text" data-slp-localized="notRecorded">\n        Presentation has not been recorded yet!\n      </div>\n    </div>\n  </div>\n  <div class="slp__playerSpinner spinner__container">\n    <div class="spinner"></div>\n  </div>\n  <div class="slp__zoom">\n    <div class="slp__zoom__slider" data-slp-target="zoomSlider"></div>\n  </div>\n  <div class="slp__media" data-slp-target="media">\n    <div class="slp__video" data-slp-target="video">\n      <div class="slp__videoPlayer">\n        <div class="slp__videoPlayer__content" data-slp-target="videoElement"></div>\n      </div>\n      <div class="slp__thumbnail" data-slp-target="videoThumbnail"></div>\n      <div class="slp__nextPresentationThumbnail" data-slp-target="nextPresentationThumbnail"></div>\n      <div class="slp__spinner spinner__container">\n        <div class="spinner"></div>\n      </div>\n      <div class="slp__bigPlay">\n        '+n(68)+'\n      </div>\n      <div class="slp__click" data-slp-action="videoClick"></div>\n      <div class="slp__debug" data-slp-target="debug">\n        <ul data-slp-target="debugList"></ul>\n      </div>\n      <div class="slp__videoControls__gradient" data-slp-target="videoControlsGradient"></div>\n      <div class="slp__videoControls" data-slp-target="videoControls">\n        <div class="slp__progress" data-slp-target="progressbar">\n          <ol class="slp__progress__bookmarks" data-slp-target="progressbarBookmarks"></ol>\n          <div class="slp__progress__current" data-slp-target="progressbarCurrent"></div>\n          <div class="slp__progress__mouse" data-slp-target="progressbarMouse"></div>\n          <div class="slp__progress__slide" data-slp-target="progressbarSlide"></div>\n          <div class="slp__progress__padding" data-slp-target="progressbarPadding"></div>\n        </div>\n        <div class="slp__videoControls__bar">\n          <div class="slp__videoControls__left">\n            <button\n              class="slp__button slp__button--play"\n              data-slp-target="play"\n              data-slp-action="togglePlayback"\n              data-slp-icon="player-play"\n              data-slp-title="play"\n            ></button>\n            <span\n              class="slp__volumePanel"\n              data-slp-target="volumePanel"\n              data-slp-title-placement="top-start"\n              data-slp-title="volume"\n            >\n              <button\n                class="slp__button"\n                data-slp-target="volume"\n                data-slp-action="toggleMute"\n                data-slp-icon="player-volume-max"\n              ></button>\n              <div class="slp__volumeSlider" data-slp-target="volumeSlider">\n                <div class="slp__volumeBar" data-slp-target="volumeBar">\n                  <div class="slp__volumeBar__current" data-slp-target="volumeBarCurrent"></div>\n                </div>\n              </div>\n            </span>\n            <button\n              class="slp__button slp__button--live"\n              data-slp-action="seekToLivePosition"\n              data-slp-title="live"\n            >\n              LIVE\n            </button>\n            <span class="slp__time">\n              <span data-slp-target="currentTime">0:00</span>\n              <span class="slp__time--darker">/</span>\n              <span class="slp__time--darker" data-slp-target="duration">0:00</span>\n            </span>\n          </div>\n          <div class="slp__videoControls__right">\n            <button\n              class="slp__button slp__button--favorite"\n              data-slp-target="favoriteButton"\n              data-slp-action-w-param="toggleFavorite"\n              data-slp-action-param="true"\n              data-slp-icon="player-favorite-outline"\n              data-slp-title="addFavorite"\n            ></button>\n            <button\n              class="slp__button slp__button--watch-later"\n              data-slp-target="watchLaterButton"\n              data-slp-action-w-param="toggleWatchLater"\n              data-slp-action-param="true"\n              data-slp-icon="player-watch-later-outline"\n              data-slp-title="addWatchLater"\n            ></button>\n            <button\n              class="slp__button slp__button--bookmark"\n              data-slp-target="bookmarkButton"\n              data-slp-icon="player-bookmark"\n              data-slp-title="addBookmark"\n              data-slp-action="addBookmark"\n            ></button>\n            <button\n              class="slp__button slp__button--topicsAndTranscript"\n              data-slp-target="topicsAndTranscriptButton"\n              data-slp-action="showTopicsAndTranscript"\n              data-slp-icon="player-topics-and-transcript"\n              data-slp-title="topicsAndTranscript"\n            ></button>\n            <button\n              class="slp__button slp__button--fullscreen"\n              data-slp-target="fullscreenButton"\n              data-slp-action="toggleFullscreen"\n              data-slp-icon="player-fullscreen"\n              data-slp-title="fullscreen"\n            ></button>\n            <button\n              class="slp__button slp__button--playerSettings"\n              data-slp-target="settingsButton"\n              data-slp-icon="player-more-vert"\n              data-slp-title="moreOptions"\n            ></button>\n          </div>\n        </div>\n      </div>\n      <div class="slp__menu" data-slp-target="settingsMenu">\n        <ul class="slp__submenu" data-slp-menu="root">\n          <li class="slp__submenu__button clearfix" data-slp-open-menu="settings">\n            <span class="slp__submenu__label" data-slp-localized="settings">Settings</span>\n            <span class="slp__submenu__activeItemLabel"></span>\n            <span class="slp__submenu__icon text--right"\n              >'+n(67)+'</span\n            >\n          </li>\n\n          <li\n            class="slp__submenu__button slp__submenu__button--playlists clearfix"\n            data-slp-open-modal="playlistsModal">\n            <span class="slp__submenu__label" data-slp-localized="playlists">Playlists</span>\n            <span class="slp__submenu__activeItemLabel"></span>\n          </li>\n\n          <li\n            class="slp__submenu__button slp__submenu__button--bookmarks clearfix"\n            data-slp-open-modal="bookmarksModal">\n            <span class="slp__submenu__label" data-slp-localized="bookmarks">Bookmarks</span>\n            <span class="slp__submenu__activeItemLabel"></span>\n          </li>\n\n          <li\n                  class="slp__submenu__button slp__submenu__button--disabled clearfix"\n                  data-slp-open-menu="playbackRate"\n          >\n            <span class="slp__submenu__label" data-slp-localized="playbackRate">Playback rate</span>\n            <span class="slp__submenu__activeItemLabel"></span>\n          </li>\n\n          <li\n            class="slp__submenu__button slp__submenu__button--disabled clearfix"\n            data-slp-open-menu="subtitles"\n          >\n            <span class="slp__submenu__label" data-slp-localized="subtitles">Subtitles</span>\n            <span class="slp__submenu__activeItemLabel"></span>\n          </li>\n        </ul>\n\n        <ul class="slp__submenu slp__submenu--withTitle" data-slp-menu="settings">\n          <li class="slp__submenu__title" data-slp-open-menu="root">\n            <span class="slp__submenu__icon">\n              '+n(25)+'\n            </span>\n            <span class="slp__submenu__text" data-slp-localized="settings">Settings</span>\n          </li>\n          <li\n            class="slp__submenu__button slp__submenu__button--disabled clearfix"\n            data-slp-open-menu="quality"\n          >\n            <span class="slp__submenu__label" data-slp-localized="quality">Quality</span>\n            <span class="slp__submenu__activeItemLabel"></span>\n          </li>\n          <li\n            class="slp__submenu__button slp__submenu__button--disabled clearfix"\n            data-slp-open-menu="server"\n          >\n            <span class="slp__submenu__label" data-slp-localized="server">Server</span>\n            <span class="slp__submenu__activeItemLabel"></span>\n          </li>\n          <li\n                  class="slp__submenu__button clearfix"\n                  data-slp-action="toggleDebugInfo"\n          >\n            <span class="slp__submenu__label" data-slp-localized="debugInformation">Debug information</span>\n            <span class="slp__submenu__activeItemLabel"></span>\n          </li>\n        </ul>\n\n        <ul class="slp__submenu slp__submenu--withTitle" data-slp-menu="bookmarks">\n          <li class="slp__submenu__title" data-slp-open-menu="root">\n            <span class="slp__submenu__icon">\n              '+n(25)+'\n            </span>\n            <span class="slp__submenu__text" data-slp-localized="bookmarks">Bookmarks</span>\n          </li>\n        </ul>\n\n        <ul class="slp__submenu slp__submenu--withTitle" data-slp-menu="subtitles">\n          <li class="slp__submenu__title" data-slp-open-menu="root">\n            <span class="slp__submenu__icon">\n              '+n(25)+'\n            </span>\n            <span class="slp__submenu__text" data-slp-localized="subtitles">Subtitles</span>\n          </li>\n        </ul>\n\n        <ul class="slp__submenu slp__submenu--withTitle" data-slp-menu="quality">\n          <li class="slp__submenu__title" data-slp-open-menu="settings">\n            <span class="slp__submenu__icon">\n              '+n(25)+'\n            </span>\n            <span class="slp__submenu__text" data-slp-localized="quality">Quality</span>\n          </li>\n        </ul>\n\n        <ul class="slp__submenu slp__submenu--withTitle" data-slp-menu="server">\n          <li class="slp__submenu__title" data-slp-open-menu="settings">\n            <span class="slp__submenu__icon">\n              '+n(25)+'\n            </span>\n            <span class="slp__submenu__text" data-slp-localized="server">Server</span>\n          </li>\n        </ul>\n\n        <ul class="slp__submenu slp__submenu--withTitle" data-slp-menu="playbackRate">\n          <li class="slp__submenu__title" data-slp-open-menu="root">\n            <span class="slp__submenu__icon">\n              '+n(25)+'\n            </span>\n            <span class="slp__submenu__text" data-slp-localized="playbackRate">Playback rate</span>\n          </li>\n        </ul>\n\n        <ul class="slp__submenu slp__submenu--withTitle" data-slp-menu="mode">\n          <li class="slp__submenu__title" data-slp-open-menu="settings">\n            <span class="slp__submenu__icon">\n              '+n(25)+'\n            </span>\n            <span class="slp__submenu__text">Mode</span>\n          </li>\n          <li\n            class="slp__submenu__button"\n            data-slp-action-w-param="setMode"\n            data-slp-action-param="video_slideshow"\n          >\n            Video Slideshow\n          </li>\n          <li\n            class="slp__submenu__button"\n            data-slp-action-w-param="setMode"\n            data-slp-action-param="audio_slideshow"\n          >\n            Audio Slideshow\n          </li>\n          <li\n            class="slp__submenu__button"\n            data-slp-action-w-param="setMode"\n            data-slp-action-param="slideshow"\n          >\n            Slideshow\n          </li>\n          <li\n            class="slp__submenu__button"\n            data-slp-action-w-param="setMode"\n            data-slp-action-param="video"\n          >\n            Video\n          </li>\n        </ul>\n      </div>\n      <div class="slp__modal slp__modal-playlists" data-slp-target="playlistsModal" tabindex="0">\n        <div class="slp__modal__header" data-slp-target="modalHeader">\n          <span\n            class="slp__modal__title"\n            data-slp-target="modalTitle"\n            data-slp-localized="myPlaylists"\n          >\n            My playlists\n          </span>\n          <button class="slp__modal__close" data-slp-close-modal="true" data-slp-title="close">\n            '+n(89)+'\n          </button>\n        </div>\n\n        <ul class="slp__modal__content" data-slp-target="modalContent"></ul>\n\n        <div class="slp__modal__footer" data-slp-target="modalFooter">\n          <form class="slp__modal-playlists__form" data-slp-target="addPlaylistForm">\n            <div class="fieldLine__container fieldLine__container--light">\n              <input class="fieldLine" id="newPlaylistName" data-slp-target="newPlaylistName" />\n              <label class="labelLine" for="newPlaylistName">\n                <span class="labelLine__content" data-slp-localized="newPlaylistName">\n                  New playlist name\n                </span>\n              </label>\n              <svg class="graphicLine" viewBox="0 0 1200 60" preserveAspectRatio="none">\n                <path\n                  d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"\n                ></path>\n              </svg>\n            </div>\n            <button\n              class="btn btn__white btn--tiny btn--rounded"\n              type="submit"\n              data-slp-localized="create"\n            >\n              Create\n            </button>\n          </form>\n        </div>\n      </div>\n      <div class="slp__modal slp__modal-bookmarks" data-slp-target="bookmarksModal" tabindex="0">\n        <div class="slp__modal__header" data-slp-target="modalHeader">\n          <span\n            class="slp__modal__title"\n            data-slp-target="modalTitle"\n            data-slp-localized="bookmarks"\n          >\n            Bookmarks\n          </span>\n          <button class="slp__modal__close" data-slp-close-modal="true" data-slp-title="close">\n            '+n(89)+'\n          </button>\n        </div>\n\n        <ul class="slp__modal__content" data-slp-target="modalContent"></ul>\n      </div>\n      <div class="slp__popup slp__popup-bookmarks" data-slp-target="bookmarksPopup">\n        <span class="slp__popup-bookmarks__icon">\n          '+n(114)+'\n        </span>\n        <form class="slp__popup-bookmarks__form" data-slp-target="updateBookmarkForm">\n          <div\n            class="fieldLine__container fieldLine__container--light fieldLine__container--noLabel"\n          >\n            <input class="fieldLine" data-slp-target="bookmarkNote" placeholder="addNote" />\n            <svg class="graphicLine" viewBox="0 0 1200 60" preserveAspectRatio="none">\n              <path\n                d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"\n              ></path>\n            </svg>\n          </div>\n          <button\n            class="slp__popup-bookmarks__button slp__popup-bookmarks__button--save"\n            type="submit"\n            data-slp-target="updateBookmark"\n            data-slp-title="save"\n          >\n            '+n(116)+'\n          </button>\n          <button\n            class="slp__popup-bookmarks__button slp__popup-bookmarks__button--remove"\n            data-slp-target="removeBookmark"\n            data-slp-title="remove"\n          >\n            '+n(115)+'\n          </button>\n        </form>\n      </div>\n    </div>\n    <div class="slp__slides" data-slp-target="slides">\n      <div class="slp__slidesPlayer">\n        <div class="slp__slidesPlayer__content" data-slp-target="slidesElement"></div>\n      </div>\n      <div class="slp__spinner spinner__container">\n        <div class="spinner"></div>\n      </div>\n      <div class="slp__bigPlay">\n        '+n(68)+'\n      </div>\n      <div class="slp__click" data-slp-action="slidesClick"></div>\n      <div class="slp__slidesControls" data-slp-target="slidesControls">\n        <div class="slp__slidesTitle__gradient"></div>\n        <div class="slp__slidesTitle">\n          <div class="slp__slidesTitle__logo"></div>\n          <div class="slp__slidesTitle__text" data-slp-target="slidesTitle"></div>\n        </div>\n        <div\n          class="slp__bigButton slp__bigButton--prev"\n          data-slp-action="prevSlide"\n          data-slp-title="prevSlide"\n        >\n          '+n(25)+'\n        </div>\n        <div\n          class="slp__bigButton slp__bigButton--next"\n          data-slp-action="nextSlide"\n          data-slp-title="nextSlide"\n        >\n          '+n(67)+'\n        </div>\n        <div class="slp__slidesControls__bottom">\n          <button\n            class="slp__button slp__button--prev"\n            data-slp-action="prevSlide"\n            data-slp-title="prevSlide"\n          >\n            '+n(25)+'\n          </button>\n          <button\n            class="slp__button slp__button--syncSlidesToVideo"\n            data-slp-action="syncSlidesToVideo"\n            data-slp-title="syncSlidesToVideo"\n          >\n            '+n(118)+'\n          </button>\n          <button\n            class="slp__slideStats"\n            data-slp-action="syncSlidesToVideo"\n            data-slp-title="syncSlidesToVideo"\n          >\n            <span class="slp__slideStats__label">Slide</span>\n            <span class="" data-slp-target="currentSlide">0</span>\n            <span class="slp__slideStats--darker">/</span>\n            <span class="slp__slideStats--darker" data-slp-target="slideCount">0</span>\n          </button>\n          <button\n            class="slp__button slp__button--syncVideoToSlides"\n            data-slp-action="syncVideoToSlides"\n            data-slp-title="syncVideoToSlides"\n          >\n            '+n(117)+'\n          </button>\n          <button\n            class="slp__button slp__button--next"\n            data-slp-action="nextSlide"\n            data-slp-title="nextSlide"\n          >\n            '+n(67)+'\n          </button>\n          \x3c!--\n          <button\n              class="slp__button slp__button--slideMute"\n              data-slp-target="slideVolume"\n              data-slp-action="toggleSlideMute"\n              data-slp-title="muteSlide"\n              data-slp-icon="player-volume-max"\n          >--\x3e\n          </button>\n        </div>\n      </div>\n    </div>\n    <div class="slp__nextPresentation">\n      <div class="slp__nextPresentation__content">\n        <div class="slp__nextPresentation__next" data-slp-localized="next">\n          Next\n        </div>\n        <div class="slp__nextPresentation__title" data-slp-target="nextPresentationTitle"></div>\n        <div class="slp__nextPresentation__play">\n          <button class="slp__button" data-slp-action="playNextPresentation">\n            '+n(68)+'\n          </button>\n        </div>\n        <div class="slp__nextPresentation__cancel">\n          <button\n            class="slp__button"\n            data-slp-action="hideNextPresentationOverlay"\n            data-slp-localized="cancel"\n          >\n            Cancel\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n';n(228),n(229);function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){r=!0,a=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=ye(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ye(e,t){if(e){if("string"===typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ge(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ke=[195,275,350,400,450,500],we=[140,250,330,420],_e=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.options=n,this.callbacks=i,this.elements={},this.props={duration:0,isVertical:!1,debugInfo:{},slidesLinkifyTitle:!0,slidesTitle:null,slidesTitleLink:null}}var t,n,s;return t=e,(n=[{key:"addActionListener",value:function(){var e=this;Object(i.a)(this.rootElement,"click","[data-slp-action]:not([disabled])",(function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();var n=t.selectorTarget.getAttribute("data-slp-action");e.callbacks.actionCallback(n),"BODY"===document.activeElement.nodeName&&e.rootElement.focus()}))}},{key:"addActionWithParamListener",value:function(){var e=this;Object(i.a)(this.rootElement,"click","[data-slp-action-w-param]:not([disabled])",(function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();var n=t.selectorTarget,i=n.getAttribute("data-slp-action-w-param"),r=n.getAttribute("data-slp-action-param");e.callbacks.actionWithParamCallback(i,r),"BODY"===document.activeElement.nodeName&&e.rootElement.focus()}))}},{key:"renderClickToLoad",value:function(){this.element.innerHTML='<div class="slp" data-slp-target="rootElement">\n  <div class="slp__clickToLoad" data-slp-action="clickToLoad">\n    <div class="slp__clickToLoad__text">\n      Click to load.\n    </div>\n  </div>\n</div>\n',this.initializeMemoizedElements()}},{key:"renderPlayer",value:function(){this.element.innerHTML=de,this.initializeMemoizedElements(),this.initializeIcons(),this.initializeLocalization(),this.initializeVolumePanel(),this.initializeProgressbar(),this.initializeSettings(),this.initializeControlsVisibility(),this.initializeZoomSlider(),this.initializeFullscreen(),this.initializeModals(),this.initializePopups(),window.parent===window&&this.rootElement.focus()}},{key:"renderError",value:function(e){this.element.innerHTML='<div class="slp" data-slp-target="rootElement">\n  <div class="slp__error">\n    <div class="slp__error__content">\n      <div class="slp__error__icon" data-slp-icon="warning-circle"></div>\n      <div class="slp__error__text" data-slp-target="errorText"></div>\n    </div>\n  </div>\n</div>\n',this.initializeMemoizedElements(),this.initializeIcons(),this.findTarget("errorText").innerHTML=e}},{key:"renderProcessing",value:function(e){this.element.innerHTML='<div class="slp" data-slp-target="rootElement">\n    <div class="slp__processing">\n        <div class="slp__processing__content">\n            <div class="slp__processing__icon" data-slp-icon="player-settings"></div>\n            <div class="slp__processing__text" data-slp-target="processingText">We are processing your presentation.</div>\n        </div>\n    </div>\n</div>\n',this.initializeMemoizedElements(),this.initializeIcons(),Object(i.U)(e)&&(this.findTarget("processingText").innerHTML=e)}},{key:"renderLivestreamFinished",value:function(){this.element.innerHTML='<div class="slp" data-slp-target="rootElement">\n    <div class="slp__livestreamFinished">\n        <div class="slp__livestreamFinished__content">\n            <div class="slp__livestreamFinished__icon" data-slp-icon="info-circle"></div>\n            <div class="slp__livestreamFinished__text">Livestream has ended.</div>\n        </div>\n    </div>\n</div>\n',this.initializeMemoizedElements(),this.initializeIcons()}},{key:"initializeVolumePanel",value:function(){var e=this;this.volumePanel=new f(this.findTarget("volumePanel"),this.findTarget("volumeSlider"),this.findTarget("volumeBar"),this.findTarget("volumeBarCurrent"),(function(t){return e.callbacks.actionWithParamCallback("volume",t)}))}},{key:"initializeProgressbar",value:function(){var e=this;this.progressbar=new m(this.findTarget("progressbar"),this.findTarget("progressbarPadding"),this.findTarget("progressbarCurrent"),this.findTarget("progressbarMouse"),this.findTarget("progressbarBookmarks"),(function(t){return e.callbacks.actionWithParamCallback("startSeek",t)}),(function(t){return e.callbacks.actionWithParamCallback("updateSeek",t)}),(function(t){return e.callbacks.actionWithParamCallback("endSeek",t)}),this.callbacks.progressImageUrlCallback,this.initializeLocalization.bind(this),l("player-bookmark"))}},{key:"initializeSettings",value:function(){var e=this;this.settings=new g(this.findTarget("settingsButton"),this.findTarget("settingsMenu"),(function(t){return e.menuChangeCallback(t)}))}},{key:"initializeControlsVisibility",value:function(){var e=this;this.controls=new w(this.findTarget("media"),{allowHiddenControlsWhenPaused:this.options.allowHiddenControlsWhenPaused},(function(t){return e.toggleControls(t)})),this.controls.visible=!0}},{key:"initializeZoomSlider",value:function(){var e=this;this.zoomSlider=new x(this.findTarget("zoomSlider"),{defaultRatio:this.options.zoomRatio,sliderColor:this.options.zoomSliderColor,handleColor:this.options.zoomHandleColor,handleIcon:l("player-zoom"),callbacks:{zoomChanged:function(t){return e.callbacks.actionWithParamCallback("setZoom",t)},click:function(e){return Object(r.a)("VIEW","zoom click",e)}}})}},{key:"initializeFullscreen",value:function(){var e=this;this.options.disableFullscreen&&this.toggleClass("fullscreenHidden",!0),this.fullscreen=new E(this.element,(function(t){return e.updateFullscreen(t)}))}},{key:"initializeModals",value:function(){var e=this;this.playlistsModal=new V(this.findTarget("playlistsModal"),{callbacks:{change:function(t){return e.modalChangeCallback(t)},addPlaylist:function(t){return e.callbacks.actionWithParamCallback("addPlaylist",t)}}}),this.bookmarksModal=new Y(this.findTarget("bookmarksModal"),{icons:{bookmark:l("player-bookmark"),edit:l("player-edit"),save:l("player-save"),remove:l("player-delete")},callbacks:{change:function(t){return e.modalChangeCallback(t)},update:function(t){return e.callbacks.actionWithParamCallback("updateBookmark",t)},remove:function(t){return e.callbacks.actionWithParamCallback("removeBookmark",t)},seekTo:function(t){return e.callbacks.actionWithParamCallback("seekTo",t)}}},this.initializeLocalization.bind(this),this.setNewLocalizationOnTarget.bind(this))}},{key:"initializePopups",value:function(){var e=this;this.bookmarksPopup=new ce(this.findTarget("bookmarksPopup"),{callbacks:{change:function(t){return e.popupChangeCallback(t)},update:function(t){return e.callbacks.actionWithParamCallback("updateBookmark",t)},remove:function(t){return e.callbacks.actionWithParamCallback("removeBookmark",t)}}})}},{key:"menuChangeCallback",value:function(e){this.controls.menuOpen=e,e?(this.bookmarksPopup.close(),this.bookmarksModal.close(),this.playlistsModal.close(),this.progressbar.disableTippy()):(this.progressbar.enableTippy(),this.rootElement.focus())}},{key:"modalChangeCallback",value:function(e){this.controls.modalOpen=e,e?(this.settings.close(),this.bookmarksPopup.close(),this.progressbar.disableTippy()):(this.progressbar.enableTippy(),this.rootElement.focus())}},{key:"popupChangeCallback",value:function(e){e?(this.settings.close(),this.bookmarksModal.close(),this.playlistsModal.close()):this.rootElement.focus()}},{key:"toggleControls",value:function(e){this.toggleClass("controlsVisible",e),e||this.settings.close(),this.callbacks.controlsVisibilityChanged(e)}},{key:"toggleVideoControlsInSlides",value:function(e){if(e!==this.hasClass("videoControlsInSlides")){this.toggleClass("videoControlsInSlides",e);var t=this.findTarget("videoControlsGradient"),n=this.findTarget("videoControls"),r=this.findTarget("settingsMenu");Object(i.eb)(n),Object(i.eb)(r),e?(this.slidesElement.appendChild(t),this.slidesElement.appendChild(n),this.slidesElement.appendChild(r)):(this.videoElement.appendChild(t),this.videoElement.appendChild(n),this.videoElement.appendChild(r))}}},{key:"toggleClass",value:function(e,t){var n="slp--".concat(e);this.rootElement.classList.contains(n)!==t&&(Object(r.a)("VIEW",e,t),this.rootElement.classList.toggle(n,t))}},{key:"hasClass",value:function(e){var t="slp--".concat(e);this.rootElement.classList.contains(t)}},{key:"setData",value:function(e,t){var n="data-".concat(e);Object(i.U)(t)?this.rootElement.setAttribute(n,t):this.rootElement.removeAttribute(n)}},{key:"setSize",value:function(e){var t,n,r,a,o,s=this,l=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(Object(i.U)(e)){var a={width:"".concat(t,"px"),height:"".concat(n,"px")};s.isVertical?a.top="".concat(r,"px"):Object(i.U)(r)&&(a.top=0),Object(i.N)(e,a)}};this.isVertical=!!e.vertical,this.toggleOrientationClasses(),l(this.rootElement,e.width,e.height),l(this.videoElement,e.videoWidth,e.videoHeight),l(this.slidesElement,e.slidesWidth,e.slidesHeight,e.spacing),t=e.videoWidth,n=e.videoHeight,r=s.findTarget("settingsMenu"),a=t-20,o=n-53-10,Object(i.U)(r)&&Object(i.N)(r,{"max-width":"".concat(a,"px"),"max-height":"".concat(o,"px")}),this.toggleVideoSizeClasses(e),this.toggleSlidesSizeClasses(e)}},{key:"toggleOrientationClasses",value:function(){this.toggleClass("vertical",this.isVertical)}},{key:"toggleVideoSizeClasses",value:function(e){var t,n=this.hasClass("videoControlsInSlides")?e.slidesWidth:e.videoWidth,i=ve(ke);try{for(i.s();!(t=i.n()).done;){var r=t.value,a="videoSizeLt-"+r;this.toggleClass(a,n<r)}}catch(o){i.e(o)}finally{i.f()}}},{key:"toggleSlidesSizeClasses",value:function(e){var t,n=ve(we);try{for(n.s();!(t=n.n()).done;){var i=t.value,r="slidesSizeLt-"+i;this.toggleClass(r,e.slidesWidth<i)}}catch(a){n.e(a)}finally{n.f()}}},{key:"findTarget",value:function(e){return(Object(i.U)(this.rootElement)?this.rootElement:this.element).querySelector('[data-slp-target="'.concat(e,'"]'))}},{key:"setIconOnTarget",value:function(e,t){(e=Object(i.Q)(e)?e:this.findTarget(e))&&(e.innerHTML=l(t))}},{key:"setNewLocalizationOnTarget",value:function(e,t){if(e=Object(i.Q)(e)?e:this.findTarget(e)){var n=("cs"===this.options.locale?c:"de"===this.options.locale?d:u)[t]||t;e._tippy.setContent(n)}}},{key:"setActionParamOnTarget",value:function(e,t){(e=Object(i.Q)(e)?e:this.findTarget(e)).setAttribute("data-slp-action-param",t)}},{key:"initializeIcons",value:function(){var e,t=ve(this.rootElement.querySelectorAll("[data-slp-icon]"));try{for(t.s();!(e=t.n()).done;){var n=e.value,i=n.getAttribute("data-slp-icon");n.innerHTML=l(i)}}catch(r){t.e(r)}finally{t.f()}}},{key:"initializeLocalization",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rootElement;e="cs"===this.options.locale?c:"de"===this.options.locale?d:u;var n,r=ve(t.querySelectorAll("[data-slp-title]"));try{for(r.s();!(n=r.n()).done;){var o=n.value,s=o.getAttribute("data-slp-title"),l=e[s]||s,p=o.getAttribute("data-slp-title-placement")||"top";Object(a.a)(o,{a11y:!1,arrow:!1,delay:20,animation:"shift-away",animateFill:!1,theme:"slp",placement:p,appendTo:this.rootElement,touch:!1,content:l,boundary:this.rootElement})}}catch(w){r.e(w)}finally{r.f()}var f,h=ve(t.querySelectorAll("[data-slp-localized]"));try{for(h.s();!(f=h.n()).done;){var m=f.value,v=m.getAttribute("data-slp-localized");Object(i.U)(v)&&(m.innerHTML=e[v])}}catch(w){h.e(w)}finally{h.f()}var y,b=ve(t.querySelectorAll("[placeholder]"));try{for(b.s();!(y=b.n()).done;){var g=y.value,k=g.getAttribute("placeholder");Object(i.U)(k)&&(g.placeholder=e[k])}}catch(w){b.e(w)}finally{b.f()}}},{key:"initializeMemoizedElements",value:function(){this.elements={},this.elements={rootElement:this.findTarget("rootElement"),videoElement:this.findTarget("video"),videoContentElement:this.findTarget("videoElement"),slidesElement:this.findTarget("slides"),slidesContentElement:this.findTarget("slidesElement"),videoControlsElement:this.findTarget("videoControls"),slidesControlsElement:this.findTarget("slidesControls")},this.addActionListener(),this.addActionWithParamListener()}},{key:"updateTime",value:function(e,t){t<e&&(t=e),this.props.duration=t;var n=o(e/1e3),i=o(t/1e3),r=this.findTarget("currentTime"),a=this.findTarget("duration");r.innerHTML=n,a.innerHTML=i,this.progressbar.setProgress(e,t)}},{key:"updatePlayingIcon",value:function(e){var t=e?"player-pause":"player-play";this.setIconOnTarget("play",t),this.controls.playing=e}},{key:"updateVolumeIcon",value:function(e,t){var n;n=t?"player-mute":0===e?"player-volume-off":e>77?"player-volume-max":"player-volume-min",this.setIconOnTarget("volume",n)}},{key:"updateVolumeBar",value:function(e,t){t?this.volumePanel.setVolumeDisplay(0):this.volumePanel.setVolumeDisplay(e)}},{key:"updateSlideMutedIcon",value:function(e){var t=e?"player-mute":"player-volume-max";this.setIconOnTarget("slideVolume",t)}},{key:"updateSlideMutedTitle",value:function(e){var t=e?"unmuteSlide":"muteSlide";this.setNewLocalizationOnTarget("slideVolume",t)}},{key:"submenuArrayToHtmlData",value:function(e,t){var n,r=[],a=ve(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;Object(i.O)(o)?r.push({title:o[0],action:t,param:o[1]}):r.push({title:o,action:t,param:o})}}catch(s){a.e(s)}finally{a.f()}return r}},{key:"updateAvailablePlaybackRates",value:function(e){var t,n=[],i=ve(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.push({title:"".concat(r," &times;"),action:"setPlaybackRate",param:r})}}catch(a){i.e(a)}finally{i.f()}n.length>1?this.settings.setSubmenuContent("playbackRate",n):this.settings.disableSubmenu("playbackRate")}},{key:"updateAvailableQualities",value:function(e){var t=this.submenuArrayToHtmlData(e,"setVideoQuality");this.settings.setSubmenuContent("quality",t)}},{key:"updateAvailableServers",value:function(e){var t=this.submenuArrayToHtmlData(e,"setPlaybackServer");this.settings.setSubmenuContent("server",t)}},{key:"updateAvailableSubtitles",value:function(e){for(var t=[],n=0;n<e.length;++n){var i=e[n];t.push({title:i.name,action:"setSubtitleTrack",param:n})}t.length>1?this.settings.setSubmenuContent("subtitles",t):this.settings.disableSubmenu("subtitles")}},{key:"updateSlide",value:function(e,t,n){var i=n.time,r=this.findTarget("currentSlide");if(r){r.innerHTML=e+1,this.findTarget("slideCount").innerHTML=t;var a=i/this.props.duration*100;this.findTarget("progressbarSlide").style.left="".concat(a,"%")}}},{key:"toggleFullscreen",value:function(){this.fullscreen.toggleFullscreen()}},{key:"updateFullscreen",value:function(e){var t=e?"player-minimize":"player-fullscreen";this.setIconOnTarget("fullscreenButton",t),this.toggleClass("fullscreen",e),this.element.style.backgroundColor=e?"#000":null,this.callbacks.actionWithParamCallback("fullscreenChanged",e)}},{key:"updatePlaylistsList",value:function(e,t){for(var n=0;n<e.length;n++)if(e[n].canonical_name){var r=void 0;r="cs"===this.options.locale?c:"de"===this.options.locale?d:u,e[n].name=r[Object(i.rb)(e[n].canonical_name)]||e[n].name}this.playlistsModal.updatePlaylistsList(e,t)}},{key:"updatePlaylist",value:function(e,t){["favorite","watch-later"].includes(e)&&this.updatePredefinedPlaylist(e,t),this.playlistsModal.updatePlaylist(e,t)}},{key:"updatePredefinedPlaylist",value:function(e,t){var n,r,a="".concat(Object(i.rb)(e),"Button"),o=this.findTarget(a);o&&("favorite"===e?(n="player-favorite",r=t?"removeFavorite":"addFavorite"):"watch-later"===e&&(n="player-watch-later",r=t?"removeWatchLater":"addWatchLater"),t||(n+="-outline"),this.setActionParamOnTarget(o,!t),this.setIconOnTarget(o,n),this.setNewLocalizationOnTarget(o,r))}},{key:"togglePlaylistLoading",value:function(e,t){["favorite","watch-later"].includes(e)&&this.togglePredefinedPlaylistLoading(e,t),this.playlistsModal.setPlaylistLoading(e,t)}},{key:"togglePredefinedPlaylistLoading",value:function(e,t){this.toggleButtonLoading("".concat(Object(i.rb)(e),"Button"),t)}},{key:"updateBookmarksList",value:function(e){this.progressbar.setBookmarks(e),this.bookmarksModal.updateBookmarksList(e)}},{key:"updateBookmark",value:function(e,t){this.progressbar.setBookmarks(t),this.bookmarksModal.updateBookmark(e)}},{key:"removeBookmark",value:function(e,t){this.progressbar.setBookmarks(t),this.bookmarksModal.removeBookmark(e)}},{key:"toggleBookmarkLoading",value:function(e,t){this.bookmarksModal.setBookmarkLoading(e,t)}},{key:"showBookmarksPopup",value:function(e){this.bookmarksPopup.open(e)}},{key:"showNextPresentationOverlay",value:function(){this.toggleClass("nextPresentation",!0)}},{key:"hideNextPresentationOverlay",value:function(){this.toggleClass("nextPresentation",!1)}},{key:"hideOpenedOverlays",value:function(){this.settings.close(),this.playlistsModal.close(),this.bookmarksModal.close(),this.bookmarksPopup.close()}},{key:"toggleButtonLoading",value:function(e,t){var n=this.findTarget(e);if(n){if(!t)return Object(i.U)(n.spinnerElement)&&Object(i.eb)(n.spinnerElement),void(n.disabled=!1);Object(i.U)(n.spinnerElement)||(n.spinnerElement=Object(i.H)({tiny:!0,absoluteWrapper:!0})),n.disabled=!0,n.insertAdjacentElement("afterbegin",n.spinnerElement)}}},{key:"toggleTopicsAndTranscriptLoading",value:function(e){this.toggleButtonLoading("topicsAndTranscriptButton",e)}},{key:"toggleDebugInfo",value:function(){var e=this.findTarget("debug");Object(i.V)(e)?Object(i.J)(e):Object(i.nb)(e)}},{key:"updateDebugInfo",value:function(e,t){t&&Object(i.nb)(this.findTarget("debug")),this.props.debugInfo=he(he({},this.props.debugInfo),e);var n=this.findTarget("debugList");if(n){for(var r=[],a=0,o=Object.entries(this.props.debugInfo);a<o.length;a++){var s=pe(o[a],2),l=s[0],u=s[1];r.push("<li>".concat(l,": ").concat(u,"</li>"))}n.innerHTML=r.join("")}}},{key:"mode",set:function(e){this.setData("mode",e),this.settings.setActiveItem("mode",e);var t="slideshow"===e||"audio_slideshow"===e;this.toggleVideoControlsInSlides(t)}},{key:"thumbnail",set:function(e){this.findTarget("videoThumbnail").style.backgroundImage="url(".concat(e,")"),this.findTarget("liveThumbnail").style.backgroundImage="url(".concat(e,")"),this.findTarget("notRecordedThumbnail").style.backgroundImage="url(".concat(e,")")}},{key:"nextPresentationThumbnail",set:function(e){this.findTarget("nextPresentationThumbnail").style.backgroundImage="url(".concat(e,")")}},{key:"realVideoRatio",set:function(e){this.zoomSlider.realVideoRatio=e}},{key:"displayVideoRatio",set:function(e){this.zoomSlider.displayVideoRatio=e}},{key:"slidesRatio",set:function(e){this.zoomSlider.slidesRatio=e,this.progressbar.slideRatio=e}},{key:"rootElement",get:function(){return this.elements.rootElement}},{key:"videoElement",get:function(){return this.elements.videoElement}},{key:"videoContentElement",get:function(){return this.elements.videoContentElement}},{key:"slidesElement",get:function(){return this.elements.slidesElement}},{key:"slidesContentElement",get:function(){return this.elements.slidesContentElement}},{key:"fullscreenActive",get:function(){return this.fullscreen.active}},{key:"quality",set:function(e){this.settings.setActiveItem("quality",e)}},{key:"playbackRate",set:function(e){this.settings.setActiveItem("playbackRate",e)}},{key:"playbackServerIndex",set:function(e){this.settings.setActiveItem("server",e)}},{key:"activeSubtitle",set:function(e){this.settings.setActiveItem("subtitles",e)}},{key:"linkifyTitle",set:function(e){this.props.slidesLinkifyTitle=e,this.updateSlidesTitle()}},{key:"title",set:function(e){this.props.slidesTitle=e,this.updateSlidesTitle()}},{key:"link",set:function(e){this.props.slidesTitleLink=e,this.updateSlidesTitle()}},{key:"nextPresentationTitle",set:function(e){this.findTarget("nextPresentationTitle").innerHTML=e}},{key:"isVertical",get:function(){return this.props.isVertical},set:function(e){this.props.isVertical=e}},{key:"updateSlidesTitle",value:function(){var e=this.findTarget("slidesTitle");this.props.slidesLinkifyTitle?e.innerHTML='<a href="'.concat(this.props.slidesTitleLink,'" target="_blank" data-slp-target="slidesTitle">').concat(this.props.slidesTitle,"</a>"):e.innerHTML=this.props.slidesTitle}}])&&ge(t.prototype,n),s&&ge(t,s),e}();function Se(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Te(e,t,n,i){var r,a;return n>i?(r=e,a=t*(i/n)):n<i?(r=e*(i/n),a=t):(r=e,a=t),{w:r,h:a}}function xe(e,t,n,i,r,a,o){t<.5*(e-=n)/i+40&&(e=(t-40)*i/.5);var s=Math.round(e*o),l=s/i,u=e-s,c=u/a,d=s+u+n,p=Math.max(l,c)+40,f=Te(s,l,i,r);return{vertical:!1,width:d,height:p,videoWidth:s,videoHeight:l,slidesWidth:u,slidesHeight:c,videoElementWidth:f.w,videoElementHeight:f.h}}function Oe(e,t,n,i,r,a){var o=e,s=o/i,l=e,u=l/a;if(s+u+n>t){var c=t-n;s=c-(u=c*i/(a+i)),o=l=u*a}var d=o,p=s+u+n,f=Te(o,s,i,r);return{vertical:!0,width:d,height:p,videoWidth:o,videoHeight:s,slidesWidth:l,slidesHeight:u,videoElementWidth:f.w,videoElementHeight:f.h}}var Ee=function(){function e(t,n,r){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.options=n,this.sizeChangedCallback=r,this.props={mode:"",layout:"",realVideoRatio:16/9,displayVideoRatio:null,slidesRatio:16/9,zoom:.5,maxHeight:null,size:null,loading:!1,fullscreen:!1,updateTimeout:null,forceNextUpdate:!1,message:!1,compactDefault:!1},Object(i.a)(window,"resize",(function(){return a.updateSize()}))}var t,n,r;return t=e,(n=[{key:"updateSize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.props.updateTimeout||(this.props.updateTimeout=setTimeout((function(){return e.doUpdateSize()}),0)),t&&(this.props.forceNextUpdate=!0)}},{key:"doUpdateSize",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.props.forceNextUpdate||t;if(this.props.updateTimeout=null,this.props.forceNextUpdate=null,this.props.message)e=this.messageSize();else if(this.props.loading)e=this.defaultSize();else switch(this.props.mode){case"video_slideshow":e=this.hideSlides?this.calcSizeForVideo():this.calcSizeForVideoSlideshow();break;case"video":e=this.calcSizeForVideo();break;case"audio_slideshow":e=this.calcSizeForAudioSlideshow();break;case"slideshow":e=this.calcSizeForSlideshow();break;default:e=this.defaultSize()}!(e=this.roundSize(e))||!n&&this.areSizesEqual(this.props.size,e)||(this.props.size=e,this.sizeChangedCallback(this.props.size))}},{key:"defaultSize",value:function(){var e,t,n,i;return this.props.compactDefault?(e=320,t=180):(this.verticalLayout?(n=5,i=Oe(this.maxWidth,this.maxHeight,n,16/9,16/9,16/9)):(n=Math.min(20,Math.max(5,.01*this.maxWidth)),i=xe(this.maxWidth,this.maxHeight,n,16/9,16/9,16/9,.5)),e=i.width,t=i.height),{width:e,height:t,videoWidth:0,videoHeight:0,slidesWidth:0,slidesHeight:0,spacing:0}}},{key:"messageSize",value:function(){var e,t;if(this.props.compactDefault)e=320,t=180;else{var n=this.calcSizeForOnePartOnly(16/9);e=n.w,t=n.h}return{width:e,height:t,videoWidth:0,videoHeight:0,slidesWidth:0,slidesHeight:0,spacing:0}}},{key:"roundSize",value:function(e){var t={width:Math.round(e.width),height:Math.round(e.height),videoWidth:Math.round(e.videoWidth),videoHeight:Math.round(e.videoHeight),slidesWidth:Math.round(e.slidesWidth),slidesHeight:Math.round(e.slidesHeight),spacing:Math.round(e.spacing)};return Object(i.U)(e.vertical)&&(t.vertical=e.vertical),Object(i.U)(e.videoElementWidth)&&(t.videoElementWidth=Math.round(e.videoElementWidth)),Object(i.U)(e.videoElementHeight)&&(t.videoElementHeight=Math.round(e.videoElementHeight)),t}},{key:"calcSizeForVideoSlideshow",value:function(){var e,t;return this.verticalLayout?(e=5,t=this.calcSizeForVideoSlideshowVertical(e)):(e=Math.min(20,Math.max(5,.01*this.maxWidth)),t=this.calcSizeForVideoSlideshowHorizontal(e)),t.spacing=e,t}},{key:"calcSizeForVideoSlideshowHorizontal",value:function(e){return xe(this.maxWidth,this.maxHeight,e,this.props.displayVideoRatio||this.props.realVideoRatio,this.props.realVideoRatio,this.props.slidesRatio,this.props.zoom)}},{key:"calcSizeForVideoSlideshowVertical",value:function(e){return Oe(this.maxWidth,this.maxHeight,e,this.props.displayVideoRatio||this.props.realVideoRatio,this.props.realVideoRatio,this.props.slidesRatio)}},{key:"calcSizeForVideo",value:function(){var e=this.calcSizeForOnePartOnly(this.props.displayVideoRatio||this.props.realVideoRatio),t=Te(e.w,e.h,this.props.displayVideoRatio||this.props.realVideoRatio,this.props.realVideoRatio);return{width:e.w,height:e.h,videoWidth:e.w,videoHeight:e.h,videoElementWidth:t.w,videoElementHeight:t.h,slidesWidth:0,slidesHeight:0,spacing:0}}},{key:"calcSizeForAudioSlideshow",value:function(){var e=this.calcSizeForSlideshow();return e.videoWidth=e.slidesWidth,e.videoHeight=e.slidesHeight,e}},{key:"calcSizeForSlideshow",value:function(){var e=this.calcSizeForOnePartOnly(this.props.slidesRatio);return{width:e.w,height:e.h,videoWidth:0,videoHeight:0,slidesWidth:e.w,slidesHeight:e.h,spacing:0}}},{key:"calcSizeForOnePartOnly",value:function(e){var t=this.maxHeight,n=this.maxWidth,i=n/e;return i>t&&(n=(i=t)*e),{w:n,h:i}}},{key:"areSizesEqual",value:function(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];if(e[r]!==t[r])return!1}return!0}},{key:"setAvailableSize",value:function(e){this.props.maxHeight=e,this.updateSize()}},{key:"realVideoRatio",set:function(e){this.props.realVideoRatio!==e&&(this.props.realVideoRatio=e,this.updateSize())}},{key:"displayVideoRatio",set:function(e){this.props.displayVideoRatio!==e&&(this.props.displayVideoRatio=e,this.updateSize())}},{key:"slidesRatio",set:function(e){this.props.slidesRatio!==e&&(this.props.slidesRatio=e,this.updateSize())}},{key:"zoom",get:function(){return this.props.zoom},set:function(e){this.props.zoom!==e&&(this.props.zoom=e,this.updateSize())}},{key:"maxWidth",get:function(){if(this.props.fullscreen)return Object(i.xb)();var e=Object(i.yb)(this.element);return this.options.maxWidth&&this.options.maxWidth<e&&(e=this.options.maxWidth),e}},{key:"maxHeight",get:function(){if(this.props.fullscreen)return Object(i.wb)();var e=this.props.maxHeight;return e||(e=window!==window.parent?Object(i.wb)():Object(i.wb)()-150)<200&&(e=200),this.options.maxHeight&&this.options.maxHeight<e?this.options.maxHeight:e}},{key:"mode",set:function(e){this.props.mode!==e&&(this.props.mode=e,this.updateSize())}},{key:"layout",set:function(e){this.props.layout!==e&&(this.props.layout=e,this.updateSize())}},{key:"loading",set:function(e){this.props.loading!==e&&(this.props.loading=e,this.updateSize())}},{key:"message",set:function(e){this.props.message=e}},{key:"compactDefault",set:function(e){this.props.compactDefault=e}},{key:"size",get:function(){return this.props.size}},{key:"hideSlides",get:function(){return this.props.hideSlides},set:function(e){this.hideSlides!==e&&(this.props.hideSlides=e,this.updateSize())}},{key:"fullscreen",get:function(){return this.props.fullscreen},set:function(e){this.props.fullscreen=e,this.updateSize()}},{key:"verticalLayout",get:function(){if(!(this.options.verticalEnabled||Object(i.R)()&&this.options.verticalEnabledOnMobile))return!1;if(!this.props.fullscreen){if(null!==this.options.verticalWhenWidthLte&&this.maxWidth<=this.options.verticalWhenWidthLte)return!0;if(null!==this.options.verticalDisabledWhenWidthGte&&this.maxWidth>=this.options.verticalDisabledWhenWidthGte)return!1}return this.maxWidth<this.maxHeight}}])&&Se(t.prototype,n),r&&Se(t,r),e}();function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){r=!0,a=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ae(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ie=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.options=n,this.callbacks=i,this.props={mode:"",layout:""},this.createHtml(),this.createSizeCalc()}var t,n,a;return t=e,(n=[{key:"createHtml",value:function(){var e=this;this.html=new _e(this.element,{locale:this.options.locale,disableFullscreen:this.options.disableFullscreen,zoomRatio:this.options.zoomRatio,zoomSliderColor:this.options.zoomSliderColor,zoomHandleColor:this.options.zoomHandleColor,allowHiddenControlsWhenPaused:this.options.allowHiddenControlsWhenPaused},{actionCallback:function(t){return e.handleAction(t)},actionWithParamCallback:function(t,n){return e.handleActionWithParam(t,n)},progressImageUrlCallback:function(t){return e.callbacks.progressImageUrl(t)},controlsVisibilityChanged:function(t){return e.callbacks.controlsVisibilityChanged(t)}})}},{key:"createSizeCalc",value:function(){var e=this;this.sizeCalc=new Ee(this.element,{verticalEnabled:this.options.verticalEnabled,verticalEnabledOnMobile:this.options.verticalEnabledOnMobile,verticalDisabledWhenWidthGte:this.options.verticalDisabledWhenWidthGte,verticalWhenWidthLte:this.options.verticalWhenWidthLte,maxHeight:this.options.maxHeight,maxWidth:this.options.maxWidth},(function(t){Object(r.a)("VIEW","set size",t),e.html.setSize(t),e.callbacks.sizeChanged(t)}))}},{key:"toggleClassesAfterRender",value:function(){this.html.toggleClass("mobile",Object(i.R)()),this.html.toggleClass("hideThumbnail",!this.options.showThumbnail),this.html.toggleClass("originalVideoControls",this.options.originalVideoControls)}},{key:"renderClickToLoad",value:function(){this.html.renderClickToLoad(),this.sizeCalc.message=!0,this.sizeCalc.compactDefault=!0,this.sizeCalc.updateSize(!0),this.toggleClassesAfterRender()}},{key:"renderPlayer",value:function(){this.html.renderPlayer(),this.sizeCalc.message=!1,this.sizeCalc.compactDefault=!1,this.sizeCalc.updateSize(!0),this.toggleClassesAfterRender()}},{key:"showError",value:function(e){this.html.renderError(e),this.sizeCalc.message=!0,this.sizeCalc.updateSize(!0),this.toggleClassesAfterRender()}},{key:"showProcessing",value:function(e){this.html.renderProcessing(e),this.sizeCalc.message=!0,this.sizeCalc.updateSize(!0),this.toggleClassesAfterRender()}},{key:"showLivestreamFinished",value:function(){this.html.renderLivestreamFinished(),this.sizeCalc.message=!0,this.sizeCalc.updateSize(!0),this.toggleClassesAfterRender()}},{key:"handleAction",value:function(e){switch(e){case"clickToLoad":this.callbacks.clickToLoad();break;case"videoClick":case"slidesClick":case"togglePlayback":this.callbacks.togglePlayback();break;case"toggleMute":this.callbacks.toggleMute();break;case"prevSlide":this.callbacks.prevSlide();break;case"nextSlide":this.callbacks.nextSlide();break;case"toggleSlideMute":this.callbacks.toggleSlideMute();break;case"syncSlidesToVideo":this.callbacks.syncSlidesToVideo();break;case"syncVideoToSlides":this.callbacks.syncVideoToSlides();break;case"toggleFullscreen":this.callbacks.toggleFullscreen();break;case"seekToLivePosition":this.callbacks.seekToLivePosition();break;case"hideNextPresentationOverlay":this.hideNextPresentationOverlay();break;case"playNextPresentation":this.callbacks.playNextPresentation();break;case"addBookmark":this.callbacks.addBookmark();break;case"showTopicsAndTranscript":this.callbacks.showTopicsAndTranscript();break;case"toggleDebugInfo":this.html.toggleDebugInfo();break;default:console.warn("SLP:","unhandled action",e)}}},{key:"handleActionWithParam",value:function(e,t){switch(e){case"volume":this.callbacks.setVolume(t);break;case"startSeek":this.callbacks.startSeek(t);break;case"updateSeek":this.callbacks.updateSeek(t);break;case"endSeek":this.callbacks.endSeek(t);break;case"setPlaybackRate":this.callbacks.setPlaybackRate(parseFloat(t));break;case"setVideoQuality":this.callbacks.setVideoQuality(t);break;case"setPlaybackServer":this.callbacks.setPlaybackServer(t);break;case"setSubtitleTrack":this.callbacks.setSubtitleTrack(parseInt(t,10));break;case"setMode":this.mode=t;break;case"setZoom":this.sizeCalc.zoom=parseFloat(t);break;case"fullscreenChanged":this.sizeCalc.fullscreen=t;break;case"seekTo":this.callbacks.seekTo(parseFloat(t));break;case"toggleFavorite":this.html.togglePlaylistLoading("favorite",!0),this.callbacks.togglePlaylist("favorite","true"===t);break;case"toggleWatchLater":this.html.togglePlaylistLoading("watch-later",!0),this.callbacks.togglePlaylist("watch-later","true"===t);break;case"togglePlaylist":var n=Pe(t.split(";"),2),i=n[0],r=n[1];this.html.togglePlaylistLoading(i,!0),this.callbacks.togglePlaylist(i,"true"===r);break;case"addPlaylist":this.callbacks.addPlaylist({name:t,custom:!0});break;case"updateBookmark":this.html.toggleBookmarkLoading(t.id,!0),this.callbacks.updateBookmark(t);break;case"removeBookmark":this.html.toggleBookmarkLoading(t,!0),this.callbacks.removeBookmark(t);break;default:console.warn("SLP:","unhandled action with param",e,t)}}},{key:"setAvailableSize",value:function(e){Object(r.a)("VIEW","set available size",e),this.sizeCalc.setAvailableSize(e)}},{key:"updateTime",value:function(e,t){this.html.updateTime(e,t)}},{key:"updateVolume",value:function(e,t){this.html.toggleClass("muted",t),this.html.updateVolumeIcon(e,t),this.html.updateVolumeBar(e,t)}},{key:"updateSlideMuted",value:function(e,t){this.html.toggleClass("slideMutable",e),e&&this.html.updateSlideMutedTitle(t),this.html.updateSlideMutedIcon(t)}},{key:"updateAvailablePlaybackRates",value:function(e){this.html.updateAvailablePlaybackRates(e)}},{key:"updateAvailableQualities",value:function(e){this.html.updateAvailableQualities(e)}},{key:"updateAvailableServers",value:function(e){this.html.updateAvailableServers(e)}},{key:"updateSubtitles",value:function(e){this.html.updateAvailableSubtitles(e)}},{key:"updateSlide",value:function(e,t,n){this.html.updateSlide(e,t,n)}},{key:"updatePlaylistsList",value:function(e,t){this.html.updatePlaylistsList(e,t)}},{key:"updatePlaylist",value:function(e,t){this.html.updatePlaylist(e,t),this.html.togglePlaylistLoading(e,!1)}},{key:"updateBookmarksList",value:function(e){this.html.updateBookmarksList(e)}},{key:"updateBookmark",value:function(e,t){this.html.updateBookmark(e,t),this.html.toggleBookmarkLoading(e.id,!1)}},{key:"removeBookmark",value:function(e,t){this.html.removeBookmark(e,t)}},{key:"showBookmarksPopup",value:function(e){this.html.showBookmarksPopup(e)}},{key:"toggleFullscreen",value:function(){this.html.toggleFullscreen()}},{key:"showNextPresentationOverlay",value:function(){this.html.showNextPresentationOverlay()}},{key:"hideNextPresentationOverlay",value:function(){this.html.hideNextPresentationOverlay()}},{key:"hideOpenedOverlays",value:function(){this.html.hideOpenedOverlays()}},{key:"toggleTopicsAndTranscriptLoading",value:function(e){this.html.toggleTopicsAndTranscriptLoading(e)}},{key:"updateDebugInfo",value:function(e){this.html.updateDebugInfo(e)}},{key:"thumbnail",set:function(e){this.html.thumbnail=e}},{key:"nextPresentationThumbnail",set:function(e){this.html.nextPresentationThumbnail=e}},{key:"realVideoRatio",set:function(e){null===e||e<=0||(this.html.realVideoRatio=e,this.sizeCalc.realVideoRatio=e)}},{key:"displayVideoRatio",set:function(e){null===e||e<=0?this.html.toggleClass("fakeVideoRatio",!1):(this.html.toggleClass("fakeVideoRatio",!0),this.html.displayVideoRatio=e,this.sizeCalc.displayVideoRatio=e)}},{key:"slidesRatio",set:function(e){e<=0||(this.html.slidesRatio=e,this.sizeCalc.slidesRatio=e)}},{key:"loading",set:function(e){this.sizeCalc.loading=e,this.html.toggleClass("loading",e)}},{key:"mode",get:function(){return this.props.mode},set:function(e){this.props.mode=e,this.html.mode=e,this.sizeCalc.mode=e}},{key:"layout",get:function(){return this.props.layout},set:function(e){this.props.layout=e,this.sizeCalc.layout=e,this.html.setData("layout",e)}},{key:"offline",set:function(e){this.html.toggleClass("offline",e)}},{key:"guest",set:function(e){this.html.toggleClass("guest",e)}},{key:"live",set:function(e){this.html.toggleClass("live",e)}},{key:"liveFinished",set:function(e){this.html.toggleClass("liveFinished",e)}},{key:"ended",set:function(e){this.html.toggleClass("ended",e)}},{key:"firstPlay",set:function(e){this.html.toggleClass("firstPlay",e)}},{key:"firstPlayHack",set:function(e){this.html.toggleClass("firstPlayHack",e)}},{key:"playing",set:function(e){this.html.toggleClass("playing",e),this.html.updatePlayingIcon(e)}},{key:"paused",set:function(e){this.html.toggleClass("paused",e)}},{key:"seeking",set:function(e){this.html.toggleClass("seeking",e)}},{key:"videoLoading",set:function(e){this.html.toggleClass("videoLoading",e)}},{key:"videoInLivePosition",set:function(e){this.html.toggleClass("inLivePosition",e)}},{key:"slidesLoading",set:function(e){this.html.toggleClass("slidesLoading",e)}},{key:"slidesInSync",set:function(e){var t=this;this.html.toggleClass("slidesNotInSync",!e),e&&(this.html.toggleClass("syncedNow",!0),setTimeout((function(){return t.html.toggleClass("syncedNow",!1)}),1e3))}},{key:"hideSlides",set:function(e){this.html.toggleClass("hideSlides",e),this.sizeCalc.hideSlides=e}},{key:"quality",set:function(e){this.html.quality=e}},{key:"playbackRate",set:function(e){this.html.playbackRate=e}},{key:"playbackServerIndex",set:function(e){this.html.playbackServerIndex=e}},{key:"activeSubtitle",set:function(e){this.html.activeSubtitle=e}},{key:"videoElement",get:function(){return this.html.videoContentElement}},{key:"slidesElement",get:function(){return this.html.slidesContentElement}},{key:"size",get:function(){return this.sizeCalc.size}},{key:"zoom",get:function(){return this.sizeCalc.zoom}},{key:"fullscreenActive",get:function(){return this.html.fullscreenActive}},{key:"embed",set:function(e){this.html.toggleClass("embed",e)}},{key:"hideTitle",set:function(e){this.html.toggleClass("hideTitle",e)}},{key:"linkifyTitle",set:function(e){this.html.linkifyTitle=e}},{key:"title",set:function(e){this.html.title=e}},{key:"link",set:function(e){this.html.link=e}},{key:"nextPresentationTitle",set:function(e){this.html.nextPresentationTitle=e}},{key:"notRecorded",set:function(e){this.sizeCalc.message=e,this.html.toggleClass("notRecorded",e),this.sizeCalc.updateSize(!0)}},{key:"livestreamStarted",set:function(e){this.sizeCalc.message=!e,this.html.toggleClass("liveStarted",e),this.html.toggleClass("liveNotStarted",!e),this.sizeCalc.updateSize(!0)}},{key:"topicsAndTranscriptAvailable",set:function(e){this.html.toggleClass("topicsAndTranscriptAvailable",e)}},{key:"seekable",set:function(e){this.html.toggleClass("notSeekable",!e)}}])&&Ae(t.prototype,n),a&&Ae(t,a),e}()},137:function(e,t,n){"use strict";n.d(t,"a",(function(){return le}));var i=n(0),r=n(1);function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props={type:t,element:null,isLoading:!1,isLoaded:!1,currentQuality:null},this.callbacks=i,this.options=n}var t,n,r;return t=e,(n=[{key:"load",value:function(e){this.props.currentQuality=e,this.props.isLoading=!0}},{key:"loadingQuality",value:function(e){return Object(i.U)(this.currentQuality)||Object(i.U)(e)?this.isLoading&&this.currentQuality===e:this.isLoading}},{key:"loadedQuality",value:function(e){return Object(i.U)(this.currentQuality)||Object(i.U)(e)?this.isLoaded&&this.currentQuality===e:this.isLoaded}},{key:"time",get:function(){return this.options.time}},{key:"type",get:function(){return this.props.type}},{key:"element",get:function(){return this.props.element},set:function(e){this.props.element=e}},{key:"isLoaded",get:function(){return this.props.isLoaded},set:function(e){this.props.isLoaded=e}},{key:"isLoading",get:function(){return this.props.isLoading},set:function(e){this.props.isLoading=e}},{key:"currentQuality",get:function(){return this.props.currentQuality}},{key:"width",get:function(){return this.element?"video"===this.type?this.element.firstElementChild.videoWidth:this.element.naturalWidth:0}},{key:"height",get:function(){return this.element?"video"===this.type?this.element.firstElementChild.videoHeight:this.element.naturalHeight:0}}])&&a(t.prototype,n),r&&a(t,r),e}();function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return(l="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=p(e);if(t){var r=p(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,e);var t,n,r,a=c(o);function o(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"image",e,t)}return t=o,(n=[{key:"format",value:function(e){return this.options.local||"original"===e?"png":"jpg"}},{key:"url",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium";return this.options.local?"data/".concat(this.options.presentationId,"/slides/").concat(this.options.data.name,".").concat(this.format(e)):"https://".concat(this.options.slideHost,"/").concat(this.options.slidePath,"/").concat(this.options.presentationId,"/slides/").concat(e,"/").concat(this.options.data.name,".").concat(this.format(e),"?").concat(this.options.cacheTimestamp)}},{key:"progressImageUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium";return this.url(e)}},{key:"beforeCallbackCalled",value:function(){this.isLoaded=!0,this.isLoading=!1,this.element.onload=null,this.element.onerror=null}},{key:"load",value:function(e){var t=this;this.loadingQuality(e)||(this.loadedQuality(e)?Object(i.k)((function(){return t.callbacks.loaded(t.element)})):(l(p(o.prototype),"load",this).call(this,e),this.element=new Image,this.element.onload=function(){t.beforeCallbackCalled(),t.callbacks.loaded(t.element)},this.element.onerror=function(){t.beforeCallbackCalled(),t.callbacks.error(t.element,"Something went wrong.")},this.element.src=this.url(e)))}}])&&s(t.prototype,n),r&&s(t,r),o}(o),h=n(48),m=n(69),v=n.n(m);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function w(e,t,n){return(w="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=x(e);if(t){var r=x(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(o,e);var t,n,r,a=S(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=a.call(this,"video",e,t)).props=b(b({},n.props),{},{player:null,playerExpectedCurrentTime:0,autoPlay:!1,playbackRate:1}),n.element=document.createElement("div"),n.props.player=new h.a(n.element,n.playerOptions),n}return t=o,(n=[{key:"beforeCallbackCalled",value:function(){this.isLoaded=!0,this.isLoading=!1}},{key:"load",value:function(){var e=this;this.isLoading||(this.isLoaded?Object(i.k)((function(){return e.callbacks.loaded(e.element)})):(w(x(o.prototype),"load",this).call(this),this.props.player.load(this.options.data.service,this.options.data.id)))}},{key:"setMuted",value:function(e){this.alwaysMuted||this.props.player.setMuted(e)}},{key:"play",value:function(){this.props.playerExpectedCurrentTime>this.durationMs||this.props.player.play()}},{key:"pause",value:function(){this.props.player.pause()}},{key:"progressImageUrl",get:function(){return v.a}},{key:"currentTime",get:function(){return this.props.player.currentTime},set:function(e){this.props.playerExpectedCurrentTime=e,e>this.durationMs?this.currentTime<this.durationMs&&(this.props.player.currentTime=this.durationMs):this.props.player.currentTime=e}},{key:"playerOptions",get:function(){var e=this;return{initial:{muted:this.alwaysMuted},callbacks:{canPlay:function(){e.beforeCallbackCalled(),e.callbacks.loaded(e.element)},loadingChanged:function(t){e.callbacks.loadingChanged(t,e.element)},stateChanged:function(t){e.durationMs!==e.currentTime&&e.callbacks.stateChanged(e.element,t)},volumeChanged:function(t,n){e.callbacks.updateVolume(e.element,t,n)},showError:function(t){e.beforeCallbackCalled(),e.callbacks.error(e.element,t)},debugInfo:function(){},ready:function(){},ended:function(){e.callbacks.ended(e.element)},playbackRateChanged:function(t){e.callbacks.playbackRateChanged(e.element,t)},playFailed:function(){e.callbacks.playFailed(e.element)}}}}},{key:"alwaysMuted",get:function(){return!0}},{key:"durationMs",get:function(){return this.options.data.duration_ms}},{key:"ended",get:function(){return this.props.player.ended}},{key:"autoPlay",get:function(){return this.props.autoPlay},set:function(e){this.props.autoPlay=e}},{key:"playbackRate",get:function(){return this.props.playbackRate},set:function(e){this.props.player.playbackRate=e,this.props.playbackRate=e}}])&&k(t.prototype,n),r&&k(t,r),o}(o);function E(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function C(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var A=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.callbacks=n,this.props={slideHost:"d2ygwrecguqg66.cloudfront.net",slidePath:"data/presentations",timedSlideIndex:null,manualSlideIndex:null,ready:!1,inSync:!0,quality:"medium"},this.slides=[]}var t,n,r;return t=e,(n=[{key:"load",value:function(e,t){var n=this;this.callbacks.loadingChanged(!0),this.loadJson(e,(function(){n.loadXml(t)}))}},{key:"loadJson",value:function(e,t){this.requestPresentationJson(e,t)}},{key:"loadXml",value:function(e){this.requestPresentationXml(e)}},{key:"loadOffline",value:function(e){this.callbacks.loadingChanged(!0),this.processPresentationJson(JSON.parse(e))}},{key:"requestPresentationJson",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(i.b)("GET",e,void 0,{success:function(e){return t.processPresentationJson(JSON.parse(e.responseText))},error:function(i){n?n():(t.callbacks.loadingChanged(!1),403===i.status||404===i.status?(t.props.ready=!0,t.callbacks.ready()):console.warn("Error while loading JSON from ".concat(e)))}})}},{key:"requestPresentationXml",value:function(e){var t=this;Object(i.b)("GET",e,void 0,{success:function(e){return t.processPresentationXml(e.responseXML)},error:function(n){t.callbacks.loadingChanged(!1),403===n.status||404===n.status?(t.props.ready=!0,t.callbacks.ready()):console.warn("Error while loading XML from ".concat(e))}})}},{key:"processPresentationJson",value:function(e){var t,n=this,i=E(e.slides);try{for(i.s();!(t=i.n()).done;){var r=t.value,a=void 0;"video"===r.type?a=new O({local:this.options.offline,presentationId:this.presentationId,cacheTimestamp:this.cacheTimestamp,data:r.video,time:r.time},{loaded:this.callbacks.slideLoaded,error:this.callbacks.slideLoaded,updateVolume:this.callbacks.updateVolume,loadingChanged:function(e,t){n.callbacks.loadingChanged(e),n.callbacks.videoLoadingChanged(t,e)},stateChanged:this.callbacks.videoStateChanged,ended:this.callbacks.videoEnded,playbackRateChanged:this.callbacks.videoPlaybackRateChanged,playFailed:this.callbacks.videoPlayFailed}):"image"===r.type?a=new f({local:this.options.offline,slideHost:this.props.slideHost,slidePath:this.props.slidePath,presentationId:this.presentationId,cacheTimestamp:this.cacheTimestamp,data:r.image,time:r.time},{loaded:this.callbacks.slideLoaded,error:this.callbacks.slideLoaded}):console.warn("Unknown slide type",r.type),a&&this.slides.push(a)}}catch(o){i.e(o)}finally{i.f()}this.processiongPresentationInfoFinished()}},{key:"processPresentationXml",value:function(e){var t,n=E(e.getElementsByTagName("slide"));try{for(n.s();!(t=n.n()).done;){var r=t.value,a=r.querySelector("slideName").textContent,o=void 0,s=r.querySelector("time");Object(i.U)(s)?o=parseInt(s.textContent,10):(s=r.querySelector("timeSec"),o=1e3*parseInt(s.textContent,10));var l=new f({local:this.options.offline,slideHost:this.props.slideHost,slidePath:this.props.slidePath,presentationId:this.presentationId,cacheTimestamp:this.cacheTimestamp,data:{name:a},time:o},{loaded:this.callbacks.slideLoaded,error:this.callbacks.slideLoaded});this.slides.push(l)}}catch(u){n.e(u)}finally{n.f()}this.processiongPresentationInfoFinished()}},{key:"processiongPresentationInfoFinished",value:function(){this.slideCount>0&&(this.props.timedSlideIndex=0),this.props.ready=!0,this.callbacks.ready(),this.fireCurrentSlideChanged()}},{key:"updateVideoCurrentTimeSlideIfInSync",value:function(e,t){if(this.props.inSync&&"video"===t.type){var n=e-t.time,i=this.currentSlide.currentTime;Math.abs(n-i)>1e3&&(this.currentSlide.currentTime=n)}}},{key:"updateSlide",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0!==this.slides.length){var i=this.slideIndexForTime(e),r=this.slides[i];(t||i!==this.props.timedSlideIndex)&&(this.props.timedSlideIndex=i,this.props.inSync&&this.fireCurrentSlideChanged(n)),n&&(r.autoPlay=!0,this.updateVideoCurrentTimeSlideIfInSync(e,r))}}},{key:"timeForSlideIndex",value:function(e){return this.slides[e].time}},{key:"slideIndexForTime",value:function(e){for(var t=1;t<this.slides.length&&this.slides[t].time<=e;)t+=1;return t-1}},{key:"progressImageUrl",value:function(e){var t=this.slideIndexForTime(e);if(t<0||t>=this.slides.length)return null;var n=this.slides[t];return"image"===n.type?n.progressImageUrl(this.quality):n.progressImageUrl}},{key:"dataForSlideIndex",value:function(e){var t=this.slides[e];return{url:"image"===t.type?t.url(this.quality):t.url,type:t.type,time:t.time}}},{key:"fireCurrentSlideChanged",value:function(e){if(Object(i.U)(this.currentSlide)){var t=0===this.currentSlideIndex?0:this.currentSlide.time,n={url:"image"===this.currentSlide.type?this.currentSlide.url(this.quality):this.currentSlide.url,type:this.currentSlide.type,time:t};"video"===this.currentSlide.type&&(n.video=this.currentSlide),this.callbacks.currentSlideChanged(this.currentSlideIndex,this.slideCount,n,e)}}},{key:"fireCurrentSlideUpdateVideoCurrentTime",value:function(e){"video"===this.currentSlide.type&&this.callbacks.currentSlideUpdateVideoCurrentTime(e)}},{key:"next",value:function(){this.inSync=!1,this.props.manualSlideIndex=(this.currentSlideIndex+1)%this.slideCount,this.fireCurrentSlideChanged(0)}},{key:"prev",value:function(){this.inSync=!1,this.props.manualSlideIndex=(this.currentSlideIndex-1+this.slideCount)%this.slideCount,this.fireCurrentSlideChanged(0)}},{key:"setInSync",value:function(){this.inSync=!0}},{key:"inSync",get:function(){return this.props.inSync},set:function(e){this.props.inSync!==e&&(this.props.inSync=e,this.props.inSync&&(this.props.manualSlideIndex=null),this.callbacks.inSyncChanged(this.props.inSync))}},{key:"presentationId",get:function(){return this.options.presentationId}},{key:"cacheTimestamp",get:function(){return this.options.cacheTimestamp||0}},{key:"ready",get:function(){return this.props.ready}},{key:"currentSlideIndex",get:function(){return this.props.inSync||!Object(i.U)(this.props.manualSlideIndex)?this.props.timedSlideIndex:this.props.manualSlideIndex}},{key:"currentSlideTime",get:function(){return this.currentSlide.time}},{key:"currentSlideType",get:function(){return this.currentSlide.type}},{key:"currentSlide",get:function(){return this.slides[this.currentSlideIndex]}},{key:"slideCount",get:function(){return this.slides.length}},{key:"size",set:function(e){this.quality=e.slidesWidth>=640?"big":"medium"}},{key:"quality",get:function(){return this.props.quality},set:function(e){this.quality!==e&&(this.props.quality=e,this.fireCurrentSlideChanged())}}])&&C(t.prototype,n),r&&C(t,r),e}();function I(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function j(e,t,n){return(j="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=D(e);if(t){var r=D(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(o,e);var t,n,r,a=M(o);function o(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"image",e,t)}return t=o,(n=[{key:"calcOffset",value:function(e,t){return this.appStart-e+t}},{key:"calcTime",value:function(e,t){var n=this.calcOffset(e,t);return this.time+n}},{key:"url",value:function(){return"https:".concat(this.options.path,"?").concat(this.options.cacheTimestamp)}},{key:"beforeCallbackCalled",value:function(){this.isLoaded=!0,this.isLoading=!1,this.element.onload=null,this.element.onerror=null}},{key:"load",value:function(){var e=this;this.isLoading||(this.isLoaded?Object(i.k)((function(){return e.callbacks.loaded(e.element)})):(j(D(o.prototype),"load",this).call(this),this.element=new Image,this.element.onload=function(){e.beforeCallbackCalled(),e.callbacks.loaded(e.element)},this.element.onerror=function(){e.beforeCallbackCalled(),e.callbacks.error(e.element,"Something went wrong.")},this.element.src=this.url()))}},{key:"time",get:function(){return this.options.time}},{key:"appStart",get:function(){return this.options.appStart}},{key:"version",get:function(){return this.options.version}}])&&I(t.prototype,n),r&&I(t,r),o}(o);function U(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function F(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var B=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.callbacks=n,this.props={timedSlideIndex:null,manualSlideIndex:null,ready:!1,inSync:!0,streamStart:0,delay:0,lastUpdateTime:0},this.slides=[]}var t,n,a;return t=e,(n=[{key:"load",value:function(){this.callbacks.loadingChanged(!1),this.props.ready=!0,this.callbacks.ready()}},{key:"updateSlide",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0!==this.slides.length){this.props.lastUpdateTime=e;var n=this.slideIndexForTime(e);(t||n!==this.props.timedSlideIndex)&&(this.props.timedSlideIndex=n,this.fireCurrentSlideChanged())}}},{key:"timeForSlideIndex",value:function(e){return this.slides[e].calcTime(this.props.streamStart,this.props.delay)}},{key:"slideIndexForTime",value:function(e){for(var t=1;t<this.slides.length&&this.slides[t].calcTime(this.props.streamStart,this.props.delay)<=e;)t+=1;return t-1}},{key:"progressImageUrl",value:function(e){return null}},{key:"dataForSlideIndex",value:function(e){var t=this.slides[e];return{url:t.url(),type:t.type,time:t.calcTime(this.props.streamStart,this.props.delay)}}},{key:"fireCurrentSlideChanged",value:function(){Object(r.a)("SLIDES","changed",this.currentSlideIndex,this.currentSlideUrl,this.currentSlideTime);var e={url:this.currentSlideUrl,type:"image",time:this.currentSlideTime};this.callbacks.currentSlideChanged(this.currentSlideIndex,this.slideCount,e)}},{key:"setInSync",value:function(){this.inSync=!0}},{key:"inSync",get:function(){return this.props.inSync},set:function(e){this.props.inSync!==e&&(this.props.inSync=e,this.props.inSync&&(this.props.manualSlideIndex=null),this.callbacks.inSyncChanged(this.props.inSync))}},{key:"presentationId",get:function(){return this.options.presentationId}},{key:"cacheTimestamp",get:function(){return this.options.cacheTimestamp||0}},{key:"ready",get:function(){return this.props.ready}},{key:"slideCount",get:function(){return this.slides.length}},{key:"currentSlide",get:function(){return this.slides[this.currentSlideIndex]}},{key:"currentSlideIndex",get:function(){return this.props.inSync||!Object(i.U)(this.props.manualSlideIndex)?this.props.timedSlideIndex:this.props.manualSlideIndex}},{key:"currentSlideTime",get:function(){return this.currentSlide.calcTime(this.props.streamStart,this.props.delay)}},{key:"currentSlideType",get:function(){return this.currentSlide.type}},{key:"currentSlideUrl",get:function(){return this.currentSlide.url()}},{key:"streamStart",set:function(e){Object(r.a)("SLIDES","set stream start",e),this.props.streamStart=e,this.updateSlide(this.props.lastUpdateTime)}},{key:"delay",set:function(e){Object(r.a)("SLIDES","set delay",e),this.props.delay=e,this.updateSlide(this.props.lastUpdateTime)}},{key:"newSlidesArray",value:function(e,t){var n,r=[],a=U(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(Object(i.T)(o)){var s=Object(i.U)(o.time)?o.time:o.timestamp,l=Object(i.U)(o.streamStart)?o.streamStart:o.app_start,u=new N({presentationId:this.presentationId,cacheTimestamp:this.cacheTimestamp,path:o.url||o.path,time:t+r.length===0?0:s,appStart:l,version:o.version},{loaded:this.callbacks.slideLoaded,error:this.callbacks.slideLoaded});r.push(u)}else console.warn("slides response array entry is not object!",o)}}catch(c){a.e(c)}finally{a.f()}return r}},{key:"addLivestreamSlides",value:function(e,t){if(Object(i.O)(e)){var n,a=this.newSlidesArray(e,t?this.slideCount:0);t?(Object(r.a)("SLIDES","new slides (incremental)",a.length),n=a.length>0,this.slides=this.slides.concat(a)):(Object(r.a)("SLIDES","new slides (all)",a.length),n=this.slides.length!==a.length,this.slides=a),n&&this.updateSlide(this.props.lastUpdateTime,!0),this.callbacks.preloadSlides(this.currentSlide)}else console.warn("SLIDES","livestream slides data not an Array",e)}},{key:"size",set:function(e){}}])&&F(t.prototype,n),a&&F(t,a),e}();function H(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function z(e,t,n){return(z="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=X(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=X(e);if(t){var r=X(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return W(this,n)}}function W(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(o,e);var t,n,r,a=K(o);function o(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"image",e,t)}return t=o,(n=[{key:"beforeCallbackCalled",value:function(){this.isLoaded=!0,this.isLoading=!1,this.element.onload=null,this.element.onerror=null}},{key:"load",value:function(){var e=this;this.isLoading||(this.isLoaded?Object(i.k)((function(){return e.callbacks.loaded(e.element)})):(z(X(o.prototype),"load",this).call(this),this.element=new Image,this.element.onload=function(){e.beforeCallbackCalled(),e.callbacks.loaded(e.element)},this.element.onerror=function(){e.beforeCallbackCalled(),e.callbacks.error(e.element,"Something went wrong.")},this.element.src=this.url))}},{key:"loading",get:function(){return this.options.loading}},{key:"url",get:function(){return this.options.url}},{key:"progressImageUrl",get:function(){return this.url}},{key:"originalUrl",get:function(){return this.options.originalUrl}}])&&H(t.prototype,n),r&&H(t,r),o}(o);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Z(e,t,n){return(Z="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ie(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ie(e);if(t){var r=ie(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ne(this,n)}}function ne(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var re=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(o,e);var t,n,r,a=te(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=a.call(this,"video",e,t)).props=Q(Q({},n.props),{},{player:null,playerMuted:!1,playerExpectedCurrentTime:0,autoPlay:!1,playbackRate:1}),n.element=document.createElement("div"),n.props.player=new h.a(n.element,n.playerOptions),n}return t=o,(n=[{key:"beforeCallbackCalled",value:function(){this.isLoaded=!0,this.isLoading=!1}},{key:"load",value:function(){var e=this;this.isLoading||(this.isLoaded?Object(i.k)((function(){return e.callbacks.loaded(e.element)})):(Z(ie(o.prototype),"load",this).call(this),this.options.data.id&&this.options.data.service?this.props.player.load(this.options.data.service,this.options.data.id):this.props.player.load(null,JSON.stringify([{mp4:this.url}]))))}},{key:"setMuted",value:function(e){this.props.playerMuted=e,this.alwaysMuted||this.props.player.setMuted(e)}},{key:"play",value:function(){this.props.playerExpectedCurrentTime>this.durationMs||this.props.player.play()}},{key:"pause",value:function(){this.props.player.pause()}},{key:"progressImageUrl",get:function(){return v.a}},{key:"currentTime",get:function(){return this.props.player.currentTime},set:function(e){this.props.playerExpectedCurrentTime=e,e>this.durationMs?this.currentTime<this.durationMs&&(this.props.player.currentTime=this.durationMs):this.props.player.currentTime=e}},{key:"playerOptions",get:function(){var e=this;return{initial:{muted:this.alwaysMuted},callbacks:{canPlay:function(){e.beforeCallbackCalled(),e.callbacks.loaded(e.element)},loadingChanged:function(t){e.callbacks.loadingChanged(t,e.element)},stateChanged:function(t){e.durationMs!==e.currentTime&&e.callbacks.stateChanged(e.element,t)},volumeChanged:function(t,n){e.callbacks.updateVolume(e.element,t,n)},showError:function(t){e.beforeCallbackCalled(),e.callbacks.error(e.element,t)},debugInfo:function(){},ready:function(){},ended:function(){e.callbacks.ended(e.element)},playbackRateChanged:function(t){e.callbacks.playbackRateChanged(e.element,t)},playFailed:function(){e.callbacks.playFailed(e.element)}}}}},{key:"alwaysMuted",get:function(){return!0},set:function(e){this.options.data.muted=e,(this.isLoading||this.isLoaded)&&(e||e===this.props.playerMuted)&&this.props.player.setMuted(e)}},{key:"durationMs",get:function(){return this.options.data.duration_ms}},{key:"loading",get:function(){return this.options.loading}},{key:"url",get:function(){return this.options.url}},{key:"originalUrl",get:function(){return this.options.originalUrl}},{key:"ended",get:function(){return this.props.player.ended}},{key:"autoPlay",get:function(){return this.props.autoPlay},set:function(e){this.props.autoPlay=e}},{key:"playbackRate",get:function(){return this.props.playbackRate},set:function(e){this.props.player.playbackRate=e,this.props.playbackRate=e}}])&&J(t.prototype,n),r&&J(t,r),o}(o);function ae(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var oe=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.callbacks=n,this.props={timedSlideIndex:null,manualSlideIndex:null,ready:!1,inSync:!0},this.slides=[]}var t,n,r;return t=e,(n=[{key:"load",value:function(){this.callbacks.loadingChanged(!1),this.props.ready=!0,this.callbacks.ready()}},{key:"updateAllSlides",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=null,r=!1;this.slides.splice(t);for(var a=t;a<e.length;a++){var o=this.getNewSlideFromData(e[a]);e[a].current&&(this.props.inSync?this.props.timedSlideIndex=a:this.props.manualSlideIndex=a,o.loading&&(r=!0)),Object(i.U)(o.time)&&!Object(i.U)(n)&&(n=a),this.slides.push(o)}this.afterSlidesUpdate(n,r)}},{key:"updateSlidesBetween",value:function(e,t){this.updateAllSlides(e,t.from)}},{key:"updateSpecificSlides",value:function(e,t){for(var n=null,r=!1,a=0;a<t.length;a++){var o=t[a],s=this.updateSpecificSlide(e,o);e[o].current&&s.loading&&(r=!0),Object(i.U)(s.time)&&!Object(i.U)(n)&&(n=o)}this.afterSlidesUpdate(n,r)}},{key:"updateSpecificSlide",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.slides[t],a=this.getNewSlideFromData(e[t]),o=this.slidesTheSameExceptKeys(r,a,["data.muted"]),s=o?r:a;if(o?(n=!1,"video"===s.type&&(s.alwaysMuted=a.alwaysMuted)):this.slides[t]=s,s.current&&(this.props.inSync?this.props.timedSlideIndex=t:this.props.manualSlideIndex=t),n){var l=Object(i.U)(s.time)?t:null,u=s.loading;this.afterSlidesUpdate(l,u)}return s}},{key:"updateSlides",value:function(e,t,n){switch(t){case"all":this.updateAllSlides(e);break;case"between":this.updateSlidesBetween(e,n);break;case"multiple":this.updateSpecificSlides(e,n);break;case"single":this.updateSpecificSlide(e,n,!0)}}},{key:"afterSlidesUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.slideCount>0&&Object(i.U)(e)){var n=this.props.inSync?"timedSlideIndex":"manualSlideIndex";if(!Object(i.U)(this.props[n])){var r=this.slideIndexForTime(this.slides[e].time);this.props[n]=r}this.fireCurrentSlideChanged(0)}else t&&this.fireCurrentSlideChanged(0)}},{key:"updateVideoCurrentTimeSlideIfInSync",value:function(e,t){if(this.props.inSync&&"video"===t.type){var n=e-t.time,i=this.currentSlide.currentTime;Math.abs(n-i)>1e3&&(this.currentSlide.currentTime=n)}}},{key:"updateSlide",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0!==this.slides.length){var i=this.slideIndexForTime(e),r=this.slides[i];(t||i!==this.props.timedSlideIndex)&&(this.props.timedSlideIndex=i,this.props.inSync&&this.fireCurrentSlideChanged(n)),n&&(r.autoPlay=!0,this.updateVideoCurrentTimeSlideIfInSync(e,r))}}},{key:"timeForSlideIndex",value:function(e){return this.slides[e].time}},{key:"slideIndexForTime",value:function(e){for(var t=1;t<this.slides.length&&this.slides[t].time&&this.slides[t].time<=e;)t+=1;return t-1}},{key:"progressImageUrl",value:function(e){var t=this.slideIndexForTime(e);return t<0||t>=this.slides.length?null:(this.callbacks.preloadSlides(t),this.slides[t].progressImageUrl)}},{key:"dataForSlideIndex",value:function(e){var t=this.slides[e];return t.loading?{}:{url:t.url,type:t.type,time:t.time}}},{key:"fireCurrentSlideChanged",value:function(e){this.currentSlideIndex>=this.slides.length&&(this.props.inSync?this.props.timedSlideIndex=this.slides.length-1:this.props.manualSlideIndex=this.slides.length-1);var t=this.currentSlideIndex,n=this.slides[t],i=0===t?0:n.time,r={url:n.loading?null:n.url,originalUrl:n.loading?null:n.originalUrl,type:n.type,time:i};"video"===this.currentSlide.type&&(r.video=this.currentSlide),this.callbacks.currentSlideChanged(t,this.slideCount,r,e)}},{key:"fireCurrentSlideUpdateVideoCurrentTime",value:function(e){"video"===this.currentSlide.type&&this.callbacks.currentSlideUpdateVideoCurrentTime(e)}},{key:"goToByIndex",value:function(e){e<0||e>this.slideCount-1||(this.props.inSync?this.props.timedSlideIndex=e:this.props.manualSlideIndex=e,this.fireCurrentSlideChanged())}},{key:"next",value:function(){this.inSync=!1,this.props.manualSlideIndex=(this.currentSlideIndex+1)%this.slideCount,this.fireCurrentSlideChanged()}},{key:"prev",value:function(){this.inSync=!1,this.props.manualSlideIndex=(this.currentSlideIndex-1+this.slideCount)%this.slideCount,this.fireCurrentSlideChanged()}},{key:"setInSync",value:function(){this.inSync=!0}},{key:"getNewSlideFromData",value:function(e){var t=this;return"image"===e.type?new G({time:e.time,url:e.playerUrl,originalUrl:e.originalUrl,loading:Object(i.U)(e.cropId)||Object(i.U)(e.uploadId)},{loaded:this.callbacks.slideLoaded,error:this.callbacks.slideLoaded}):new re({data:e.typeData,time:e.time,url:e.playerUrl||e.originalUrl,originalUrl:e.originalUrl,loading:Object(i.U)(e.cropId)||Object(i.U)(e.uploadId)},{loaded:this.callbacks.slideLoaded,error:this.callbacks.slideLoaded,updateVolume:this.callbacks.updateVolume,loadingChanged:function(e,n){t.callbacks.loadingChanged(e),t.callbacks.videoLoadingChanged(n,e)},stateChanged:this.callbacks.videoStateChanged,ended:this.callbacks.videoEnded,playbackRateChanged:this.callbacks.videoPlaybackRateChanged,playFailed:this.callbacks.videoPlayFailed})}},{key:"slidesTheSameExceptKeys",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e.type!==t.type)return!1;var i=Object.keys(e.options),r=e.options.data?Object.keys(e.options.data):[],a=Object.keys(t.options),o=t.options.data?Object.keys(t.options.data):[];if(i.length!==a.length||r.length!==o.length)return!1;for(var s=0;s<i.length;s++){var l=i[s];if("data"===l)for(var u=n.filter((function(e){return e.startsWith("data.")})).map((function(e){return e.replace("data.","")})),c=0;c<r.length;c++){var d=r[c];if(-1===u.indexOf(d)&&e.options.data[d]!==t.options.data[d])return!1}else if(-1===n.indexOf(l)&&e.options[l]!==t.options[l])return!1}return!0}},{key:"inSync",get:function(){return this.props.inSync},set:function(e){this.props.inSync!==e&&(this.props.inSync=e,this.props.inSync&&(this.props.manualSlideIndex=null),this.callbacks.inSyncChanged(this.props.inSync))}},{key:"ready",get:function(){return this.props.ready}},{key:"currentSlideIndex",get:function(){return this.props.inSync||!Object(i.U)(this.props.manualSlideIndex)?this.props.timedSlideIndex:this.props.manualSlideIndex}},{key:"currentSlideTime",get:function(){return this.currentSlide.time}},{key:"currentSlideType",get:function(){return this.currentSlide.type}},{key:"currentSlide",get:function(){return this.slides[this.currentSlideIndex]}},{key:"slideCount",get:function(){return this.slides.length}},{key:"size",set:function(e){}}])&&ae(t.prototype,n),r&&ae(t,r),e}();function se(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var le=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.options=n,this.callbacks=i,this.props={muted:!1,loading:null,ratio:16/9},this.currentSlideElement=null,this.nextSlideElement=null}var t,n,a;return t=e,(n=[{key:"createSlidesServiceOptions",value:function(){return{offline:this.options.offline,live:this.options.live,presentationId:this.options.presentationId,cacheTimestamp:this.options.cacheTimestamp}}},{key:"createSlidesServiceCallbacks",value:function(){var e=this;return{ready:function(){e.callbacks.ready()},loadingChanged:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n&&(!e.currentSlideElement&&n!==e.nextSlideElement||e.currentSlideElement&&n!==e.currentSlideElement)||(e.loading=t)},currentSlideChanged:function(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.callbacks.currentSlideChanged(t,n,i),e.loadSlide(t,r),e.preloadSlides(t)},inSyncChanged:function(t){return e.callbacks.inSyncChanged(t)},preloadSlides:function(t){return e.preloadSlides(t)},slideLoaded:function(t,n){t===e.nextSlideElement&&e.slideLoaded(t,n)},updateVolume:function(t,n,i){t===e.currentSlideElement&&e.callbacks.videoMutedChanged("video"===e.currentSlideType,i)},videoLoadingChanged:function(t,n){t===e.currentSlideElement&&e.callbacks.videoLoadingChanged(n)},videoStateChanged:function(t,n){t===e.currentSlideElement&&e.callbacks.videoStateChanged(n)},videoEnded:function(t){e.inSync||t!==e.currentSlideElement||e.next()},videoPlaybackRateChanged:function(t,n){t===e.currentSlideElement&&e.callbacks.videoPlaybackRateChanged(n)},videoPlayFailed:function(t){t===e.currentSlideElement&&e.callbacks.videoPlayFailed()}}}},{key:"load",value:function(){var e,t=this.createSlidesServiceOptions(),n=this.createSlidesServiceCallbacks();this.options.editor?this.service=new oe(t,n):this.options.live?this.service=new B(t,n):this.service=new A(t,n),(e=this.service).load.apply(e,arguments)}},{key:"loadOffline",value:function(e){var t=this.createSlidesServiceOptions(),n=this.createSlidesServiceCallbacks();this.service=new A(t,n),this.service.loadOffline(e)}},{key:"dataForSlideIndex",value:function(e){return this.service.dataForSlideIndex(e)}},{key:"progressImageUrl",value:function(e){return this.service.progressImageUrl(e)}},{key:"timeForSlideIndex",value:function(e){return this.service.timeForSlideIndex(e)}},{key:"updateSlide",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.service.updateSlide(e,t,n)}},{key:"prev",value:function(){this.service.prev()}},{key:"next",value:function(){this.service.next()}},{key:"setInSync",value:function(){this.service.setInSync()}},{key:"loadSlide",value:function(e,t){var n=this.service.slides[e];n.loadedQuality(this.service.quality)||(this.loading=!0),n.load(this.service.quality);var r=n.element;this.nextSlideElement=r,Object(i.mb)(r,"slideIndex",e),"video"===n.type&&(n.setMuted(this.muted),n.autoPlay=t)}},{key:"slideLoaded",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t||(e.videoWidth||e.width)+(e.videoHeight||e.height)===0?this.slideLoadingError(e):this.setNextSlide()}},{key:"setNextSlide",value:function(){var e=this,t=this.currentSlideElement,n=t?Object(i.x)(t,"slideIndex"):null,r=Object(i.x)(this.nextSlideElement,"slideIndex"),a=!Object(i.U)(t)||n===r,o=this.service.slides[r];this.currentSlideElement=this.nextSlideElement,this.nextSlideElement=null,this.element.appendChild(this.currentSlideElement),this.loading=!1;var s=o.width,l=o.height;if(s>0&&l>0){var u=s/l;Math.abs(this.props.ratio-u)>.005&&this.setRatio(s,l)}a?(this.currentSlideElement.style.opacity=1,Object(i.U)(t)&&t!==this.currentSlideElement&&Object(i.k)((function(){return Object(i.eb)(t)}))):Object(i.q)(this.currentSlideElement,{easing:"easeInQuad",duration:100,complete:function(){setTimeout((function(){t!==e.currentSlideElement&&Object(i.eb)(t)}),500)}}),this.fireVideoChanged(r)}},{key:"fireVideoChanged",value:function(e){var t=this.service.slides[e];if(this.callbacks.videoMutedChanged("video"===t.type,this.muted),"video"===t.type){if(!this.inSync)return this.callbacks.videoChanged(null,!1),void t.pause();var n=!1;t.autoPlay?(t.autoPlay=!1,this.inSync&&(n=!0,t.play())):t.pause(),this.callbacks.videoChanged(t,n)}else this.callbacks.videoChanged(null,!1)}},{key:"slideLoadingError",value:function(e){e===this.nextSlideElement&&(this.nextSlideElement=null,this.loading=!1)}},{key:"isPreloading",value:function(e){return this.service.slides[e].loadingQuality(this.service.quality)}},{key:"isPreloaded",value:function(e){return this.service.slides[e].loadedQuality(this.service.quality)}},{key:"setRatio",value:function(e,t){var n=e/t;n!==this.props.ratio&&(this.props.ratio=n,this.callbacks.ratioChanged(this.props.ratio))}},{key:"preloadSlides",value:function(e){for(var t=Math.max(0,e-4),n=Math.min(this.service.slideCount-1,e+4),i=t;i<=n;++i)this.preloadSlide(i)}},{key:"preloadSlide",value:function(e){this.isPreloading(e)||this.isPreloaded(e)||(Object(r.a)("SLIDES","preloading",e),this.service.slides[e].load(this.service.quality))}},{key:"toggleMute",value:function(){this.muted=!this.muted}},{key:"loading",get:function(){return this.props.loading},set:function(e){e!==this.props.loading&&(this.props.loading=e,this.callbacks.loadingChanged(this.props.loading))}},{key:"ready",get:function(){return this.service&&this.service.ready}},{key:"currentSlideTime",get:function(){return this.service.currentSlideTime}},{key:"currentSlideIndex",get:function(){return this.service.currentSlideIndex}},{key:"currentSlideType",get:function(){return this.service.currentSlideType}},{key:"currentSlide",get:function(){return this.service.currentSlide}},{key:"inSync",get:function(){return this.service.inSync}},{key:"ratio",get:function(){return this.props.ratio}},{key:"size",set:function(e){this.service.size=e}},{key:"slideCount",get:function(){return this.service.slideCount}},{key:"muted",get:function(){return this.props.muted},set:function(e){this.props.muted=e,this.currentSlide&&"video"===this.currentSlideType&&this.currentSlide.setMuted(e)}},{key:"delay",set:function(e){this.service.delay=e}},{key:"streamStart",set:function(e){this.service.streamStart=e}},{key:"addLivestreamSlides",value:function(e,t){this.service.addLivestreamSlides(e,t)}}])&&se(t.prototype,n),a&&se(t,a),e}()},138:function(e,t,n){"use strict";n.d(t,"a",(function(){return X}));var i=n(0),r=n(1),a=n(93),o=n.n(a);function s(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c=function(e,t,n){return Object(i.U)(e[t])?e[t]:n},d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.options=n,this.props={loading:!1,ready:!1,canPlay:!1,state:"",volume:c(this.options.initial,"volume",100),muted:c(this.options.initial,"muted",!1),playbackRate:c(this.options.initial,"playbackRate",1),quality:c(this.options.initial,"quality",null),activeCcTrack:c(this.options.initial,"subtitlesTrack",0),subtitlesLanguage:c(this.options.initial,"subtitlesLanguage",null),liveFinished:c(this.options.initial,"liveFinished",!1),ratio:c(this.options.initial,"ratio",16/9),inLivePosition:!0,availablePlaybackRates:[1],ccTracks:[],ccLoaded:!1,ccModule:"",firstPlay:!0,livePositionOffset:0,videoElementId:this.element.getAttribute("id")}}var t,n,a;return t=e,(n=[{key:"load",value:function(e,t){var n=this;this.loading=!0,o.a.load((function(e){return n.doLoad(e,t)}))}},{key:"loadLive",value:function(e){var t=this;this.loading=!0,e.length>1&&console.warn("YOUTUBE","more than one servers not supported for YouTube live stream");var n=e[0];o.a.load((function(e){return t.doLoad(e,n.server_info.video_id)}))}},{key:"doLoad",value:function(e,t){var n=this;this.yt=new e.Player(this.props.videoElementId,{host:"https://www.youtube-nocookie.com",videoId:t,playerVars:{enablejsapi:1,origin:window.origin,autoplay:0,controls:this.options.originalVideoControls?1:0,disablekb:1,fs:0,iv_load_policy:3,modestbranding:1,playsinline:1,rel:0,start:0,cc_load_policy:1},events:{onReady:function(){return n.ytEventReady()},onApiChange:function(){return n.ytApiChange()},onStateChange:function(e){return n.ytStateChange(e.data)},onPlaybackQualityChange:function(e){return n.ytPlaybackQualityChange(e.data)},onPlaybackRateChange:function(e){return n.ytPlaybackRateChange(e.data)},onError:function(e){Object(r.a)("YOUTUBE","error",e),2===e.data?n.options.callbacks.showError("Invalid YouTube video ID: ".concat(t)):5===e.data?n.options.callbacks.showError("Unknown error in YouTube HTML5 player.<br>YouTube video ID: ".concat(t)):100===e.data?n.options.callbacks.showError("YouTube video does not exist or its privacy is set to Private.<br>YouTube video ID: ".concat(t)):101===e.data||150===e.data?n.options.callbacks.showError("YouTube video does not exist, it is private or its playback is disabled for embeds.<br>YouTube video ID: ".concat(t)):n.options.callbacks.showError("Unknown YouTube error: ".concat(e.data,"<br>YouTube video ID: ").concat(t))}}}),this.element=document.getElementById(this.props.videoElementId),this.element.setAttribute("allow","autoplay")}},{key:"play",value:function(){this.yt.playVideo()}},{key:"pause",value:function(){this.props.inLivePosition&&(this.props.livePositionOffset=0,this.props.inLivePosition=!1,this.options.callbacks.inLivePositionChanged(this.props.inLivePosition)),this.yt.pauseVideo()}},{key:"setMuted",value:function(e){e?this.yt.setVolume(0):this.yt.setVolume(this.props.volume),this.props.muted=e,this.options.callbacks.volumeChanged(this.props.volume,this.props.muted)}},{key:"seekToLivePosition",value:function(){var e,t=this.yt.getDuration();e=null===t?(this.currentTime+this.props.livePositionOffset)/1e3:t,Object(r.a)("YOUTUBE","seek to live",t,e),this.yt.seekTo(e,!0),this.props.livePositionOffset=0,this.props.inLivePosition=!0,this.options.callbacks.inLivePositionChanged(this.props.inLivePosition)}},{key:"setSubtitleTrack",value:function(e){this.props.activeCcTrack=e,this.yt.setOption(this.props.ccModule,"track",this.props.ccTracks[e].track),this.options.callbacks.activeSubtitlesChanged(this.props.activeCcTrack)}},{key:"volume",set:function(e){this.props.volume=e,this.yt.setVolume(this.props.volume),this.options.callbacks.volumeChanged(this.props.volume,this.props.muted)}},{key:"currentTime",get:function(){return 1e3*this.yt.getCurrentTime()},set:function(e){this.props.livePositionOffset=this.duration-e,this.yt.seekTo(e/1e3,!0),this.props.inLivePosition=!1,this.options.callbacks.inLivePositionChanged(this.props.inLivePosition)}},{key:"duration",get:function(){return this.options.live&&!this.props.liveFinished?this.props.inLivePosition?this.currentTime:this.currentTime+this.props.livePositionOffset:1e3*this.yt.getDuration()}},{key:"playbackRate",set:function(e){this.yt.setPlaybackRate(e),this.props.playbackRate=e,this.options.callbacks.playbackRateChanged(this.props.playbackRate)}},{key:"inLivePosition",get:function(){return this.props.inLivePosition}},{key:"ready",get:function(){return this.props.ready}},{key:"canPlay",get:function(){return this.props.canPlay}},{key:"loading",get:function(){return this.props.loading},set:function(e){e!==this.props.loading&&(this.props.loading=e,this.options.callbacks.loadingChanged(e))}},{key:"state",get:function(){return this.props.state},set:function(e){e!==this.props.state&&(this.props.state=e,this.options.callbacks.stateChanged(e))}},{key:"setQuality",value:function(e){Object(r.a)("YOUTUBE","request quality",e),this.yt.setPlaybackQuality(e),this.props.quality=e,this.options.callbacks.qualityChanged(e)}},{key:"ytEventReady",value:function(){var e=this;this.options.callbacks.inLivePositionChanged(this.props.inLivePosition),this.yt.loadModule("captions"),this.updateAvailablePlaybackRates(),this.updateQuality(),this.playbackRate=1,this.props.muted?this.yt.setVolume(0):this.yt.setVolume(this.props.volume),this.options.callbacks.volumeChanged(this.props.volume,this.props.muted),this.options.callbacks.firstPlayHackChanged(!0),this.ytStateChange(this.yt.getPlayerState()),Object(i.k)((function(){e.props.ready=!0,e.options.callbacks.ready(),Object(i.k)((function(){e.props.canPlay=!0,e.options.callbacks.canPlay()}))}))}},{key:"ytApiChange",value:function(){var e=this.yt.getOptions();if(e.indexOf("captions")>=0?this.props.ccModule="captions":e.indexOf("cc")>=0&&(this.props.ccModule="cc"),this.props.ccModule&&!this.props.ccLoaded){var t=this.yt.getOptions(this.props.ccModule);if(t&&!(t.indexOf("tracklist")<0)){this.props.ccLoaded=!0,this.props.ccTracks=[{name:"Off",track:{}}];var n=this.yt.getOption(this.props.ccModule,"tracklist"),i=0;if(0===n.length)this.props.ccTracks.push({name:"English (auto-generated)",track:{languageCode:"en"}});else for(var r=0;r<n.length;++r){var a=n[r],o=a.displayName,s=o.split("-").map((function(e){return e.trim()}));2===s.length&&(o=s[1]),this.props.ccTracks.push({name:o,track:a})}if(this.props.subtitlesLanguage)for(var l=0;l<this.props.ccTracks.length;++l)this.props.ccTracks[l].track.languageCode&&this.props.ccTracks[l].track.languageCode.split("-")[0]===this.props.subtitlesLanguage&&(i=l);this.options.callbacks.subtitlesChanged(this.props.ccTracks),this.setSubtitleTrack(i)}}}},{key:"ytStateChange",value:function(e){if(Object(r.a)("YOUTUBE","state changed",e),3!==e){switch(1===e&&this.props.firstPlay&&(this.props.firstPlay=!1,this.updateAvailableQualities()),e){case-1:break;case 1:this.state="playing";break;case 0:case 2:case 5:this.state="paused"}this.loading=!1,0===e&&this.options.callbacks.ended()}else this.loading=!0}},{key:"ytPlaybackQualityChange",value:function(e){Object(r.a)("YOUTUBE","quality changed",e),this.props.quality=e,this.options.callbacks.qualityChanged(e)}},{key:"ytPlaybackRateChange",value:function(e){Object(r.a)("YOUTUBE","playback rate changed",e)}},{key:"updateAvailablePlaybackRates",value:function(){var e=this.yt.getAvailablePlaybackRates().filter((function(e){return e>=1}));this.props.availablePlaybackRates=e,this.options.callbacks.availablePlaybackRatesChanged(this.props.availablePlaybackRates)}},{key:"updateAvailableQualities",value:function(){var e=this.yt.getAvailableQualityLevels();this.props.availableQualities=[];var t,n=s(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,r=this.ytQualityTitle(i);null!==r&&this.props.availableQualities.push([r,i])}}catch(a){n.e(a)}finally{n.f()}this.options.callbacks.availableQualitiesChanged(this.props.availableQualities)}},{key:"ytQualityTitle",value:function(e){switch(e){case"hd1080":return"1080p";case"hd720":return"720p";case"large":return"480p";case"medium":return"360p";case"small":return"240p";case"auto":return"Auto";default:return null}}},{key:"updateQuality",value:function(){this.yt.setPlaybackQuality("default")}},{key:"liveFinished",set:function(e){this.props.liveFinished=e,this.props.inLivePosition&&(this.props.livePositionOffset=0,this.props.inLivePosition=!1,this.options.callbacks.inLivePositionChanged(this.props.inLivePosition))}},{key:"size",set:function(e){this.element.style.width="".concat(e.w,"px"),this.element.style.height="".concat(e.h,"px")}}])&&u(t.prototype,n),a&&u(t,a),e}(),p=n(100),f=n.n(p);function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var m=function(e,t,n){return Object(i.U)(e[t])?e[t]:n},v=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.options=n,this.props={loading:!1,ready:!1,canPlay:!1,currentTime:0,duration:0,state:"none",volume:m(this.options.initial,"volume",100),muted:m(this.options.initial,"muted",!1),playbackRate:m(this.options.initial,"playbackRate",1),activeCcTrack:m(this.options.initial,"subtitlesTrack",0),subtitlesLanguage:m(this.options.initial,"subtitlesLanguage",null),ratio:m(this.options.initial,"ratio",16/9),availablePlaybackRates:[],ccTracks:[],finallyLoaded:!1},this.loadingTimeout=null}var t,n,a;return t=e,(n=[{key:"load",value:function(e,t){var n=this;this.loading=!0,f.a.load((function(e){return n.doLoad(e,t)}))}},{key:"doLoad",value:function(e,t){var n=this;this.loading=!0;var r=Object.entries({loop:!1,autoplay:!1,byline:!1,portrait:!1,title:!1,responsive:!0,speed:!0,dnt:!0,controls:!0}).map((function(e){return e.join("=")})).join("&"),a="https://player.vimeo.com/video/".concat(t,"?").concat(r),o=document.createElement("iframe");Object(i.N)(o,{position:"absolute",top:0,left:0,bottom:0,right:0}),o.setAttribute("allow","autoplay"),o.setAttribute("referrerpolicy","origin"),o.src=a,this.element.insertAdjacentElement("beforeend",o),this.vimeo=new e.Player(o),this.vimeo.on("error",(function(e){return n.onVimeoError(e)})),this.vimeo.on("play",(function(e){return n.onVimeoPlay(e)})),this.vimeo.on("pause",(function(e){return n.onVimeoPause(e)})),this.vimeo.on("ended",(function(e){return n.onVimeoEnded(e)})),this.vimeo.on("loaded",(function(e){return n.onVimeoLoaded(e)})),this.vimeo.on("seeked",(function(e){return n.onVimeoSeeked(e)})),this.vimeo.on("timeupdate",(function(e){return n.onVimeoTimeupdate(e)})),this.vimeo.on("texttrackchange",(function(e){return n.onVimeoTextTrackChange(e)})),this.vimeo.on("bufferend",(function(){n.loading=!1})),this.vimeo.on("bufferstart",(function(){n.loading=!0})),this.vimeo.on("playbackratechange",(function(e){n.props.playbackRate=e.playbackRate,n.options.callbacks.playbackRateChanged(n.props.playbackRate)})),this.vimeo.ready().catch((function(e){"PrivacyError"===e.name&&n.options.callbacks.showError(e.message),console.warn("VIMEO","ready error",e),n.clearLoadingTimeout()})),this.loadingTimeout=setTimeout((function(){return n.showLoadingTimeoutError()}),12e4),Promise.all([this.vimeo.getVideoWidth(),this.vimeo.getVideoHeight()]).then((function(e){var t=e[0]/e[1];n.options.callbacks.ratioChanged(t)}))}},{key:"showLoadingTimeoutError",value:function(){this.options.callbacks.showError("Loading timeout.")}},{key:"play",value:function(){var e=this;Object(r.a)("VIMEO","play request"),this.vimeo.play().catch((function(t){"PrivacyError"===t.name&&e.options.callbacks.showError(t.message),console.warn("VIMEO","play error",t),e.options.callbacks.playFailed()}))}},{key:"pause",value:function(){var e=this;Object(r.a)("VIMEO","pause request"),this.vimeo.pause().catch((function(t){"PrivacyError"===t.name&&e.options.callbacks.showError(t.message),console.warn("VIMEO","pause error",t)}))}},{key:"setMuted",value:function(e){e?this.vimeo.setVolume(0):this.vimeo.setVolume(this.props.volume/100),this.props.muted=e,this.options.callbacks.volumeChanged(this.props.volume,this.props.muted)}},{key:"seekToLivePosition",value:function(){console.warn("Not implemented!")}},{key:"setSubtitleTrack",value:function(e){var t=this.props.ccTracks[e];this.props.activeCcTrack=e,t.track?this.vimeo.enableTextTrack(t.track.language):this.vimeo.disableTextTrack(),this.options.callbacks.activeSubtitlesChanged(this.props.activeCcTrack)}},{key:"volume",set:function(e){this.props.volume=e,this.vimeo.setVolume(this.props.volume/100),this.options.callbacks.volumeChanged(this.props.volume,this.props.muted)}},{key:"currentTime",get:function(){return this.props.currentTime},set:function(e){var t=this;this.vimeo.setCurrentTime(e/1e3).then((function(e){t.props.currentTime=1e3*e}))}},{key:"duration",get:function(){return this.props.duration}},{key:"playbackRate",set:function(e){this.vimeo.setPlaybackRate(e),this.props.playbackRate=e,this.options.callbacks.playbackRateChanged(this.props.playbackRate)}},{key:"inLivePosition",get:function(){return!1}},{key:"ready",get:function(){return this.props.ready}},{key:"canPlay",get:function(){return this.props.canPlay}},{key:"loading",get:function(){return this.props.loading},set:function(e){e!==this.props.loading&&(this.props.loading=e,this.options.callbacks.loadingChanged(e))}},{key:"state",get:function(){return this.props.state},set:function(e){e!==this.props.state&&(this.props.state=e,this.options.callbacks.stateChanged(e))}},{key:"updateAvailablePlaybackRates",value:function(){var e=this;this.vimeo.setPlaybackRate(1).then((function(){e.props.availablePlaybackRates=[.5,1,1.25,1.5,2],e.options.callbacks.availablePlaybackRatesChanged(e.props.availablePlaybackRates),1!==e.props.playbackRate?e.setPlaybackRate=e.props.playbackRate:e.options.callbacks.playbackRateChanged(e.props.playbackRate)})).catch((function(){e.options.callbacks.playbackRateChanged(1)}))}},{key:"onVimeoError",value:function(e){Object(r.a)("VIMEO","error",e),"PrivacyError"===e.name&&this.options.callbacks.showError(e.message),this.loadingTimeout&&(clearTimeout(this.loadingTimeout),this.loadingTimeout=null)}},{key:"onVimeoPlay",value:function(e){Object(r.a)("VIMEO","play",e),this.loading=!1,this.state="playing"}},{key:"onVimeoPause",value:function(e){Object(r.a)("VIMEO","pause",e),this.loading=!1,this.state="paused"}},{key:"onVimeoEnded",value:function(e){Object(r.a)("VIMEO","ended",e),this.loading=!1,this.state="paused",this.options.callbacks.ended()}},{key:"onVimeoLoaded",value:function(e){var t=this;Object(r.a)("VIMEO","loaded",e),this.clearLoadingTimeout(),this.vimeo.getTextTracks().then((function(e){var n=0;t.props.ccTracks.push({name:"Off",track:null});for(var i=0;i<e.length;++i){var r=e[i];t.props.subtitlesLanguage&&r.language.split("-")[0]===t.props.subtitlesLanguage&&(n=i+1),t.props.ccTracks.push({name:r.label,track:r})}t.options.callbacks.subtitlesChanged(t.props.ccTracks),t.setSubtitleTrack(n)})),this.vimeo.getDuration().then((function(e){t.props.duration=Math.floor(1e3*e),t.finallyLoaded()}))}},{key:"onVimeoSeeked",value:function(e){Object(r.a)("VIMEO","seeked",e),this.loading=!1}},{key:"onVimeoTimeupdate",value:function(e){this.props.currentTime=Math.floor(1e3*e.seconds),this.props.duration=Math.floor(1e3*e.duration)}},{key:"onVimeoTextTrackChange",value:function(e){Object(r.a)("VIMEO","text track change",e)}},{key:"clearLoadingTimeout",value:function(){this.loadingTimeout&&(clearTimeout(this.loadingTimeout),this.loadingTimeout=null)}},{key:"finallyLoaded",value:function(){var e=this;this.props.finallyLoaded||(this.props.finallyLoaded=!0,this.updateAvailablePlaybackRates(),this.props.muted?this.vimeo.setVolume(0):this.vimeo.setVolume(this.props.volume/100),this.options.callbacks.volumeChanged(this.props.volume,this.props.muted),this.options.callbacks.firstPlayHackChanged(!0),this.loading=!1,this.state="paused",Object(i.k)((function(){e.props.ready=!0,e.options.callbacks.ready(),Object(i.k)((function(){e.props.canPlay=!0,e.options.callbacks.canPlay()}))})))}},{key:"size",set:function(e){this.element.style.width="".concat(e.w,"px"),this.element.style.height="".concat(e.h,"px")}}])&&h(t.prototype,n),a&&h(t,a),e}(),y=n(122),b=n.n(y);function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var k=function(e,t,n){return Object(i.U)(e[t])?e[t]:n},w=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.options=n,this.props={loading:!1,ready:!1,canPlay:!1,currentTime:0,duration:0,state:"",volume:k(this.options.initial,"volume",100),muted:k(this.options.initial,"muted",!1),playbackRate:k(this.options.initial,"playbackRate",1),ratio:k(this.options.initial,"ratio",16/9),availablePlaybackRates:[]}}var t,n,a;return t=e,(n=[{key:"load",value:function(e,t){var n=this;this.loading=!0,b.a.load((function(e){return n.doLoad(e,t)}))}},{key:"doLoad",value:function(e,t){var n=this;this.wistia=e.embed(t,{container:this.element.getAttribute("id"),autoPlay:!1,controlsVisibleOnLoad:!1,doNotTrack:!0,endVideoBehavior:"default",fullscreenButton:!1,googleAnalytics:!1,muted:!1,playbackRateControl:!1,playbar:!1,playButton:!1,preload:"metadata",qualityControl:!1,qualityMax:3840,qualityMin:224,seo:!1,settingsControl:!1,silentAutoPlay:!1,smallPlayButton:!1,time:0,videoFoam:!0,volumeControl:!1,wmode:"transparent"}),this.wistia.hasData((function(e){return n.processWistiaData(e)})),this.wistia.bind("play",(function(e){return n.onWistiaPlay(e)})),this.wistia.bind("pause",(function(e){return n.onWistiaPause(e)})),this.wistia.bind("ended",(function(e){return n.onWistiaEnded(e)})),this.wistia.bind("timechange",(function(e){return n.onWistiaTimechange(e)}))}},{key:"play",value:function(){this.wistia.play()}},{key:"pause",value:function(){this.wistia.pause()}},{key:"setMuted",value:function(e){e?this.wistia.volume(0):this.wistia.volume(this.props.volume/100),this.props.muted=e,this.options.callbacks.volumeChanged(this.props.volume,this.props.muted)}},{key:"seekToLivePosition",value:function(){console.warn("Not implemented!")}},{key:"setSubtitleTrack",value:function(e){console.warn("Not implemented!")}},{key:"volume",set:function(e){this.props.volume=e,this.wistia.volume(this.props.volume/100),this.options.callbacks.volumeChanged(this.props.volume,this.props.muted)}},{key:"currentTime",get:function(){return this.props.currentTime},set:function(e){this.props.currentTime=e,this.wistia.time(e/1e3)}},{key:"duration",get:function(){return this.props.duration}},{key:"playbackRate",set:function(e){this.wistia.playbackRate(e),this.props.playbackRate=e,this.options.callbacks.playbackRateChanged(this.props.playbackRate)}},{key:"inLivePosition",get:function(){return!1}},{key:"ready",get:function(){return this.props.ready}},{key:"canPlay",get:function(){return this.props.canPlay}},{key:"loading",get:function(){return this.props.loading},set:function(e){e!==this.props.loading&&(this.props.loading=e,this.options.callbacks.loadingChanged(e))}},{key:"state",get:function(){return this.props.state},set:function(e){e!==this.props.state&&(this.props.state=e,this.options.callbacks.stateChanged(e))}},{key:"updateAvailablePlaybackRates",value:function(){this.props.availablePlaybackRates=[1,1.25,1.5,1.75,2],this.options.callbacks.availablePlaybackRatesChanged(this.props.availablePlaybackRates)}},{key:"processWistiaData",value:function(e){var t=this;Object(r.a)("WISTIA","data",e),this.updateAvailablePlaybackRates(),this.playbackRate=1,this.props.duration=Math.floor(1e3*this.wistia.duration()),this.props.muted?this.wistia.volume(0):this.wistia.volume(this.props.volume),this.options.callbacks.volumeChanged(this.props.volume,this.props.muted),this.loading=!1,this.state="paused",Object(i.k)((function(){t.props.ready=!0,t.options.callbacks.ready(),Object(i.k)((function(){t.props.canPlay=!0,t.options.callbacks.canPlay()}))}))}},{key:"onWistiaPlay",value:function(e){e&&(this.options.autoPlay||"non-user-event"!==e.source?(Object(r.a)("WISTIA","play",e),this.loading=!1,this.state="playing"):Object(r.a)("WISTIA","skip play",e))}},{key:"onWistiaPause",value:function(e){e&&(this.options.autoPlay||"non-user-event"!==e.source?(Object(r.a)("WISTIA","pause",e),this.loading=!1,this.state="paused"):Object(r.a)("WISTIA","skip pause",e))}},{key:"onWistiaEnded",value:function(e){Object(r.a)("WISTIA","ended",e),this.loading=!1,this.state="paused",this.options.callbacks.ended()}},{key:"onWistiaTimechange",value:function(e){Object(r.a)("WISTIA","timechange",e),this.props.duration=Math.floor(1e3*this.wistia.duration()),this.props.currentTime=Math.floor(1e3*e)}}])&&g(t.prototype,n),a&&g(t,a),e}(),_=n(123),S=n.n(_),T=n(62),x=n.n(T);function O(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function P(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var C=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.options=n,this.callbacks=i,this.props={sources:[],playbackServer:null,playbackUrl:null,playbackQuality:null,waitingTimeout:null,waitingTimeoutWhileSeeking:!1,waitingTimeoutStart:0,waitingCounter:[],reloadFromNextServerCount:0,lastReloadFromNextServerAt:0,forceReloadFromNextServer:!1,reloadWithLowerQualityCount:0,lastReloadWithLowerQualityAt:0,endedTimer:null},this.options.usingHlsJs||console.warn("HLS:SS","using native HLS, we won't reload video on loading timeouts")}var t,n,a;return t=e,(n=[{key:"playbackUrlForServerAndQuality",value:function(e,t){var n,i=e.server_info.stream_key;n="adaptive"===t?"ngrp:".concat(i,"_all/playlist.m3u8"):"smil"===t?"smil:".concat(i,".smil/playlist.m3u8"):"".concat(i,"_").concat(t,"/playlist.m3u8"),e.server_info.dvr&&(n+="?DVR");var r=e.server_info.wowza_application?e.server_info.wowza_application:"live-http";return"https://".concat(e.server_info.cdn_domain_name,"/").concat(r,"/").concat(n)}},{key:"sourcesFromServers",value:function(e){var t,n=[],r=O(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,o={name:a.server_info.human_name,quality:a.server_info.quality,seekable:a.server_info.dvr,urls:{}},s=a.server_info.available_qualities;Object(i.U)(s)&&0!==s.length||(s=[a.server_info.quality]);var l,u=O(s);try{for(u.s();!(l=u.n()).done;){var c=l.value;o.urls[c]=this.playbackUrlForServerAndQuality(a,c)}}catch(d){u.e(d)}finally{u.f()}n.push(o)}}catch(d){r.e(d)}finally{r.f()}return n}},{key:"updateSources",value:function(e){this.props.sources=this.sourcesFromServers(e),Object(r.a)("HLS:SS","updated sources",this.props.sources);var t=this.findPlaybackUrlServerIndex(this.props.playbackUrl);Object(i.U)(t)?this.props.playbackServer=t:(this.props.playbackServer=0,(!Object(i.U)(this.props.playbackQuality)||this.props.sources.length>0&&Object.keys(this.props.sources[0].urls).indexOf(this.props.playbackQuality)<0)&&(this.options.defaultStreamQuality&&this.props.sources.length>0&&Object.keys(this.props.sources[0].urls).indexOf(this.options.defaultStreamQuality)>=0?this.props.playbackQuality=this.options.defaultStreamQuality:this.props.sources.length>0?this.props.playbackQuality=this.props.sources[0].quality:this.props.playbackQuality="720p"),this.updatePlaybackUrl()),this.callbacks.availableServersChanged(),this.callbacks.availableQualitiesChanged()}},{key:"findPlaybackUrlServerIndex",value:function(e){if(!Object(i.U)(e))return null;for(var t=0;t<this.props.sources.length;++t)for(var n=0,r=Object.keys(this.props.sources[t].urls);n<r.length;n++){var a=r[n];if(this.props.sources[t].urls[a]===e)return t}return null}},{key:"endedTimerRunning",get:function(){return null!==this.props.endedTimer}},{key:"stopEndedTimer",value:function(){clearTimeout(this.props.endedTimer),this.props.endedTimer=null}},{key:"onEnded",value:function(){var e=this;if(!this.props.endedTimer){if(this.props.previousEndedAt){var t=Date.now()-this.props.previousEndedAt;if(t<1e4)return void(this.props.endedTimer=setTimeout((function(){e.props.endedTimer=null,e.props.previousEndedAt=Date.now(),e.reloadVideoFromNextServer(!0)}),1e4-t))}this.reloadVideoFromNextServer(!0),this.props.previousEndedAt=Date.now()}}},{key:"onNetworkError",value:function(){var e=this,t=this.canPlay?100:2e3;setTimeout((function(){return e.reloadVideoFromNextServer()}),t)}},{key:"startWaitingTimeout",value:function(e){var t,n=this;this.props.waitingTimeout?console.warn("HLS:SS","waiting timeout already running"):(t=Object(i.U)(e)?e:this.options.usingHlsJs?this.seeking?3e4:"480p"===this.props.playbackQuality||"360p"===this.props.playbackQuality||"240p"===this.props.playbackQuality?3e3:2e3:3e4,Object(r.a)("HLS:SS","start waiting timeout",this.seeking,this.props.playbackQuality,t),this.props.waitingTimeoutWhileSeeking=this.seeking,this.props.waitingTimeoutStart=Date.now(),this.props.waitingTimeout=setTimeout((function(){return n.waitingTimeout()}),t))}},{key:"stopWaitingTimeout",value:function(){if(this.props.waitingTimeout){var e=Date.now()-this.props.waitingTimeoutStart;Object(r.a)("HLS:SS","stopping waiting timeout",e),clearTimeout(this.props.waitingTimeout),this.props.waitingTimeout=null,this.props.waitingTimeoutWhileSeeking||this.addToWaitingCounter(this.props.waitingTimeoutStart,e)}}},{key:"waitingTimeout",value:function(){console.warn("HLS:SS","waiting timeout, reloading"),this.reloadDueToWaitingTimeout()}},{key:"addToWaitingCounter",value:function(e,t){if(this.props.waitingTimeoutStart>0&&(Object(i.U)(e)||(e=this.props.waitingTimeoutStart),Object(i.U)(t)||(t=Date.now()-e)),!(t<200)){var n,a=Date.now()-3e4;this.props.waitingCounter=this.props.waitingCounter.filter((function(e){return e>=a})),this.props.waitingCounter.push(e),Object(r.a)("HLS:SS","increasing waiting counter",e,t,this.props.waitingCounter.length),n="1080p"===this.props.playbackQuality||"720p"===this.props.playbackQuality?5:"480p"===this.props.playbackQuality?8:12,this.props.waitingCounter.length>=n&&(console.warn("HLS:SS","waiting counter too high",this.props.waitingCounter.length,n),this.reloadDueToWaitingTimeout())}}},{key:"reloadDueToWaitingTimeout",value:function(){Object(r.a)("HLS:SS","will reload"),clearTimeout(this.props.waitingTimeout),this.props.waitingTimeout=null,this.reloadVideoWithLowerQuality()}},{key:"resetWaitingSafeguards",value:function(){Object(r.a)("HLS:SS","resetting waiting safeguards"),this.props.waitingTimeout&&(clearTimeout(this.props.waitingTimeout),this.props.waitingTimeout=null),this.props.waitingTimeoutStart=0,this.props.waitingTimeoutWhileSeeking=!1,this.props.waitingCounter=[]}},{key:"reloadVideoFromNextServer",value:function(e,t){null===this.props.playbackServer?(this.props.playbackServer=0,Object(r.a)("HLS:SS","initial load from server",this.props.playbackServer,this.props.playbackQuality)):(this.props.playbackServer=(this.props.playbackServer+1)%this.props.sources.length,this.props.reloadFromNextServerCount+=1,this.props.lastReloadFromNextServerAt=Date.now(),Object(r.a)("HLS:SS","reloading from next server",this.props.reloadFromNextServerCount,this.props.playbackServer,this.props.playbackQuality)),this.updatePlaybackUrl(!0,e,t)}},{key:"isQualityAvailable",value:function(e){return!!(this.props.sources.length>0&&this.props.sources[this.props.playbackServer]&&this.props.sources[this.props.playbackServer].urls)&&!!this.props.sources[this.props.playbackServer].urls[e]}},{key:"availableLowerQualityFor",value:function(e){if(null===e){if(this.isQualityAvailable("1080p"))return"1080p";if(this.isQualityAvailable("720p"))return"720p";if(this.isQualityAvailable("480p"))return"480p";if(this.isQualityAvailable("360p"))return"360p";if(this.isQualityAvailable("240p"))return"240p"}return"1080p"===e?this.isQualityAvailable("720p")?"720p":this.isQualityAvailable("480p")?"480p":this.isQualityAvailable("360p")?"360p":this.isQualityAvailable("240p")?"240p":e:"720p"===e?this.isQualityAvailable("480p")?"480p":this.isQualityAvailable("360p")?"360p":this.isQualityAvailable("240p")?"240p":e:"480p"===e?this.isQualityAvailable("360p")?"360p":this.isQualityAvailable("240p")?"240p":e:"360p"===e?this.isQualityAvailable("240p")?"240p":e:e||"720p"}},{key:"reloadVideoWithLowerQuality",value:function(){var e=this.availableLowerQualityFor(this.props.playbackQuality);if(this.props.playbackQuality!==e)this.props.playbackQuality=e,this.props.reloadWithLowerQualityCount+=1,this.props.lastReloadWithLowerQualityAt=Date.now(),Object(r.a)("HLS:SS","reloading with lower quality",this.props.reloadWithLowerQualityCount,this.props.playbackServer,this.props.playbackQuality),this.updatePlaybackUrl();else if(this.props.sources.length>1){var t=Date.now()-this.props.lastReloadFromNextServerAt;if(this.props.forceReloadFromNextServer||t>=6e4)this.props.forceReloadFromNextServer=!1,Object(r.a)("HLS:SS","no lower quality, loading from next server"),this.reloadVideoFromNextServer();else{this.props.forceReloadFromNextServer=!0;var n=6e4-t;Object(r.a)("HLS:SS","no lower quality, waiting longer for load from next server",n),this.startWaitingTimeout(8e3),this.addToWaitingCounter()}}else Object(r.a)("HLS:SS","no lower quality and no other server, waiting"),this.startWaitingTimeout(3e4),this.addToWaitingCounter()}},{key:"updatePlaybackUrl",value:function(e,t,n){if(0!==this.props.sources.length){var i=this.props.sources[this.props.playbackServer].seekable,r=this.props.sources[this.props.playbackServer].urls[this.props.playbackQuality];(e||this.props.playbackUrl!==r)&&(this.resetWaitingSafeguards(),this.props.playbackUrl=r,this.callbacks.changePlaybackUrl(this.props.playbackUrl,t,n,i))}}},{key:"quality",get:function(){return this.props.playbackQuality},set:function(e){this.props.playbackQuality=e,this.updatePlaybackUrl()}},{key:"server",set:function(e){this.props.playbackServer=e,this.updatePlaybackUrl()}},{key:"canPlay",get:function(){return this.player.canPlay}},{key:"seeking",get:function(){return this.player.seeking}},{key:"availableQualities",get:function(){return this.props.sources.length>0&&this.props.sources[this.props.playbackServer]&&this.props.sources[this.props.playbackServer].urls?Object.keys(this.props.sources[this.props.playbackServer].urls).sort((function(e,t){return parseInt(e,10)<parseInt(t,10)?1:parseInt(e,10)>parseInt(t,10)?-1:0})):["720p","360p"]}},{key:"availableServers",get:function(){for(var e=[],t=0;t<this.props.sources.length;++t){var n=this.props.sources[t].name;e.push([n,t])}return e}},{key:"playbackServer",get:function(){return this.props.playbackServer}}])&&P(t.prototype,n),a&&P(t,a),e}();function A(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function j(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var L=function(e,t,n){return Object(i.U)(e[t])?e[t]:n},M=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.options=n,this.props={loadingInProgress:!1,loaded:!1,pendingServers:[],loading:!1,ready:!1,canPlay:!1,currentTime:0,duration:0,state:"",volume:L(this.options.initial,"volume",100),muted:L(this.options.initial,"muted",!1),playbackRate:L(this.options.initial,"playbackRate",1),quality:L(this.options.initial,"quality",null),subtitlesEnabled:L(this.options.initial,"subtitlesEnabled",!0),subtitlesTrack:L(this.options.initial,"subtitlesTrack",null),liveSubtitlesDelayMs:L(this.options.initial,"liveSubtitlesDelayMs",0),liveFinished:L(this.options.initial,"liveFinished",!1),ratio:L(this.options.initial,"ratio",16/9),inLivePosition:!0,seekToLiveBeforePlay:!0,streamStartSet:!1,streamStart:0,timeSinceStreamStartSet:!1,timeSinceStreamStart:0,availablePlaybackRates:[],availableQualities:[],availableServers:[],currentTimeBeforeUrlUpdate:0,playingBeforeUrlUpdate:!1,useHlsJs:!1,seeking:!1,started:null,ended:!1,injectedSubtitleTimes:[],subtitleTextTrackMode:"showing",firstLoadedData:!0,startTime:0,seekable:!0},this.props.seekToLiveBeforePlay=!this.props.liveFinished}var t,n,a;return t=e,(n=[{key:"loadLive",value:function(e){var t=this;this.loading=!0,this.props.loadingInProgress=!0,this.props.pendingServers=e,S.a.load((function(e){return t.doLoadLive(e)}),"latest")}},{key:"createHls",value:function(){this.hls=new Hls({fragLoadingMaxRetry:13371337,fragLoadingRetryDelay:100,fragLoadingMaxRetryTimeout:1e3,levelLoadingMaxRetry:13371337,levelLoadingRetryDelay:100,levelLoadingMaxRetryTimeout:1e3,manifestLoadingMaxRetry:13371337,manifestLoadingRetryDelay:100,manifestLoadingMaxRetryTimeout:1e3,startFragPrefetch:!0,liveBackBufferLength:180,liveSyncDurationCount:3,debug:!1}),this.addHlsJsListeners()}},{key:"doLoadLive",value:function(e){var t=this,n=new Blob([""],{type:"text/plain"}),a=URL.createObjectURL(n);this.video=document.createElement("video"),this.video.setAttribute("playsinline","playsinline"),this.video.setAttribute("webkit-playsinline","webkit-playsinline"),this.video.playsinline=!0,this.video["webkit-playsinline"]=!0,this.video.innerHTML='<track kind="captions" src="'.concat(a,'" srclang="en" default>'),Object(i.N)(this.video,{position:"absolute",left:0,top:0,width:"100%",height:"100%"}),this.element.insertAdjacentElement("beforeend",this.video);var o=navigator.userAgent.toLowerCase(),s=!1;-1!==o.indexOf("safari")&&-1===o.indexOf("chrome")&&(s=!0);var l=this.video.canPlayType("application/vnd.apple.mpegurl"),u=l&&s;if(u)Object(r.a)("HLS","force-using native HLS playback.",o,s,l,u),this.props.useHlsJs=!1;else if(window.Hls.isSupported())Object(r.a)("HLS","Using HLS.js.",o,s,l,u),this.props.useHlsJs=!0;else{if(!this.video.canPlayType("application/vnd.apple.mpegurl"))return this.options.callbacks.showError("Livestream playback is not supported in your browser.<br>Please try Firefox or Google Chrome."),void console.warn("HLS:","not supported");Object(r.a)("HLS","HLS.js is not supported, using native HLS playback.",o,s,l,u),this.props.useHlsJs=!1}this.addVideoListeners(),this.sourceSwitcher=new C(this,{usingHlsJs:this.props.useHlsJs,defaultStreamQuality:this.options.defaultStreamQuality},{changePlaybackUrl:function(e,n,i,r){return t.changePlaybackUrl(e,n,i,r)},availableQualitiesChanged:function(){return t.updateAvailableQualities()},availableServersChanged:function(){return t.updateAvailableServers()}}),this.props.loaded=!0,0===this.props.pendingServers.length?this.updateStarted(!1):this.sourceSwitcher.updateSources(this.props.pendingServers)}},{key:"updateServers",value:function(e){this.props.loaded?this.sourceSwitcher.updateSources(e):this.props.loadingInProgress?this.props.pendingServers=e:this.loadLive(e)}},{key:"addVideoListeners",value:function(){var e=this;Object(i.a)(this.video,"error",(function(t){var n=t;t.path&&t.path[0]&&(n=t.path[0].error),t.originalTarget&&(n=n.originalTarget.error),Object(r.a)("HLS",t.type,t,n),e.props.useHlsJs||3===e.video.networkState&&(e.updateStarted(!1),e.sourceSwitcher.onNetworkError())})),Object(i.a)(this.video,"load",(function(e){return Object(r.a)("HLS",e.type,e)})),Object(i.a)(this.video,"loadend",(function(e){return Object(r.a)("HLS",e.type,e)})),Object(i.a)(this.video,"loadstart",(function(e){return Object(r.a)("HLS",e.type,e)})),Object(i.a)(this.video,"offline",(function(e){return Object(r.a)("HLS",e.type,e)})),Object(i.a)(this.video,"online",(function(e){return Object(r.a)("HLS",e.type,e)})),Object(i.a)(this.video,"readystatechange",(function(e){return Object(r.a)("HLS",e.type,e)})),Object(i.a)(this.video,"stalled",(function(e){return Object(r.a)("HLS",e.type,e)})),Object(i.a)(this.video,"suspend",(function(e){return Object(r.a)("HLS",e.type,e)})),Object(i.a)(this.video,"stalled",(function(e){return Object(r.a)("HLS",e.type,e)})),Object(i.a)(this.video,"emptied",(function(e){return Object(r.a)("HLS",e.type,e)})),Object(i.a)(this.video,"ended",(function(t){return e.onEnded(t)})),Object(i.a)(this.video,"loadedmetadata",(function(t){return e.onLoadedMetadata(t)})),Object(i.a)(this.video,"loadeddata",(function(t){return e.onLoadedData(t)})),Object(i.a)(this.video,"canplay",(function(t){return e.onCanPlay(t)})),Object(i.a)(this.video,"play",(function(t){return e.onPlay(t)})),Object(i.a)(this.video,"pause",(function(t){return e.onPause(t)})),Object(i.a)(this.video,"playing",(function(t){return e.onPlaying(t)})),Object(i.a)(this.video,"waiting",(function(t){return e.onWaiting(t)})),Object(i.a)(this.video,"seeking",(function(t){return e.onSeeking(t)})),Object(i.a)(this.video,"seeked",(function(t){return e.onSeeked(t)})),Object(i.a)(this.video,"timeupdate",(function(t){return e.onTimeUpdate(t)})),Object(i.a)(this.video.textTracks,"addtrack",(function(t){return e.onTextTracksAdd(t)}))}},{key:"addHlsJsListeners",value:function(){var e=this;this.hls.on(Hls.Events.ERROR,(function(t,n){if(Object(r.a)("HLS.JS",t,n),n.fatal)switch(n.type){case Hls.ErrorTypes.NETWORK_ERROR:e.updateStarted(!1),e.sourceSwitcher.onNetworkError();break;default:console.warn("HLS.JS","fatal error",t,n)}})),this.hls.on(Hls.Events.FRAG_PARSING_METADATA,(function(t,n){var i,r=A(n.samples);try{for(r.s();!(i=r.n()).done;){var a,o=i.value,s=x.a.getID3Data(o.data,0),l=A(x.a.getID3Frames(s));try{for(l.s();!(a=l.n()).done;){var u=a.value;if("SL_SUBT"===u.info&&!e.isSubtitleInjected(o.pts)){var c=x.a._utf8ArrayToStr(new Uint8Array(u.data));e.injectSubtitle(o.pts,c)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){r.e(d)}finally{r.f()}}))}},{key:"isSubtitleInjected",value:function(e){return this.props.injectedSubtitleTimes.indexOf(e)>=0}},{key:"injectSubtitle",value:function(e,t,n){this.props.injectedSubtitleTimes.push(e);var i,a=e;n||(a+=(this.props.liveSubtitlesDelayMs||0)/1e3);var o=(i=this.props.previousSubtitleEndTime&&Math.abs(a-this.props.previousSubtitleEndTime)<1?Math.max(a,this.props.previousSubtitleEndTime):a)+2;Object(r.a)("SUBS",this.currentTime/1e3,e,i,i-e,this.props.liveSubtitlesDelayMs,t),this.props.previousSubtitleEndTime=o;var s=new VTTCue(i,o,t);this.subtitleTextTrack.addCue(s)}},{key:"play",value:function(){var e=this;Object(r.a)("HLS","play request",this.props.seekToLiveBeforePlay);var t=this.props.seekToLiveBeforePlay;this.props.seekable&&!t||(this.props.seekToLiveBeforePlay=!1,this.seekToLivePosition());var n=this.video.play();Object(i.U)(n)&&n.catch((function(n){console.warn("HLS","play failed",n),e.options.callbacks.playFailed(),e.props.seekToLiveBeforePlay=t}))}},{key:"pause",value:function(){Object(r.a)("HLS","pause request"),this.video.pause(),this.sourceSwitcher.endedTimerRunning&&(this.sourceSwitcher.stopEndedTimer(),this.loading=!1,this.state="paused",this.props.seekToLiveBeforePlay=!0)}},{key:"setMuted",value:function(e){this.video.muted=e,this.props.muted=e,this.options.callbacks.volumeChanged(this.props.volume,this.props.muted)}},{key:"seekToLivePosition",value:function(){Object(r.a)("HLS","seek to live position",this.liveSyncPosition),this.currentTime=this.liveSyncPosition,this.props.inLivePosition=!0,this.options.callbacks.inLivePositionChanged(this.props.inLivePosition)}},{key:"setQuality",value:function(e){this.sourceSwitcher.quality=e}},{key:"playbackServer",set:function(e){this.sourceSwitcher.server=e}},{key:"volume",set:function(e){this.props.volume=e,this.video.muted=!1,this.video.volume=this.props.volume/100,this.options.callbacks.volumeChanged(this.props.volume,this.props.muted)}},{key:"currentTime",get:function(){return this.props.currentTime},set:function(e){this.props.seekToLiveBeforePlay=!1,this.props.previousSubtitleEndTime=null,this.props.currentTime=e,this.video.currentTime=e/1e3,this.updateInLivePosition()}},{key:"currentStreamTime",get:function(){return this.props.timeSinceStreamStartSet?this.props.timeSinceStreamStart:this.currentTime}},{key:"duration",get:function(){return this.props.duration}},{key:"playbackRate",set:function(e){this.video.playbackRate=e,this.props.playbackRate=e,this.options.callbacks.playbackRateChanged(this.props.playbackRate)}},{key:"inLivePosition",get:function(){return this.props.inLivePosition}},{key:"ready",get:function(){return this.props.ready}},{key:"canPlay",get:function(){return this.props.canPlay}},{key:"loading",get:function(){return this.props.loading},set:function(e){e!==this.props.loading&&(this.props.loading=e,this.options.callbacks.loadingChanged(e))}},{key:"state",get:function(){return this.props.state},set:function(e){e!==this.props.state&&(this.props.state=e,this.options.callbacks.stateChanged(e))}},{key:"changePlaybackUrl",value:function(e,t,n,a){this.props.playbackUrl=e,Object(r.a)("HLS","loading video from",this.props.playbackUrl),Object(i.U)(t)?this.props.playingBeforeUrlUpdate=t:"playing"===this.props.state&&(this.props.playingBeforeUrlUpdate=!0),this.props.currentTimeBeforeUrlUpdate="live"===n?"live":this.duration-this.currentTime,this.options.callbacks.qualityChanged(this.sourceSwitcher.quality),this.options.callbacks.playbackServerChanged(this.sourceSwitcher.playbackServer),this.props.seekable=a,this.options.callbacks.seekableChanged(a),this.loading=!0,this.loadPlaybackUrl()}},{key:"loadPlaybackUrl",value:function(){var e=this.subtitleTextTrack.mode;this.subtitleTextTrack.mode="hidden";var t,n=A(this.subtitleTextTrack.cues);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.subtitleTextTrack.removeCue(i)}}catch(r){n.e(r)}finally{n.f()}this.props.injectedSubtitleTimes=[],this.props.useHlsJs?(this.hls&&(this.hls.detachMedia(),this.hls.destroy()),this.createHls(),this.hls.loadSource(this.props.playbackUrl),this.hls.attachMedia(this.video)):this.video.src=this.props.playbackUrl,this.subtitleTextTrack.mode=e}},{key:"updateAvailablePlaybackRates",value:function(){this.props.availablePlaybackRates=[1],this.options.callbacks.availablePlaybackRatesChanged(this.props.availablePlaybackRates)}},{key:"updateAvailableQualities",value:function(){this.props.availableQualities=this.sourceSwitcher.availableQualities,this.options.callbacks.availableQualitiesChanged(this.props.availableQualities)}},{key:"updateAvailableServers",value:function(){this.props.availableServers=this.sourceSwitcher.availableServers,this.options.callbacks.availableServersChanged(this.props.availableServers)}},{key:"onLoadedMetadata",value:function(e){var t=this;Object(r.a)("HLS",e.type,e),this.updateStarted(!0),this.props.duration=this.calcDuration(),this.props.canPlay?this.props.useHlsJs||this.onCanPlay(e):Object(i.k)((function(){t.props.ready=!0,t.options.callbacks.ready(),t.onCanPlay(e)}))}},{key:"onLoadedData",value:function(e){Object(r.a)("HLS",e.type,e),this.props.firstLoadedData&&(this.props.firstLoadedData=!1,!this.props.useHlsJs&&this.props.liveFinished&&(this.currentTime=this.props.startTime)),this.props.useHlsJs||(this.onTimeUpdate(),this.options.callbacks.timesChanged(this.currentTime,this.duration))}},{key:"onCanPlay",value:function(e){var t=this;if(Object(r.a)("HLS",e.type,e),this.updateStarted(!0),this.sourceSwitcher.stopWaitingTimeout(),this.props.canPlay)if(this.props.playingBeforeUrlUpdate||this.props.currentTimeBeforeUrlUpdate){var n=this.props.currentTimeBeforeUrlUpdate,a=this.props.playingBeforeUrlUpdate;this.props.currentTimeBeforeUrlUpdate=null,this.props.playingBeforeUrlUpdate=!1,Object(i.k)((function(){"live"===n?t.props.seekToLiveBeforePlay=!0:Object(i.U)(n)&&(t.currentTime=Math.min(t.duration,t.duration-n)),a&&t.play()}))}else this.seeking||(this.loading=!1);else this.updateAvailableQualities(),this.updateAvailableServers(),this.updateAvailablePlaybackRates(),this.props.inLivePosition=!0,this.options.callbacks.inLivePositionChanged(this.props.inLivePosition),this.video.muted=this.props.muted,this.video.volume=this.props.volume/100,this.options.callbacks.volumeChanged(this.props.volume,this.props.muted),this.state="paused",this.props.useHlsJs||(this.loading=!1),Object(i.k)((function(){t.props.canPlay=!0,t.options.callbacks.canPlay()}))}},{key:"onPlay",value:function(e){Object(r.a)("HLS",e.type,e),this.sourceSwitcher.stopWaitingTimeout(),this.loading=!1,this.props.ended=!1,this.state="playing"}},{key:"onPause",value:function(e){Object(r.a)("HLS",e.type,e),this.sourceSwitcher.stopWaitingTimeout(),this.loading=!1,this.state="paused"}},{key:"onPlaying",value:function(e){Object(r.a)("HLS",e.type,e),this.seeking||(this.loading=!1),this.sourceSwitcher.stopWaitingTimeout(),this.props.ended=!1,this.state="playing"}},{key:"onWaiting",value:function(e){Object(r.a)("HLS",e.type,this.video.readyState,e),this.sourceSwitcher.startWaitingTimeout(),this.loading=!0}},{key:"onEnded",value:function(e){Object(r.a)("HLS",e.type,e),this.props.liveFinished?(this.props.ended||(this.props.currentTime=this.props.duration,this.props.ended=!0,this.sourceSwitcher.resetWaitingSafeguards(),this.options.callbacks.ended()),Object(r.a)("HLS","auto ended")):(this.sourceSwitcher.onEnded(),this.state="playing",this.loading=!0)}},{key:"onSeeking",value:function(e){Object(r.a)("HLS",e.type,e),this.props.ended=!1,this.seeking=!0,this.loading=!0}},{key:"onSeeked",value:function(e){Object(r.a)("HLS",e.type,e),this.sourceSwitcher.stopWaitingTimeout(),this.seeking=!1,this.loading=!1}},{key:"updateEnded",value:function(){return 0!==this.props.duration&&!!(this.props.liveFinished&&Math.abs(this.props.duration-this.props.currentTime)<500)&&(this.props.ended||(this.pause(),this.props.duration=this.props.currentTime,this.props.ended=!0,this.sourceSwitcher.resetWaitingSafeguards(),this.options.callbacks.ended()),Object(r.a)("HLS","manual ended by time"),!0)}},{key:"onTimeUpdate",value:function(e){this.props.duration=this.calcDuration(),this.props.currentTime=1e3*this.video.currentTime,this.updateEnded()||this.props.canPlay&&(this.props.liveFinished?(this.props.inLivePosition=!1,this.options.callbacks.inLivePositionChanged(this.props.inLivePosition)):this.updateInLivePosition())}},{key:"updateInLivePosition",value:function(){var e=this.calcInLivePosition();e!==this.props.inLivePosition&&(this.props.inLivePosition=e,this.options.callbacks.inLivePositionChanged(this.props.inLivePosition))}},{key:"calcInLivePosition",value:function(){return this.props.duration-this.props.currentTime<=this.liveSyncDelta}},{key:"liveSyncDelta",get:function(){return this.hls?1.4*(this.props.duration-this.liveSyncPosition):3e4}},{key:"onTextTracksAdd",value:function(e){var t=this;Object(r.a)("HLS",e.type,e);var n=e.track;"metadata"===n.kind?(n.mode="hidden",Object(i.a)(n,"cuechange",(function(e){return t.onTextTrackCueChange(e)})),setInterval((function(){"hidden"!==n.mode&&(n.mode="hidden")}),1e3)):this.subtitleTextTrack.mode=this.props.subtitleTextTrackMode}},{key:"onTextTrackCueChange",value:function(e){var t,n=A(e.target.activeCues);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.processTextTrackCue(i)}}catch(r){n.e(r)}finally{n.f()}}},{key:"processTextTrackCue",value:function(e){var t=function(e){var t=new Uint8Array(e.value.data);return x.a._utf8ArrayToStr(t)},n=function(e){return parseInt(t(e),10)};switch(e.value.info){case"com.slideslive.streamStart":case"SL_STAR":var i=this.streamStart;this.streamStart=n(e),i!==this.streamStart&&Object(r.a)("HLS",e.value.info,this.streamStart);break;case"com.slideslive.currentTime":case"SL_CURR":this.timeSinceStreamStart=n(e);break;case"SL_SUBT":this.props.useHlsJs||this.isSubtitleInjected(e.startTime)||this.injectSubtitle(e.startTime,t(e),!0);break;case"com.slideslive.currentTime2":case"com.slideslive.currentTime3":case"com.slideslive.streamStart2":break;default:console.warn("HLS:","Unknown ID3 metadata:",e)}}},{key:"subtitlesEnabled",set:function(e){this.props.subtitlesEnabled=e,this.updateSubtitleTracks(),e||this.subtitleTextTrack&&(this.subtitleTextTrack.mode="hidden")}},{key:"updateSubtitleTracks",value:function(){this.props.ccTracks=[],this.props.subtitlesEnabled?(this.props.ccTracks.push({name:"Off",track:"off"}),this.props.ccTracks.push({name:"On",track:"on"}),this.options.callbacks.subtitlesChanged(this.props.ccTracks),"showing"===this.props.subtitleTextTrackMode?this.setSubtitleTrack(1):this.setSubtitleTrack(0)):this.options.callbacks.subtitlesChanged(this.props.ccTracks)}},{key:"setSubtitleTrack",value:function(e){var t=this.props.ccTracks[e];t&&("on"===t.track?(this.props.subtitleTextTrackMode="showing",this.subtitleTextTrack.mode=this.props.subtitleTextTrackMode):"off"===t.track&&(this.props.subtitleTextTrackMode="hidden",this.subtitleTextTrack.mode=this.props.subtitleTextTrackMode)),this.props.activeCcTrack=e,this.options.callbacks.activeSubtitlesChanged(this.props.activeCcTrack)}},{key:"subtitleTextTrack",get:function(){var e=this;if(!this.video)return null;if(!this.props.subtitleTextTrack){var t,n,i=A(this.video.textTracks);try{for(i.s();!(n=i.n()).done;){var a=n.value;"captions"===a.kind&&(t=a)}}catch(o){i.e(o)}finally{i.f()}t?Object(r.a)("HLS","found text track for subtitles"):(Object(r.a)("HLS","creating text track for subtitles"),t=this.video.addTextTrack("captions","English","en")),t.mode=this.props.subtitleTextTrackMode,setInterval((function(){t.mode=e.props.subtitlesEnabled?e.props.subtitleTextTrackMode:"hidden"}),1e3),this.props.subtitleTextTrack=t,this.updateSubtitleTracks()}return this.props.subtitleTextTrack}},{key:"calcDuration",value:function(){return this.video.seekable&&this.video.seekable.length>=1?Math.floor(1e3*this.video.seekable.end(0)):Math.floor(1e3*this.video.currentTime)}},{key:"liveSyncPosition",get:function(){if(this.hls){var e=1e3*this.hls.liveSyncPosition;if(Object(i.U)(e)&&!isNaN(e))return e}return this.props.duration>1e4?this.props.duration-1e4:Math.max(0,this.calcDuration()-1e4)}},{key:"streamStart",get:function(){return this.props.streamStart},set:function(e){this.props.streamStart!==e&&(this.props.streamStartSet=!0,this.props.streamStart=e,this.options.callbacks.streamStartChanged(this.props.streamStart))}},{key:"timeSinceStreamStart",get:function(){return this.props.timeSinceStreamStart},set:function(e){this.props.timeSinceStreamStartSet=!0,this.props.timeSinceStreamStart=e}},{key:"seeking",get:function(){return this.props.seeking},set:function(e){this.props.seeking=e}},{key:"liveFinished",set:function(e){this.props.seekToLiveBeforePlay=!1,this.props.liveFinished=e,this.updateEnded()}},{key:"liveSubtitlesDelayMs",set:function(e){this.props.liveSubtitlesDelayMs=e}},{key:"setStartTime",value:function(e){this.props.startTime=e}},{key:"updateStarted",value:function(e){this.props.started!==e&&(this.props.started||(this.props.started=e,this.options.callbacks.livestreamStartChanged(this.props.started)))}}])&&j(t.prototype,n),a&&j(t,a),e}();function R(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var D=function(e,t,n){return Object(i.U)(e[t])?e[t]:n},N=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.options=n,this.props={loading:!0,ready:!1,canPlay:!1,currentTime:0,duration:0,state:"",volume:D(this.options.initial,"volume",100),muted:D(this.options.initial,"muted",!1),playbackRate:D(this.options.initial,"playbackRate",1),ratio:D(this.options.initial,"ratio",16/9),availablePlaybackRates:[],seeking:!1}}var t,n,a;return t=e,(n=[{key:"load",value:function(e,t){Object(r.a)("MP4","load",t),this.loadOffline(t)}},{key:"loadOffline",value:function(e){this.video=document.createElement("video"),this.video.setAttribute("playsinline","playsinline"),this.video.setAttribute("webkit-playsinline","webkit-playsinline"),this.video.playsinline=!0,this.video["webkit-playsinline"]=!0,Object(i.N)(this.video,{position:"absolute",left:0,top:0,width:"100%",height:"100%"}),this.element.insertAdjacentElement("beforeend",this.video),this.addVideoListeners(),this.video.src=e}},{key:"addVideoListeners",value:function(){var e=this;Object(i.a)(this.video,"error",(function(e){return Object(r.a)("MP4",e.type,e)})),Object(i.a)(this.video,"loadeddata",(function(e){return Object(r.a)("MP4",e.type,e)})),Object(i.a)(this.video,"load",(function(e){return Object(r.a)("MP4",e.type,e)})),Object(i.a)(this.video,"loadend",(function(e){return Object(r.a)("MP4",e.type,e)})),Object(i.a)(this.video,"loadstart",(function(e){return Object(r.a)("MP4",e.type,e)})),Object(i.a)(this.video,"offline",(function(e){return Object(r.a)("MP4",e.type,e)})),Object(i.a)(this.video,"online",(function(e){return Object(r.a)("MP4",e.type,e)})),Object(i.a)(this.video,"readystatechange",(function(e){return Object(r.a)("MP4",e.type,e)})),Object(i.a)(this.video,"stalled",(function(e){return Object(r.a)("MP4",e.type,e)})),Object(i.a)(this.video,"suspend",(function(e){return Object(r.a)("MP4",e.type,e)})),Object(i.a)(this.video,"stalled",(function(e){return Object(r.a)("MP4",e.type,e)})),Object(i.a)(this.video,"emptied",(function(e){return Object(r.a)("MP4",e.type,e)})),Object(i.a)(this.video,"ended",(function(t){return e.onEnded(t)})),Object(i.a)(this.video,"loadedmetadata",(function(t){return e.onLoadedData(t)})),Object(i.a)(this.video,"canplay",(function(t){return e.onCanPlay(t)})),Object(i.a)(this.video,"play",(function(t){return e.onPlay(t)})),Object(i.a)(this.video,"pause",(function(t){return e.onPause(t)})),Object(i.a)(this.video,"playing",(function(t){return e.onPlaying(t)})),Object(i.a)(this.video,"waiting",(function(t){return e.onWaiting(t)})),Object(i.a)(this.video,"seeking",(function(t){return e.onSeeking(t)})),Object(i.a)(this.video,"seeked",(function(t){return e.onSeeked(t)})),Object(i.a)(this.video,"timeupdate",(function(t){return e.onTimeUpdate(t)})),Object(i.a)(this.video.textTracks,"addtrack",(function(t){return e.onTextTracksAdd(t)}))}},{key:"play",value:function(){var e=this;Object(r.a)("MP4","play request");var t=this.video.play();Object(i.U)(t)&&t.catch((function(t){console.warn("HLS","play failed",t),e.options.callbacks.playFailed()}))}},{key:"pause",value:function(){Object(r.a)("MP4","pause request"),this.video.pause()}},{key:"setMuted",value:function(e){this.video.muted=e,this.props.muted=e,this.options.callbacks.volumeChanged(this.props.volume,this.props.muted)}},{key:"seekToLivePosition",value:function(){console.warn("Not implemented!")}},{key:"setSubtitleTrack",value:function(e){console.warn("Not implemented!")}},{key:"setQuality",value:function(e){console.warn("Not implemented!")}},{key:"playbackServer",set:function(e){console.warn("Not implemented!")}},{key:"volume",set:function(e){this.props.volume=e,this.video.muted=!1,this.video.volume=this.props.volume/100,this.options.callbacks.volumeChanged(this.props.volume,this.props.muted)}},{key:"currentTime",get:function(){return this.props.currentTime},set:function(e){this.props.seekToLiveBeforePlay=!1,this.props.currentTime=e,this.video.currentTime=e/1e3,this.props.inLivePosition=!1,this.options.callbacks.inLivePositionChanged(this.props.inLivePosition)}},{key:"currentStreamTime",get:function(){return this.props.timeSinceStreamStart}},{key:"duration",get:function(){return this.props.duration}},{key:"playbackRate",set:function(e){this.video.playbackRate=e,this.props.playbackRate=e,this.options.callbacks.playbackRateChanged(this.props.playbackRate)}},{key:"inLivePosition",get:function(){return this.props.inLivePosition}},{key:"ready",get:function(){return this.props.ready}},{key:"canPlay",get:function(){return this.props.canPlay}},{key:"loading",get:function(){return this.props.loading},set:function(e){e!==this.props.loading&&(this.props.loading=e,this.options.callbacks.loadingChanged(e))}},{key:"state",get:function(){return this.props.state},set:function(e){e!==this.props.state&&(this.props.state=e,this.options.callbacks.stateChanged(e))}},{key:"updateAvailablePlaybackRates",value:function(){this.props.availablePlaybackRates=[1],this.options.callbacks.availablePlaybackRatesChanged(this.props.availablePlaybackRates)}},{key:"onLoadedData",value:function(e){var t=this;Object(r.a)("MP4",e.type,e),this.props.duration=1e3*this.video.duration,this.props.canPlay||Object(i.k)((function(){t.props.ready=!0,t.options.callbacks.ready(),t.onCanPlay(e)}))}},{key:"onCanPlay",value:function(e){var t=this;Object(r.a)("MP4",e.type,e),this.props.canPlay||(this.updateAvailablePlaybackRates(),this.video.muted=this.props.muted,this.video.volume=this.props.volume/100,this.options.callbacks.volumeChanged(this.props.volume,this.props.muted),this.state="paused",this.loading=!1,Object(i.k)((function(){t.props.canPlay=!0,t.options.callbacks.canPlay()})))}},{key:"onPlay",value:function(e){Object(r.a)("MP4",e.type,e),this.loading=!1,this.state="playing"}},{key:"onPause",value:function(e){Object(r.a)("MP4",e.type,e),this.loading=!1,this.state="paused"}},{key:"onPlaying",value:function(e){Object(r.a)("MP4",e.type,e),this.loading=!1,this.state="playing"}},{key:"onWaiting",value:function(e){Object(r.a)("MP4",e.type,this.video.readyState,e),this.loading=!0}},{key:"onEnded",value:function(e){Object(r.a)("MP4",e.type,e),this.options.callbacks.ended()}},{key:"onSeeking",value:function(e){Object(r.a)("MP4",e.type,e),this.seeking=!0,this.loading=!0}},{key:"onSeeked",value:function(e){Object(r.a)("MP4",e.type,e),this.seeking=!1,this.loading=!1}},{key:"onTimeUpdate",value:function(e){this.props.duration=1e3*this.video.duration,this.props.currentTime=1e3*this.video.currentTime}},{key:"seeking",get:function(){return this.props.seeking},set:function(e){this.props.seeking=e}}])&&R(t.prototype,n),a&&R(t,a),e}(),U=n(48),V=n(124),F=n.n(V);function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var z=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};B(this,e),this.callbacks=n,this.props={component:t,loadingStart:null,loadingStartData:null,events:[]}}var t,n,a;return t=e,(n=[{key:"logLoadingChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.data,i=void 0===n?null:n;e&&null===this.props.loadingStart?this._logStart({data:i}):e||null===this.props.loadingStart||this._logEnd({data:i})}},{key:"_logStart",value:function(e){var t=e.data,n=void 0===t?null:t,a=Object(i.X)();this.props.loadingStart=a,this.props.loadingStartData=n,this._addEvent(this._createEvent("start",a,n)),Object(r.a)("LOADING",this.props.component,"loading start",n)}},{key:"_logEnd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?null:t,a=Object(i.X)(),o=a-this.props.loadingStart;this._addEvent(this._createEvent("end",a,n,o)),Object(r.a)("LOADING",this.props.component,"loading end",o,n),this.props.loadingStart=null,this.props.loadingStartData=n}},{key:"_createEvent",value:function(e,t,n,r){var a={ty:e,t:t};return Object(i.U)(n)&&(a.da=n),Object(i.U)(r)&&(a.du=r),a}},{key:"_addEvent",value:function(e){this.props.events.push(e),this.callbacks.event&&this.callbacks.event(e)}}])&&H(t.prototype,n),a&&H(t,a),e}();function q(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function W(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var X=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loadingDurationLogger=new z("VIDEO",{event:function(e){return i.options.callbacks.loadingEvent(e)}});var r=n.initial||{};this.element=t,this.options=n,this.props={volume:r.volume||100,muted:r.muted||!1,ratio:r.ratio||16/9,playbackRate:1,quality:null,subtitlesEnabled:!0,subtitlesTrack:null,subtitlesLanguage:r.subtitlesLanguage,liveSubtitlesDelayMs:0,liveFinished:!1,loadingStart:null},this.setVideoElementId()}var t,n,a;return t=e,(n=[{key:"setVideoElementId",value:function(){var e=Math.random().toString(36).substring(2,7),t="slp-".concat(e);this.element.setAttribute("id",t)}},{key:"serviceOptions",value:function(){var e=this;return{live:this.options.live,autoPlay:this.options.autoPlay,defaultStreamQuality:this.options.defaultStreamQuality,originalVideoControls:this.options.originalVideoControls,initial:this.props,callbacks:{ready:function(){e.options.callbacks.ready()},canPlay:function(){e.options.callbacks.canPlay()},loadingChanged:function(t){e.options.callbacks.loadingChanged(t),e.loadingDurationLogger.logLoadingChange(t)},stateChanged:function(t){e.options.callbacks.stateChanged(t)},timesChanged:function(t,n){e.options.callbacks.timesChanged(t,n)},ended:function(){e.options.callbacks.ended()},showError:function(t){e.options.callbacks.showError(t)},playFailed:function(){e.options.callbacks.playFailed()},volumeChanged:function(t,n){e.props.volume=t,e.props.muted=n,e.options.callbacks.volumeChanged(t,n)},playbackRateChanged:function(t){e.props.playbackRate=t,e.options.callbacks.playbackRateChanged(t)},qualityChanged:function(t){e.options.callbacks.qualityChanged(t)},activeSubtitlesChanged:function(t){e.options.callbacks.activeSubtitlesChanged(t)},ratioChanged:function(t){e.props.ratio=t,e.options.callbacks.ratioChanged(t)},availablePlaybackRatesChanged:function(t){e.options.callbacks.availablePlaybackRatesChanged(t)},availableQualitiesChanged:function(t){e.options.callbacks.availableQualitiesChanged(t)},availableServersChanged:function(t){e.options.callbacks.availableServersChanged(t)},subtitlesChanged:function(t){e.options.callbacks.subtitlesChanged(t)},playbackServerChanged:function(t){e.options.callbacks.playbackServerChanged(t)},inLivePositionChanged:function(t){e.options.callbacks.inLivePositionChanged(t)},streamStartChanged:function(t){e.options.callbacks.streamStartChanged(t)},livestreamStartChanged:function(t){e.options.callbacks.livestreamStartChanged(t)},firstPlayHackChanged:function(t){e.options.callbacks.firstPlayHackChanged(t)},seekableChanged:function(t){return e.options.callbacks.seekableChanged(t)},debugInfo:function(t){return e.options.callbacks.debugInfo(t)},reportError:function(t,n,i){return e.options.callbacks.reportError(t,n,i)}}}}},{key:"load",value:function(e,t,n){var i=this.serviceOptions(),r=e;switch(e.startsWith("yoda:")&&(r=e.split(":")[0]),r){case"youtube":this.service=new d(this.element,i);break;case"vimeo":this.service=new v(this.element,i);break;case"wistia":this.service=new w(this.element,i);break;case"url":this.service=new N(this.element,i);break;case"shaka":case"yoda":this.service=new U.a(this.element,i);break;default:return void this.options.callbacks.showError("Unsupported video source.")}this.service.load(e,t,n)}},{key:"loadLive",value:function(e){var t=null;if(0===e.length)t="wowza";else{var n,r=q(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(Object(i.U)(t)){if(t!==a.server_type)return void this.options.callbacks.showError("Mixed live server types.")}else t=a.server_type}}catch(o){r.e(o)}finally{r.f()}}switch(t){case"youtube":this.service=new d(this.element,this.serviceOptions());break;case"wowza":this.service=new M(this.element,this.serviceOptions());break;default:return void this.options.callbacks.showError("Unsupported livestream video source.")}this.service.loadLive(e)}},{key:"loadOffline",value:function(e){this.service=new N(this.element,this.serviceOptions()),this.service.loadOffline(e)}},{key:"loadSubtitles",value:function(e){this.service.loadSubtitles&&this.service.loadSubtitles(e)}},{key:"updateLiveServers",value:function(e){this.service?this.service.updateServers(e):this.loadLive(e)}},{key:"togglePlayback",value:function(){this.isPlaying?this.pause():this.play()}},{key:"toggleMute",value:function(){this.muted?this.unmute():this.mute()}},{key:"play",value:function(){this.service&&this.service.play()}},{key:"pause",value:function(){this.service&&this.service.pause()}},{key:"mute",value:function(){this.muted=!0}},{key:"unmute",value:function(){this.muted=!1}},{key:"seekToLivePosition",value:function(){this.service&&this.service.seekToLivePosition()}},{key:"setQuality",value:function(e){this.quality=e}},{key:"setSubtitleTrack",value:function(e){this.subtitlesTrack=e}},{key:"loadVideoKen",value:function(){var e=this;this.options.videoKenEnabled&&(Object(r.a)("VIDEO","Loading VideoKen..."),F.a.load((function(){Object(r.a)("VIDEO","VideoKen loaded."),e.options.callbacks.videoKenLoaded()})))}},{key:"loading",get:function(){return!this.service||this.service.loading}},{key:"ready",get:function(){return!!this.service&&this.service.ready}},{key:"canPlay",get:function(){return!!this.service&&this.service.canPlay}},{key:"muted",get:function(){return this.props.muted},set:function(e){this.props.muted=e,this.service&&this.service.setMuted(e)}},{key:"volume",get:function(){return this.props.volume},set:function(e){this.props.volume=e,this.service&&(this.service.volume=e)}},{key:"currentTime",get:function(){return this.service?this.service.currentTime:0},set:function(e){this.service&&(this.service.currentTime=e)}},{key:"currentStreamTime",get:function(){return this.service&&"undefined"!==typeof this.service.currentStreamTime?this.service.currentStreamTime:null}},{key:"duration",get:function(){return this.service?this.service.duration:0}},{key:"playbackRate",get:function(){return this.props.playbackRate},set:function(e){this.props.playbackRate=e,this.service&&(this.service.playbackRate=e)}},{key:"seekable",get:function(){return this.props.seekable}},{key:"inLivePosition",get:function(){return!!this.service&&this.service.inLivePosition}},{key:"live",get:function(){return this.options.live}},{key:"state",get:function(){return this.service?this.service.state:""}},{key:"isPlaying",get:function(){return"playing"===this.state}},{key:"isPaused",get:function(){return"paused"===this.state}},{key:"ratio",get:function(){return this.props.ratio}},{key:"quality",set:function(e){this.props.quality=e,this.service&&this.service.setQuality(e)}},{key:"subtitlesEnabled",set:function(e){this.props.subtitlesEnabled=e,this.service&&(this.service.subtitlesEnabled=e)}},{key:"subtitlesTrack",set:function(e){this.props.subtitlesTrack=e,this.service&&this.service.setSubtitleTrack(e)}},{key:"liveSubtitlesDelayMs",set:function(e){this.props.liveSubtitlesDelayMs=e,this.service&&(this.service.liveSubtitlesDelayMs=e)}},{key:"liveFinished",set:function(e){this.props.liveFinished=e,this.service&&(this.service.liveFinished=e)}},{key:"playbackServer",set:function(e){this.service.playbackServer=e}},{key:"startTime",set:function(e){this.service.setStartTime&&this.service.setStartTime(e)}},{key:"size",set:function(e){this.service&&(this.service.size=e)}}])&&W(t.prototype,n),a&&W(t,a),e}()},15:function(e,t,n){"use strict";(function(e){var i=n(165);function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,a,o;return n=t,o=[{key:"globalObserver",value:function(){return e.global_observer_||(e.global_observer_=new t,e.global_observer_.start()),e.global_observer_}},{key:"register",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.globalObserver().register(e,t,n)}}],(a=[{key:"start",value:function(){var e=this;this.observer=new MutationObserver((function(t){return e.processMutations(t)})),this.processors=new Map,this.observer.observe(document,{childList:!0,subtree:!0})}},{key:"register",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.processors.get(e);void 0===r&&(r=new i.a(e),this.processors.set(e,r)),r.registerAdd(t),n&&r.registerRemove(n)}},{key:"processMutations",value:function(e){this.processors.forEach((function(t){t.processMutations(e)}))}}])&&r(n.prototype,a),o&&r(n,o),t}();t.a=a}).call(this,n(20))},158:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},16:function(e,t,n){"use strict";t.a=function(e){return Array.isArray(e)}},165:function(e,t,n){"use strict";function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selector=t,this.elements=new Set,this.addCallbacks=new Set,this.removeCallbacks=new Set}var t,n,r;return t=e,(n=[{key:"registerAdd",value:function(e){this.addCallbacks.add(e)}},{key:"registerRemove",value:function(e){this.removeCallbacks.add(e)}},{key:"processMutations",value:function(e){var t,n=i(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.processMutation(r)}}catch(a){n.e(a)}finally{n.f()}}},{key:"processMutation",value:function(e){this.processAddedNodes(e.addedNodes),this.processRemovedNodes(e.removedNodes)}},{key:"processAddedNodes",value:function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var i=n[t];this.processNode(i,this.addElement)}}},{key:"processRemovedNodes",value:function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var i=n[t];this.processNode(i,this.removeElement)}}},{key:"processNode",value:function(e,t){if(e.nodeType===Node.ELEMENT_NODE){var n,r=i(this.matchElementsInTree(e));try{for(r.s();!(n=r.n()).done;){var a=n.value;t.call(this,a)}}catch(o){r.e(o)}finally{r.f()}}}},{key:"addElement",value:function(e){this.elements.has(e)||(this.elements.add(e),this.addCallbacks.forEach((function(t){t.call(null,e)})))}},{key:"removeElement",value:function(e){this.elements.has(e)&&(this.elements.delete(e),this.removeCallbacks.forEach((function(t){t.call(null,e)})))}},{key:"matchElementsInTree",value:function(e){var t=e.matches(this.selector)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return t.concat(n)}}])&&a(t.prototype,n),r&&a(t,r),e}();t.a=o},166:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var i=n(15),r=n(0);function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var s=["input","select","textarea"];function l(e){return s.indexOf(e.tagName.toLowerCase())>=0}function u(e,t,n){var i="".concat(e,"--filled");t.classList.toggle(i,n)}function c(e){var t=e.value;if(Object(r.U)(t)&&(t=t.trim()),"select"===e.tagName.toLowerCase()){if(Object(r.U)(t)&&""!==t)return!0;var n=e.options[e.selectedIndex];if(Object(r.U)(n)&&""!==n.text.trim())return!0}return Object(r.U)(t)&&""!==t}function d(e,t){return t.classList.contains("choices__input")?t.closest(".".concat(e)).querySelector(".".concat(e)):t}function p(e,t){if(t.classList.contains(".".concat(e)))return t;var n=t.querySelector(".".concat(e));return n||t.closest(".".concat(e))}var f=function(e,t){var n,i=a(t.querySelectorAll(".".concat(e)));try{for(i.s();!(n=i.n()).done;){var o=n.value;c(o)&&u(e,o,!0)}}catch(s){i.e(s)}finally{i.f()}Object(r.a)(t,"click",(function(t){t.target.classList.contains("".concat(e,"__openLink"))&&(t.preventDefault(),function(e,t){var n,i=t.closest(".fieldBox__container"),a=i.querySelector(".".concat(e)),o=i.querySelector("select.choices__input");if(o&&o.__choices){var s=o.__choices.getValue().customProperties;s&&("string"===typeof s&&(s=JSON.parse(s)),n=s.url)}else n=a.hasAttribute("data-url")?a.getAttribute("data-url"):a.value;Object(r.U)(n)&&""!==n&&(t.hasAttribute("data-linkify-template")&&(n=t.getAttribute("data-linkify-template").replace("%value%",n)),window.open(n,"_blank"))}(e,t.target))})),Object(r.a)(t,"focusin",(function(t){l(t.target)&&function(e,t,n){t.readOnly||(Object(r.mb)(n,"focused",!0),u(e,n,!0))}(e,d(e,t.target),p(e,t.target))})),Object(r.a)(t,"focusout",(function(t){l(t.target)&&function(e,t,n){t.readOnly||(Object(r.mb)(n,"focused",!1),u(e,n,c(t)))}(e,d(e,t.target),p(e,t.target))})),Object(r.a)(t,"change",(function(t){if(l(t.target)){var n=p(e,t.target);Object(r.x)(n,"focused",!1)||function(e,t,n){t!==document.activeElement&&u(e,n,c(t))}(e,t.target,n)}}))};var h=function(){i.a.register(".fieldBox__container",(function(e){f("fieldBox",e)}))};var m=function(e){if(!Object(r.x)(e,"numberFieldInitialized",!1)){Object(r.mb)(e,"numberFieldInitialized",!0);var t=e.getElementsByTagName("input")[0],n=e.querySelector('[data-action="increment"], [data-counter-action="increment"]'),i=e.querySelector('[data-action="decrement"], [data-counter-action="decrement"]'),a=t.hasAttribute("data-min")?parseInt(t.getAttribute("data-min"),10):null,o=t.hasAttribute("data-max")?parseInt(t.getAttribute("data-max"),10):null;Object(r.a)(n,"click",(function(){var e=parseInt(t.value,10)||0,n=e+1;null!==o&&(n=Math.min(o,n)),e!==n&&(t.value=n,Object(r.s)(t,"change"))})),Object(r.a)(i,"click",(function(){var e=parseInt(t.value,10)||0,n=e-1;null!==a&&(n=Math.max(a,n)),e!==n&&(t.value=n,Object(r.s)(t,"change"))}))}};var v=function(){i.a.register(".fieldBox__container--incDec",(function(e){m(e)}))};var y=function(e){if(!Object(r.x)(e,"fileFieldInitialized",!1)){Object(r.mb)(e,"fileFieldInitialized",!0);var t=e.querySelector('[data-replace-with-text="true"]');Object(r.a)(e,"change","input",(function(e){var n=e.target.files;0===n.length?Object(r.U)(t.dataset.defaultTextContent)&&(t.textContent=t.dataset.defaultTextContent):(Object(r.U)(t.dataset.defaultTextContent)||(t.dataset.defaultTextContent=t.textContent),t.textContent=n[0].name)}))}};var b=function(){i.a.register(".fieldBox__container--file",(function(e){y(e)}))};var g=function(){i.a.register(".fieldLine__container",(function(e){f("fieldLine",e)}))},k=n(61),w=n.n(k);n(265);var _=function(){i.a.register('select.newFieldChoices:not([data-auto-init="false"]):not(.choices__input)',(function(e){!function(e){if(!Object(r.x)(e,"choicesInitialized",!1)){Object(r.mb)(e,"choicesInitialized",!0);var t="fieldBox";e.value&&""!==e.value&&(t+=" fieldBox--filled");var n=new w.a(e,{itemSelectText:"",searchResultLimit:50,shouldSort:!1,addItemText:"",classNames:{containerOuter:t}});e.__choices=n,"true"===e.dataset.initBlank&&n.removeActiveItems(),e.readOnly&&n.disable()}}(e)}))};n(266),n(267),n(268),n(269),n(270);var S=function(){h(),v(),b(),g(),_()}},167:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(15),r=n(90);n(264);var a=function(){i.a.register(".tooltip",(function(e){return Object(r.a)(e)}))}},17:function(e,t,n){"use strict";var i=n(2);t.a=function(e,t){Object(i.a)(e.__sl)&&(e.__sl[t]=void 0)}},177:function(e,t){if(window.location&&!("origin"in window.location)){var n=window.location.port?window.location.port:"";window.location.origin="".concat(window.location.protocol,"//").concat(window.location.hostname).concat(n)}},178:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(3);n(203);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return n}(i.b)},182:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));n(202);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return o(this,n)}}function o(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(n,e);var t=a(n);function n(){return i(this,n),t.apply(this,arguments)}return n}(n(3).b)},183:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var i=n(7),r=n(11),a=n.n(r),o=n(42),s=n.n(o),l=n(0);function u(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=b(e);if(t){var r=b(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g={pristine:null},k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(o,e);var t,n,i,r=v(o);function o(){return f(this,o),r.apply(this,arguments)}return t=o,i=[{key:"targets",get:function(){return["submit"]}}],(n=[{key:"initialize",value:function(){this.props=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},g),this.initPristine()}},{key:"initPristine",value:function(){s.a.addValidator("equals",(function(e,t){return e===document.querySelector(t).value}),this.equalsMessage,1,!0),this.pristine=new s.a(this.element,{classTo:"pristine-target",errorClass:"error",errorTextParent:"pristine-target",errorTextTag:"p",errorTextClass:"fieldBox__errorMsg"})}},{key:"destroyPristine",value:function(){this.pristine&&(this.pristine.destroy(),this.pristine=null)}},{key:"validate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.validateSilentMode;return this.pristine.validate(void 0,e)}},{key:"validateAndShowErrors",value:function(e){var t=this.validate();return t||(e&&(e.preventDefault(),e.stopPropagation()),this.handleErrors(this.pristine.getErrors()),this.removeSubmitSpinner()),t}},{key:"submit",value:function(e){this.validateAndShowSubmitSpinner(e)}},{key:"ajaxComplete",value:function(){this.removeSubmitSpinner()}},{key:"validateAndShowSubmitSpinner",value:function(e){var t=this.validateAndShowErrors(e);return t&&this.hasSubmitTarget&&Object(l.lb)(this.submitTarget),t}},{key:"removeSubmitSpinner",value:function(){this.hasSubmitTarget&&Object(l.gb)(this.submitTarget)}},{key:"handleErrors",value:function(e){e.length&&e[0].input.focus();var t,n=u(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if("true"===i.input.dataset.buzz){var r=i.input.closest(".fieldBox__container, .animatedCheckbox__container");this.buzzOut(r)}}}catch(a){n.e(a)}finally{n.f()}}},{key:"buzzOut",value:function(e){a()({targets:e,translateX:[3,-3,3,-3,2,-2,2,-2,1,-1,0],rotateZ:[2,-2,2,-2,1,-1,1,-1,1,-1,0],duration:825})}},{key:"pristine",get:function(){return this.props.pristine},set:function(e){this.props.pristine=e}},{key:"validateSilentMode",get:function(){return"true"===this.element.dataset.validateSilentMode}},{key:"equalsMessage",get:function(){return this.element.dataset.pristineEqualsMessage?this.element.dataset.pristineEqualsMessage:"Fields do not match"}}])&&h(t.prototype,n),i&&h(t,i),o}(i.a)},186:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var i=n(7);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=p(e);if(t){var r=p(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f={embedOrigin:null},h=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,e);var t,n,i,r=c(o);function o(){return s(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.props=a(a({},f),e),this.embedOrigin=this.element.dataset.origin}},{key:"sendMessage",value:function(e){e.slideslive=!0,window.ActiveXObject&&(e=JSON.stringify(e)),window.parent.postMessage(e,this.embedOrigin)}},{key:"embedOrigin",get:function(){return this.props.embedOrigin},set:function(e){this.props.embedOrigin=e}}])&&l(t.prototype,n),i&&l(t,i),o}(i.a)},191:function(e,t){"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(e){"use strict";if("Element"in e){var t="classList",n=e.Element.prototype,i=Object,r=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},o=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},s=function(e,t){if(""===t)throw new o("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(t))throw new o("INVALID_CHARACTER_ERR","The token must not contain space characters.");return a.call(e,t)},l=function(e){for(var t=r.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,a=n.length;i<a;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},u=l.prototype=[],c=function(){return new l(this)};if(o.prototype=Error.prototype,u.item=function(e){return this[e]||null},u.contains=function(e){return~s(this,e+"")},u.add=function(){var e,t=arguments,n=0,i=t.length,r=!1;do{e=t[n]+"",~s(this,e)||(this.push(e),r=!0)}while(++n<i);r&&this._updateClassName()},u.remove=function(){var e,t,n=arguments,i=0,r=n.length,a=!1;do{for(e=n[i]+"",t=s(this,e);~t;)this.splice(t,1),a=!0,t=s(this,e)}while(++i<r);a&&this._updateClassName()},u.toggle=function(e,t){var n=this.contains(e),i=n?!0!==t&&"remove":!1!==t&&"add";return i&&this[i](e),!0===t||!1===t?t:!n},u.replace=function(e,t){var n=s(e+"");~n&&(this.splice(n,1,t),this._updateClassName())},u.toString=function(){return this.join(" ")},i.defineProperty){var d={get:c,enumerable:!0,configurable:!0};try{i.defineProperty(n,t,d)}catch(p){void 0!==p.number&&-2146823252!==p.number||(d.enumerable=!1,i.defineProperty(n,t,d))}}else i.prototype.__defineGetter__&&n.__defineGetter__(t,c)}}(self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,i=arguments.length;for(n=0;n<i;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)===!t?t:n.call(this,e)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(e,t){var n=this.toString().split(" "),i=n.indexOf(e+"");~i&&(n=n.slice(i),this.remove.apply(this,n),this.add(t),this.add.apply(this,n.slice(1)))}),e=null}())},192:function(e,t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector)},193:function(e,t){function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function i(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.removeKey||(Object.removeKey=function(e,t){return Object.keys(e).reduce((function(n,a){return a===t.toString()?n:i(i({},n),{},r({},a,e[a]))}),{})})},194:function(e,t){window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)})},195:function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var a=function(){function e(){n(this,e)}return r(e,null,[{key:"install",value:function(){!window.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?console.log("EME available."):(console.warn("EME not available."),navigator.requestMediaKeySystemAccess=e.requestMediaKeySystemAccess,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=e.setMediaKeys,window.MediaKeys=e.MediaKeys,window.MediaKeySystemAccess=e.MediaKeySystemAccess)}},{key:"requestMediaKeySystemAccess",value:function(e,t){return console.warn("PatchedMediaKeysNop.requestMediaKeySystemAccess"),Promise.reject(new Error("The key system specified is not supported."))}},{key:"setMediaKeys",value:function(e){return console.warn("PatchedMediaKeysNop.setMediaKeys"),null==e?Promise.resolve():Promise.reject(new Error("MediaKeys not supported."))}}]),e}();a.MediaKeys=function(){function e(){throw n(this,e),new TypeError("Illegal constructor.")}return r(e,[{key:"createSession",value:function(){}},{key:"setServerCertificate",value:function(){}}]),e}(),a.MediaKeySystemAccess=function(){function e(){throw n(this,e),this.keySystem="",new TypeError("Illegal constructor.")}return r(e,[{key:"getConfiguration",value:function(){}},{key:"createMediaKeys",value:function(){}}]),e}(),a.install()},197:function(e,t,n){e.exports={"link--underline":"link--underline","sl-bold":"sl-bold","line-through":"line-through","hide-text":"hide-text",scrollreveal:"scrollreveal","overflow--visible":"overflow--visible","overflow--hidden":"overflow--hidden",btn:"btn","padding__vertical--25":"padding__vertical--25","display--inline":"display--inline","display--inlineBlock":"display--inlineBlock","display--block":"display--block","vertical--middle":"vertical--middle","w-100":"w-100","td--shrink":"td--shrink",table:"table","table--fullwidth":"table--fullwidth","table--fullsize":"table--fullsize",table__body:"table__body",table__header:"table__header",table__footer:"table__footer",table__row:"table__row",table__cell:"table__cell","table__cell--nowrap":"table__cell--nowrap","table__cell--shrink":"table__cell--shrink","table__cell--padding":"table__cell--padding","table__cell--top":"table__cell--top",table__caption:"table__caption",table__scrollable:"table__scrollable","table__rounded--left":"table__rounded--left","table__rounded--right":"table__rounded--right","table--colored":"table--colored",container:"container","container--small-gutter":"container--small-gutter","container--tiny-gutter":"container--tiny-gutter","container--tiniest-gutter":"container--tiniest-gutter","container--no-gutter":"container--no-gutter","container-fluid":"container-fluid","container-fluid--small-gutter":"container-fluid--small-gutter","container-fluid--tiny-gutter":"container-fluid--tiny-gutter","container-fluid--tiniest-gutter":"container-fluid--tiniest-gutter","container-fluid--no-gutter":"container-fluid--no-gutter",row:"row","row--small-gutter":"row--small-gutter","row--tiny-gutter":"row--tiny-gutter","row--tiniest-gutter":"row--tiniest-gutter","row--no-gutter":"row--no-gutter","col-xs-1":"col-xs-1","col-sm-1":"col-sm-1","col-md-1":"col-md-1","col-lg-1":"col-lg-1","col-xs-2":"col-xs-2","col-sm-2":"col-sm-2","col-md-2":"col-md-2","col-lg-2":"col-lg-2","col-xs-3":"col-xs-3","col-sm-3":"col-sm-3","col-md-3":"col-md-3","col-lg-3":"col-lg-3","col-xs-4":"col-xs-4","col-sm-4":"col-sm-4","col-md-4":"col-md-4","col-lg-4":"col-lg-4","col-xs-5":"col-xs-5","col-sm-5":"col-sm-5","col-md-5":"col-md-5","col-lg-5":"col-lg-5","col-xs-6":"col-xs-6","col-sm-6":"col-sm-6","col-md-6":"col-md-6","col-lg-6":"col-lg-6","col-xs-7":"col-xs-7","col-sm-7":"col-sm-7","col-md-7":"col-md-7","col-lg-7":"col-lg-7","col-xs-8":"col-xs-8","col-sm-8":"col-sm-8","col-md-8":"col-md-8","col-lg-8":"col-lg-8","col-xs-9":"col-xs-9","col-sm-9":"col-sm-9","col-md-9":"col-md-9","col-lg-9":"col-lg-9","col-xs-10":"col-xs-10","col-sm-10":"col-sm-10","col-md-10":"col-md-10","col-lg-10":"col-lg-10","col-xs-11":"col-xs-11","col-sm-11":"col-sm-11","col-md-11":"col-md-11","col-lg-11":"col-lg-11","col-xs-12":"col-xs-12","col-sm-12":"col-sm-12","col-md-12":"col-md-12","col-lg-12":"col-lg-12","col-xs-pull-0":"col-xs-pull-0","col-xs-pull-1":"col-xs-pull-1","col-xs-pull-2":"col-xs-pull-2","col-xs-pull-3":"col-xs-pull-3","col-xs-pull-4":"col-xs-pull-4","col-xs-pull-5":"col-xs-pull-5","col-xs-pull-6":"col-xs-pull-6","col-xs-pull-7":"col-xs-pull-7","col-xs-pull-8":"col-xs-pull-8","col-xs-pull-9":"col-xs-pull-9","col-xs-pull-10":"col-xs-pull-10","col-xs-pull-11":"col-xs-pull-11","col-xs-pull-12":"col-xs-pull-12","col-xs-push-0":"col-xs-push-0","col-xs-push-1":"col-xs-push-1","col-xs-push-2":"col-xs-push-2","col-xs-push-3":"col-xs-push-3","col-xs-push-4":"col-xs-push-4","col-xs-push-5":"col-xs-push-5","col-xs-push-6":"col-xs-push-6","col-xs-push-7":"col-xs-push-7","col-xs-push-8":"col-xs-push-8","col-xs-push-9":"col-xs-push-9","col-xs-push-10":"col-xs-push-10","col-xs-push-11":"col-xs-push-11","col-xs-push-12":"col-xs-push-12","col-xs-offset-0":"col-xs-offset-0","col-xs-offset-1":"col-xs-offset-1","col-xs-offset-2":"col-xs-offset-2","col-xs-offset-3":"col-xs-offset-3","col-xs-offset-4":"col-xs-offset-4","col-xs-offset-5":"col-xs-offset-5","col-xs-offset-6":"col-xs-offset-6","col-xs-offset-7":"col-xs-offset-7","col-xs-offset-8":"col-xs-offset-8","col-xs-offset-9":"col-xs-offset-9","col-xs-offset-10":"col-xs-offset-10","col-xs-offset-11":"col-xs-offset-11","col-xs-offset-12":"col-xs-offset-12","col-sm-pull-0":"col-sm-pull-0","col-sm-pull-1":"col-sm-pull-1","col-sm-pull-2":"col-sm-pull-2","col-sm-pull-3":"col-sm-pull-3","col-sm-pull-4":"col-sm-pull-4","col-sm-pull-5":"col-sm-pull-5","col-sm-pull-6":"col-sm-pull-6","col-sm-pull-7":"col-sm-pull-7","col-sm-pull-8":"col-sm-pull-8","col-sm-pull-9":"col-sm-pull-9","col-sm-pull-10":"col-sm-pull-10","col-sm-pull-11":"col-sm-pull-11","col-sm-pull-12":"col-sm-pull-12","col-sm-push-0":"col-sm-push-0","col-sm-push-1":"col-sm-push-1","col-sm-push-2":"col-sm-push-2","col-sm-push-3":"col-sm-push-3","col-sm-push-4":"col-sm-push-4","col-sm-push-5":"col-sm-push-5","col-sm-push-6":"col-sm-push-6","col-sm-push-7":"col-sm-push-7","col-sm-push-8":"col-sm-push-8","col-sm-push-9":"col-sm-push-9","col-sm-push-10":"col-sm-push-10","col-sm-push-11":"col-sm-push-11","col-sm-push-12":"col-sm-push-12","col-sm-offset-0":"col-sm-offset-0","col-sm-offset-1":"col-sm-offset-1","col-sm-offset-2":"col-sm-offset-2","col-sm-offset-3":"col-sm-offset-3","col-sm-offset-4":"col-sm-offset-4","col-sm-offset-5":"col-sm-offset-5","col-sm-offset-6":"col-sm-offset-6","col-sm-offset-7":"col-sm-offset-7","col-sm-offset-8":"col-sm-offset-8","col-sm-offset-9":"col-sm-offset-9","col-sm-offset-10":"col-sm-offset-10","col-sm-offset-11":"col-sm-offset-11","col-sm-offset-12":"col-sm-offset-12","col-md-pull-0":"col-md-pull-0","col-md-pull-1":"col-md-pull-1","col-md-pull-2":"col-md-pull-2","col-md-pull-3":"col-md-pull-3","col-md-pull-4":"col-md-pull-4","col-md-pull-5":"col-md-pull-5","col-md-pull-6":"col-md-pull-6","col-md-pull-7":"col-md-pull-7","col-md-pull-8":"col-md-pull-8","col-md-pull-9":"col-md-pull-9","col-md-pull-10":"col-md-pull-10","col-md-pull-11":"col-md-pull-11","col-md-pull-12":"col-md-pull-12","col-md-push-0":"col-md-push-0","col-md-push-1":"col-md-push-1","col-md-push-2":"col-md-push-2","col-md-push-3":"col-md-push-3","col-md-push-4":"col-md-push-4","col-md-push-5":"col-md-push-5","col-md-push-6":"col-md-push-6","col-md-push-7":"col-md-push-7","col-md-push-8":"col-md-push-8","col-md-push-9":"col-md-push-9","col-md-push-10":"col-md-push-10","col-md-push-11":"col-md-push-11","col-md-push-12":"col-md-push-12","col-md-offset-0":"col-md-offset-0","col-md-offset-1":"col-md-offset-1","col-md-offset-2":"col-md-offset-2","col-md-offset-3":"col-md-offset-3","col-md-offset-4":"col-md-offset-4","col-md-offset-5":"col-md-offset-5","col-md-offset-6":"col-md-offset-6","col-md-offset-7":"col-md-offset-7","col-md-offset-8":"col-md-offset-8","col-md-offset-9":"col-md-offset-9","col-md-offset-10":"col-md-offset-10","col-md-offset-11":"col-md-offset-11","col-md-offset-12":"col-md-offset-12","col-lg-pull-0":"col-lg-pull-0","col-lg-pull-1":"col-lg-pull-1","col-lg-pull-2":"col-lg-pull-2","col-lg-pull-3":"col-lg-pull-3","col-lg-pull-4":"col-lg-pull-4","col-lg-pull-5":"col-lg-pull-5","col-lg-pull-6":"col-lg-pull-6","col-lg-pull-7":"col-lg-pull-7","col-lg-pull-8":"col-lg-pull-8","col-lg-pull-9":"col-lg-pull-9","col-lg-pull-10":"col-lg-pull-10","col-lg-pull-11":"col-lg-pull-11","col-lg-pull-12":"col-lg-pull-12","col-lg-push-0":"col-lg-push-0","col-lg-push-1":"col-lg-push-1","col-lg-push-2":"col-lg-push-2","col-lg-push-3":"col-lg-push-3","col-lg-push-4":"col-lg-push-4","col-lg-push-5":"col-lg-push-5","col-lg-push-6":"col-lg-push-6","col-lg-push-7":"col-lg-push-7","col-lg-push-8":"col-lg-push-8","col-lg-push-9":"col-lg-push-9","col-lg-push-10":"col-lg-push-10","col-lg-push-11":"col-lg-push-11","col-lg-push-12":"col-lg-push-12","col-lg-offset-0":"col-lg-offset-0","col-lg-offset-1":"col-lg-offset-1","col-lg-offset-2":"col-lg-offset-2","col-lg-offset-3":"col-lg-offset-3","col-lg-offset-4":"col-lg-offset-4","col-lg-offset-5":"col-lg-offset-5","col-lg-offset-6":"col-lg-offset-6","col-lg-offset-7":"col-lg-offset-7","col-lg-offset-8":"col-lg-offset-8","col-lg-offset-9":"col-lg-offset-9","col-lg-offset-10":"col-lg-offset-10","col-lg-offset-11":"col-lg-offset-11","col-lg-offset-12":"col-lg-offset-12","col--small-gutter":"col--small-gutter","col--tiny-gutter":"col--tiny-gutter","col--no-gutter":"col--no-gutter","visible-xs":"visible-xs","visible-sm":"visible-sm","visible-md":"visible-md","visible-lg":"visible-lg","visible-xs-block":"visible-xs-block","visible-xs-inline":"visible-xs-inline","visible-xs-inline-block":"visible-xs-inline-block","visible-sm-block":"visible-sm-block","visible-sm-inline":"visible-sm-inline","visible-sm-inline-block":"visible-sm-inline-block","visible-md-block":"visible-md-block","visible-md-inline":"visible-md-inline","visible-md-inline-block":"visible-md-inline-block","visible-lg-block":"visible-lg-block","visible-lg-inline":"visible-lg-inline","visible-lg-inline-block":"visible-lg-inline-block","visible-xstable":"visible-xstable","visible-xstr":"visible-xstr","visible-xsth":"visible-xsth","visible-xstd":"visible-xstd","visible-smtable":"visible-smtable","visible-smtr":"visible-smtr","visible-smth":"visible-smth","visible-smtd":"visible-smtd","visible-mdtable":"visible-mdtable","visible-mdtr":"visible-mdtr","visible-mdth":"visible-mdth","visible-mdtd":"visible-mdtd","visible-lgtable":"visible-lgtable","visible-lgtr":"visible-lgtr","visible-lgth":"visible-lgth","visible-lgtd":"visible-lgtd",hidden:"hidden","hidden-xs":"hidden-xs","hidden-sm":"hidden-sm","hidden-md":"hidden-md","hidden-lg":"hidden-lg","visible-print":"visible-print","visible-printtable":"visible-printtable","visible-printtr":"visible-printtr","visible-printth":"visible-printth","visible-printtd":"visible-printtd","visible-print-block":"visible-print-block","visible-print-inline":"visible-print-inline","visible-print-inline-block":"visible-print-inline-block","hidden-print":"hidden-print","bg--dark":"bg--dark",clearfix:"clearfix","float--left":"float--left","float--right":"float--right","float--none":"float--none",margin__no:"margin__no",centered:"centered","margin__top--0":"margin__top--0","margin__top--5":"margin__top--5","margin__top--10":"margin__top--10","margin__top--15":"margin__top--15","margin__top--20":"margin__top--20","margin__top--25":"margin__top--25","margin__top--30":"margin__top--30","margin__top--35":"margin__top--35","margin__top--40":"margin__top--40","margin__top--45":"margin__top--45","margin__top--50":"margin__top--50","margin__top--60":"margin__top--60","margin__top--80":"margin__top--80","margin__right--0":"margin__right--0","margin__right--5":"margin__right--5","margin__right--10":"margin__right--10","margin__right--15":"margin__right--15","margin__right--20":"margin__right--20","margin__right--25":"margin__right--25","margin__right--30":"margin__right--30","margin__right--35":"margin__right--35","margin__right--40":"margin__right--40","margin__right--45":"margin__right--45","margin__right--50":"margin__right--50","margin__right--60":"margin__right--60","margin__right--80":"margin__right--80","margin__bottom--0":"margin__bottom--0","margin__bottom--5":"margin__bottom--5","margin__bottom--10":"margin__bottom--10","margin__bottom--15":"margin__bottom--15","margin__bottom--20":"margin__bottom--20","margin__bottom--25":"margin__bottom--25","margin__bottom--30":"margin__bottom--30","margin__bottom--35":"margin__bottom--35","margin__bottom--40":"margin__bottom--40","margin__bottom--45":"margin__bottom--45","margin__bottom--50":"margin__bottom--50","margin__bottom--60":"margin__bottom--60","margin__bottom--80":"margin__bottom--80","margin__left--0":"margin__left--0","margin__left--5":"margin__left--5","margin__left--10":"margin__left--10","margin__left--15":"margin__left--15","margin__left--20":"margin__left--20","margin__left--25":"margin__left--25","margin__left--30":"margin__left--30","margin__left--35":"margin__left--35","margin__left--40":"margin__left--40","margin__left--45":"margin__left--45","margin__left--50":"margin__left--50","margin__left--60":"margin__left--60","margin__left--80":"margin__left--80","print--no":"print--no","text--uppercase":"text--uppercase","text--pre-wrap":"text--pre-wrap","text--white":"text--white","text--green":"text--green","text--red":"text--red","text--orange":"text--orange","text--grey":"text--grey","text--dark-grey":"text--dark-grey","text--light-grey":"text--light-grey","text--purple":"text--purple","text--light":"text--light","text--semiLight":"text--semiLight","text--normal":"text--normal","text--bold":"text--bold","text--italic":"text--italic","text--prewrap":"text--prewrap","text--nowrap":"text--nowrap","text--center":"text--center","text--right":"text--right","text--left":"text--left","text--super":"text--super","text--placeholder":"text--placeholder","text--line-through":"text--line-through","text--underline":"text--underline","text--ellipsis":"text--ellipsis","link--white":"link--white","link--border":"link--border","link--green":"link--green","link--dark":"link--dark","link--grey":"link--grey","link--lightGrey":"link--lightGrey","link--purple":"link--purple","link--red":"link--red",link:"link","link--no-underline":"link--no-underline",text__title:"text__title","text__title--smaller":"text__title--smaller","text__title--small":"text__title--small","text__title--tiny":"text__title--tiny",text__subtitle:"text__subtitle",text__paragraph:"text__paragraph","text__paragraph--tiniest":"text__paragraph--tiniest","text__paragraph--tiny":"text__paragraph--tiny","text__paragraph--smaller":"text__paragraph--smaller","text__paragraph--small":"text__paragraph--small","text__paragraph--bigger":"text__paragraph--bigger","text__paragraph--bigger2":"text__paragraph--bigger2","text__paragraph--huge":"text__paragraph--huge"}},198:function(e,t,n){e.exports={form:"form","form--inline":"form--inline",form__row:"form__row",fieldBox__container:"fieldBox__container",btn:"btn",field__container:"field__container",field__select:"field__select",iconSvg:"iconSvg"}},199:function(e,t,n){e.exports={iconSvg:"iconSvg","iconSvg--tableRow":"iconSvg--tableRow","iconSvg--conflict":"iconSvg--conflict"}},2:function(e,t,n){"use strict";t.a=function(e){return"undefined"!==typeof e&&null!==e}},200:function(e,t,n){e.exports={btn:"btn",disabled:"disabled",iconSvg:"iconSvg","btn--block":"btn--block","btn--full-width":"btn--full-width","btn--rounded":"btn--rounded","btn--small":"btn--small","btn--tiny":"btn--tiny","btn--circle":"btn--circle","btn--circle--small":"btn--circle--small","btn--circle--tiny":"btn--circle--tiny",btn__green:"btn__green","btn__green--outline":"btn__green--outline","btn__green-2":"btn__green-2","btn__green-2--outline":"btn__green-2--outline",btn__purple:"btn__purple","btn__purple--outline":"btn__purple--outline","btn__purple-2":"btn__purple-2","btn__purple-2--outline":"btn__purple-2--outline",btn__red:"btn__red","btn__red--outline":"btn__red--outline",btn__dark:"btn__dark","btn__dark--outline":"btn__dark--outline",btn__lightgrey:"btn__lightgrey","btn__lightgrey--outline":"btn__lightgrey--outline",btn__white:"btn__white","btn__white--outline":"btn__white--outline",btn__blue:"btn__blue","btn__blue--outline":"btn__blue--outline",btn__orange:"btn__orange","btn__orange--outline":"btn__orange--outline",btn__facebook:"btn__facebook","btn__facebook--outline":"btn__facebook--outline",btn__gplus:"btn__gplus","btn__gplus--outline":"btn__gplus--outline",btn__twitter:"btn__twitter","btn__twitter--outline":"btn__twitter--outline",btn__linkedin:"btn__linkedin","btn__linkedin--outline":"btn__linkedin--outline",btn__mail:"btn__mail","btn__mail--outline":"btn__mail--outline"}},201:function(e,t,n){e.exports={spinner:"spinner",spin:"spin","spinner--dark":"spinner--dark","spinner--small":"spinner--small","spinner--15px":"spinner--15px","spinner--13px":"spinner--13px","spinner--inline":"spinner--inline",spinner__container:"spinner__container",spinner__wrapper:"spinner__wrapper","spinner__wrapper--transparent":"spinner__wrapper--transparent","spinner__wrapper--light":"spinner__wrapper--light","spinner__wrapper--light-grey":"spinner__wrapper--light-grey",spinner__btn:"spinner__btn","btn--rounded":"btn--rounded","btn--tiny":"btn--tiny",pulse:"pulse","stretch-bounce":"stretch-bounce"}},202:function(e,t,n){e.exports={avatar:"avatar",avatar__figure:"avatar__figure",avatar__img:"avatar__img",avatar__placeholder:"avatar__placeholder",avatar__initials:"avatar__initials","avatar--btn":"avatar--btn","avatar--sm":"avatar--sm",avatar__small:"avatar__small","avatar--md":"avatar--md","avatar--lg":"avatar--lg","avatar__small--live":"avatar__small--live"}},203:function(e,t,n){e.exports={logo:"logo",logo__text:"logo__text",logo__img:"logo__img",iconSvg:"iconSvg",logo__sub:"logo__sub","logo--big":"logo--big","logo--black":"logo--black"}},204:function(e,t,n){var i={"./close.svg":89,"./info-circle.svg":205,"./player-arrow-left.svg":25,"./player-arrow-right.svg":67,"./player-bookmark.svg":114,"./player-delete.svg":115,"./player-edit.svg":206,"./player-favorite-outline.svg":207,"./player-favorite.svg":208,"./player-fullscreen.svg":209,"./player-hd.svg":210,"./player-minimize.svg":211,"./player-more-vert.svg":212,"./player-mute.svg":213,"./player-next.svg":214,"./player-pause.svg":215,"./player-play.svg":68,"./player-prev.svg":216,"./player-save.svg":116,"./player-subtitles.svg":217,"./player-sync-with-slide.svg":117,"./player-sync-with-talk.svg":118,"./player-topics-and-transcript.svg":218,"./player-volume-max.svg":219,"./player-volume-min.svg":220,"./player-volume-mute.svg":221,"./player-volume-off.svg":222,"./player-watch-later-outline.svg":223,"./player-watch-later.svg":224,"./player-zoom.svg":225,"./warning-circle.svg":226};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=204},205:function(e,t){e.exports='<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414" class="iconSvg">\n  <path stroke="none" d="M16 32C7.163 32 0 24.837 0 16S7.163 0 16 0s16 7.163 16 16-7.163 16-16 16zm2.286-23.341v-.02A1.03 1.03 0 0 0 17.27 7.61h-2.54a1.029 1.029 0 0 0-1.016 1.029v2.659c0 .564.453 1.021 1.015 1.028h2.54a1.028 1.028 0 0 0 1.016-1.028V8.659h.001zm0 6.286v-.02c0-.564-.453-1.021-1.016-1.028h-2.54a1.028 1.028 0 0 0-1.016 1.028v8.423a1.03 1.03 0 0 0 1.016 1.029h2.54a1.029 1.029 0 0 0 1.016-1.029v-8.403z" fill-rule="nonzero"/>\n</svg>\n'},206:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 000-1.41l-2.34-2.34a.996.996 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>\n  <path d="M0 0h24v24H0z" fill="none"/>\n</svg>\n'},207:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path d="M0 0h24v24H0z" fill="none"/>\n  <path d="M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"/>\n</svg>\n'},208:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path d="M0 0h24v24H0z" fill="none"/>\n  <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>\n</svg>\n'},209:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path d="M0 0h24v24H0z" fill="none"/>\n  <path d="M5 14H3v7h7v-2H5zm-2-4h2V5h5V3H3zm16 9h-5v2h7v-7h-2zM14 3v2h5v5h2V3z"/>\n</svg>\n'},21:function(e,t,n){(function(e){!function(){var n="undefined"!=typeof window?window:e,i={};for(var r in function(e,t,n){var i;function a(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var s=function(n){n=["object"==typeof globalThis&&globalThis,n,"object"==typeof e&&e,"object"==typeof self&&self,"object"==typeof t&&t];for(var i=0;i<n.length;++i){var r=n[i];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function l(e,t){if(t)e:{for(var n=s,i=e.split("."),r=0;r<i.length-1;r++){var a=i[r];if(!(a in n))break e;n=n[a]}(a=t(r=n[i=i[i.length-1]]))!=r&&null!=a&&o(n,i,{configurable:!0,writable:!0,value:a})}}function u(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:a(e)}}function d(e){if(!(e instanceof Array)){e=c(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}l("Symbol",(function(e){function t(e,t){this.a=e,o(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.a};var n=0;return function e(i){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t("jscomp_symbol_"+(i||"")+"_"+n++,i)}})),l("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var i=s[t[n]];"function"===typeof i&&"function"!=typeof i.prototype[e]&&o(i.prototype,e,{configurable:!0,writable:!0,value:function(){return u(a(this))}})}return e}));var p,f="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)p=Object.setPrototypeOf;else{var h;e:{var m={};try{m.__proto__={je:!0},h=m.je;break e}catch(Eh){}h=!1}p=h?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var v=p;function y(e,t){if(e.prototype=f(t.prototype),e.prototype.constructor=e,v)v(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.bg=t.prototype}function b(){this.j=!1,this.g=null,this.b=void 0,this.a=1,this.f=this.h=0,this.v=this.c=null}function g(e){if(e.j)throw new TypeError("Generator is already running");e.j=!0}function k(e,t){e.c={Jd:t,Od:!0},e.a=e.h||e.f}function w(e,t,n){return e.a=n,{value:t}}function _(e){e.a=0}function S(e,t,n){e.h=t,void 0!=n&&(e.f=n)}function T(e){e.h=0,e.f=2}function x(e,t){e.a=t,e.h=0}function O(e){e.h=0;var t=e.c.Jd;return e.c=null,t}function E(e){e.v=[e.c],e.h=0,e.f=0}function P(e,t){var n=e.v.splice(0)[0];(n=e.c=e.c||n)?n.Od?e.a=e.h||e.f:void 0!=n.s&&e.f<n.s?(e.a=n.s,e.c=null):e.a=e.f:e.a=t}function C(e){this.a=new b,this.b=e}function A(e,t,n,i){try{var r=t.call(e.a.g,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.a.j=!1,r;var a=r.value}catch(o){return e.a.g=null,k(e.a,o),I(e)}return e.a.g=null,i.call(e.a,a),I(e)}function I(e){for(;e.a.a;)try{var t=e.b(e.a);if(t)return e.a.j=!1,{value:t.value,done:!1}}catch(n){e.a.b=void 0,k(e.a,n)}if(e.a.j=!1,e.a.c){if(t=e.a.c,e.a.c=null,t.Od)throw t.Jd;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function j(e){this.next=function(t){return g(e.a),e.a.g?t=A(e,e.a.g.next,t,e.a.l):(e.a.l(t),t=I(e)),t},this.throw=function(t){return g(e.a),e.a.g?t=A(e,e.a.g.throw,t,e.a.l):(k(e.a,t),t=I(e)),t},this.return=function(t){return function(e,t){g(e.a);var n=e.a.g;return n?A(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.a.return):(e.a.return(t),I(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function L(e,t){var n=new j(new C(t));return v&&e.prototype&&v(n,e.prototype),n}function M(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(i,r){!function e(a){a.done?i(a.value):Promise.resolve(a.value).then(t,n).then(e,r)}(e.next())}))}(new j(new C(e)))}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function D(e,t,n){e instanceof String&&(e=String(e));for(var i=e.length,r=0;r<i;r++){var a=e[r];if(t.call(n,a,r,e))return{ba:r,ge:a}}return{ba:-1,ge:void 0}}function N(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}function U(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}b.prototype.l=function(e){this.b=e},b.prototype.return=function(e){this.c={return:e},this.a=this.f},b.prototype.s=function(e){this.a=e},l("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[],this.j=!1;var t=this.f();try{e(t.resolve,t.reject)}catch(r){t.reject(r)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=s.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(i){this.f(i)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(i){n||(n=!0,e.call(t,i))}}var t=this,n=!1;return{resolve:e(this.F),reject:e(this.g)}},t.prototype.F=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.J(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.C(e):this.h(e)}},t.prototype.C=function(e){var t=void 0;try{t=e.then}catch(r){return void this.g(r)}"function"==typeof t?this.L(t,e):this.h(e)},t.prototype.g=function(e){this.l(2,e)},t.prototype.h=function(e){this.l(1,e)},t.prototype.l=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,2===this.b&&this.H(),this.v()},t.prototype.H=function(){var e=this;a((function(){if(e.A()){var t=s.console;"undefined"!==typeof t&&t.error(e.c)}}),1)},t.prototype.A=function(){if(this.j)return!1;var e=s.CustomEvent,t=s.Event,n=s.dispatchEvent;return"undefined"===typeof n||("function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=s.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.c,n(e))},t.prototype.v=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)o.b(this.a[e]);this.a=null}};var o=new n;return t.prototype.J=function(e){var t=this.f();e.lc(t.resolve,t.reject)},t.prototype.L=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(i){n.reject(i)}},t.prototype.then=function(e,n){function i(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(n){a(n)}}:t}var r,a,o=new t((function(e,t){r=e,a=t}));return this.lc(i(e,r),i(n,a)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.lc=function(e,t){function n(){switch(i.b){case 1:e(i.c);break;case 2:t(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?o.b(n):this.a.push(n),this.j=!0},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=c(e),a=r.next();!a.done;a=r.next())i(a.value).lc(t,n)}))},t.all=function(e){var n=c(e),r=n.next();return r.done?i([]):new t((function(e,t){function a(t){return function(n){o[t]=n,0==--s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,i(r.value).lc(a(o.length-1),t),r=n.next()}while(!r.done)}))},t})),l("WeakMap",(function(e){function t(e){if(this.a=(l+=Math.random()+1).toString(),e){e=c(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function n(){}function i(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function r(e){if(!R(e,s)){var t=new n;o(e,s,{value:t})}}function a(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof n?e:(Object.isExtensible(e)&&r(e),t(e))})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),i=new e([[t,2],[n,3]]);return 2==i.get(t)&&3==i.get(n)&&(i.delete(t),i.set(n,4),!i.has(t)&&4==i.get(n))}catch(r){return!1}}())return e;var s="$jscomp_hidden_"+Math.random();a("freeze"),a("preventExtensions"),a("seal");var l=0;return t.prototype.set=function(e,t){if(!i(e))throw Error("Invalid WeakMap key");if(r(e),!R(e,s))throw Error("WeakMap key fail: "+e);return e[s][this.a]=t,this},t.prototype.get=function(e){return i(e)&&R(e,s)?e[s][this.a]:void 0},t.prototype.has=function(e){return i(e)&&R(e,s)&&R(e[s],this.a)},t.prototype.delete=function(e){return!!(i(e)&&R(e,s)&&R(e[s],this.a))&&delete e[s][this.a]},t})),l("Map",(function(e){function t(){var e={};return e.Ka=e.next=e.head=e}function n(e,t){var n=e.a;return u((function(){if(n){for(;n.head!=e.a;)n=n.Ka;for(;n.next!=n.head;)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}}))}function i(e,t){var n=t&&typeof t;"object"==n||"function"==n?a.has(t)?n=a.get(t):(n=""+ ++o,a.set(t,n)):n="p_"+t;var i=e.b[n];if(i&&R(e.b,n))for(var r=0;r<i.length;r++){var s=i[r];if(t!==t&&s.key!==s.key||t===s.key)return{id:n,list:i,index:r,aa:s}}return{id:n,list:i,index:-1,aa:void 0}}function r(e){if(this.b={},this.a=t(),this.size=0,e){e=c(e);for(var n;!(n=e.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(c([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var i=n.entries(),r=i.next();return!r.done&&r.value[0]==t&&"s"==r.value[1]&&!((r=i.next()).done||4!=r.value[0].x||"t"!=r.value[1]||!i.next().done)}catch(a){return!1}}())return e;var a=new WeakMap;r.prototype.set=function(e,t){var n=i(this,e=0===e?0:e);return n.list||(n.list=this.b[n.id]=[]),n.aa?n.aa.value=t:(n.aa={next:this.a,Ka:this.a.Ka,head:this.a,key:e,value:t},n.list.push(n.aa),this.a.Ka.next=n.aa,this.a.Ka=n.aa,this.size++),this},r.prototype.delete=function(e){return!(!(e=i(this,e)).aa||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this.b[e.id],e.aa.Ka.next=e.aa.next,e.aa.next.Ka=e.aa.Ka,e.aa.head=null,this.size--,!0)},r.prototype.clear=function(){this.b={},this.a=this.a.Ka=t(),this.size=0},r.prototype.has=function(e){return!!i(this,e).aa},r.prototype.get=function(e){return(e=i(this,e).aa)&&e.value},r.prototype.entries=function(){return n(this,(function(e){return[e.key,e.value]}))},r.prototype.keys=function(){return n(this,(function(e){return e.key}))},r.prototype.values=function(){return n(this,(function(e){return e.value}))},r.prototype.forEach=function(e,t){for(var n,i=this.entries();!(n=i.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},r.prototype[Symbol.iterator]=r.prototype.entries;var o=0;return r})),l("Set",(function(e){function t(e){if(this.a=new Map,e){e=c(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.a.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(c([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var i=n.entries(),r=i.next();return!r.done&&r.value[0]==t&&r.value[1]==t&&(!(r=i.next()).done&&r.value[0]!=t&&4==r.value[0].x&&r.value[1]==r.value[0]&&i.next().done)}catch(a){return!1}}()?e:(t.prototype.add=function(e){return e=0===e?0:e,this.a.set(e,e),this.size=this.a.size,this},t.prototype.delete=function(e){return e=this.a.delete(e),this.size=this.a.size,e},t.prototype.clear=function(){this.a.clear(),this.size=0},t.prototype.has=function(e){return this.a.has(e)},t.prototype.entries=function(){return this.a.entries()},t.prototype.values=function(){return this.a.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var n=this;this.a.forEach((function(i){return e.call(t,i,i,n)}))},t)})),l("Array.prototype.findIndex",(function(e){return e||function(e,t){return D(this,e,t).ba}})),l("Promise.prototype.finally",(function(e){return e||function(e){return this.then((function(t){return Promise.resolve(e()).then((function(){return t}))}),(function(t){return Promise.resolve(e()).then((function(){throw t}))}))}})),l("Array.prototype.keys",(function(e){return e||function(){return N(this,(function(e){return e}))}})),l("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),l("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var i=n.length,r=t||0;for(0>r&&(r=Math.max(r+i,0));r<i;r++){var a=n[r];if(a===e||Object.is(a,e))return!0}return!1}})),l("String.prototype.includes",(function(e){return e||function(e,t){return-1!==U(this,e,"includes").indexOf(e,t||0)}})),l("Array.prototype.values",(function(e){return e||function(){return N(this,(function(e,t){return t}))}})),l("Array.from",(function(e){return e||function(e,t,n){t=null!=t?t:function(e){return e};var i=[],r="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof r){e=r.call(e);for(var a=0;!(r=e.next()).done;)i.push(t.call(n,r.value,a++))}else for(r=e.length,a=0;a<r;a++)i.push(t.call(n,e[a],a));return i}})),l("Array.prototype.find",(function(e){return e||function(e,t){return D(this,e,t).ge}})),l("String.prototype.repeat",(function(e){return e||function(e){var t=U(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var n="";e;)1&e&&(n+=t),(e>>>=1)&&(t+=t);return n}})),l("String.prototype.startsWith",(function(e){return e||function(e,t){for(var n=U(this,e,"startsWith"),i=n.length,r=e.length,a=Math.max(0,Math.min(0|t,n.length)),o=0;o<r&&a<i;)if(n[a++]!=e[o++])return!1;return o>=r}})),l("Math.log2",(function(e){return e||function(e){return Math.log(e)/Math.LN2}}));var V="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)R(i,r)&&(e[r]=i[r])}return e};l("Object.assign",(function(e){return e||V})),l("Object.values",(function(e){return e||function(e){var t,n=[];for(t in e)R(e,t)&&n.push(e[t]);return n}}));var F=this||self;function B(e,t){var n,i=e.split("."),r=F;i[0]in r||"undefined"==typeof r.execScript||r.execScript("var "+i[0]);for(;i.length&&(n=i.shift());)i.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function H(e){this.c=Math.exp(Math.log(.5)/e),this.b=this.a=0}function z(e,t,n){var i=Math.pow(e.c,t);n=n*(1-i)+i*e.a,isNaN(n)||(e.a=n,e.b+=t)}function q(e){return e.a/(1-Math.pow(e.c,e.b))}function K(){this.b=new H(2),this.c=new H(5),this.a=0}function W(){}function X(){}function G(){}function Y(e,t){for(var n=[],i=1;i<arguments.length;++i)n[i-1]=arguments[i];$.has(e)||($.add(e),G.apply(W,d(n)))}function Q(){}K.prototype.getBandwidthEstimate=function(e){return 128e3>this.a?e:Math.min(q(this.b),q(this.c))};var $=new Set;if(e.console&&e.console.log.bind){var J={},Z=(J[1]=console.error.bind(console),J[2]=console.warn.bind(console),J[3]=console.info.bind(console),J[4]=console.log.bind(console),J[5]=console.debug.bind(console),J[6]=console.debug.bind(console),J);G=Z[2],X=Z[1]}function ee(e,t){for(var n=[],i=c(e),r=i.next();!r.done;r=i.next())n.push(t(r.value));return n}var te=function e(t){var n;return L(e,(function(e){return 1==e.a&&(n=0),3!=e.a?n<t?w(e,n,3):e.s(0):(n++,e.s(2))}))},ne=function e(t){var n,i,r,a,o,s;return L(e,(function(e){return 1==e.a&&(n=-1,r=i=void 0,a=c(t),o=a.next()),5!=e.a?o.done?-1==n?e.s(0):w(e,{ba:n,Ye:i,item:r,next:void 0},0):(s=o.value,0<=n?w(e,{ba:n,item:r,Ye:i,next:s},5):e.s(5)):(n++,i=r,r=s,o=a.next(),e.s(2))}))},ie=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function re(e){var t;e instanceof re?(ae(this,e.za),this.fb=e.fb,this.ya=e.ya,oe(this,e.xb),this.oa=e.oa,se(this,e.a.clone()),this.Xa=e.Xa):e&&(t=String(e).match(ie))?(ae(this,t[1]||"",!0),this.fb=le(t[2]||""),this.ya=le(t[3]||"",!0),oe(this,t[4]),this.oa=le(t[5]||"",!0),se(this,t[6]||"",!0),this.Xa=le(t[7]||"")):this.a=new ve(null)}function ae(e,t,n){e.za=n?le(t,!0):t,e.za&&(e.za=e.za.replace(/:$/,""))}function oe(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.xb=t}else e.xb=null}function se(e,t,n){t instanceof ve?e.a=t:(n||(t=ue(t,he)),e.a=new ve(t))}function le(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function ue(e,t,n){return null!=e?(e=encodeURI(e).replace(t,ce),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ce(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}(i=re.prototype).za="",i.fb="",i.ya="",i.xb=null,i.oa="",i.Xa="",i.toString=function(){var e=[],t=this.za;if(t&&e.push(ue(t,de,!0),":"),t=this.ya){e.push("//");var n=this.fb;n&&e.push(ue(n,de,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.xb)&&e.push(":",String(t))}return(t=this.oa)&&(this.ya&&"/"!=t.charAt(0)&&e.push("/"),e.push(ue(t,"/"==t.charAt(0)?fe:pe,!0))),(t=this.a.toString())&&e.push("?",t),(t=this.Xa)&&e.push("#",ue(t,me)),e.join("")},i.resolve=function(e){var t=this.clone();"data"===t.za&&(t=new re);var n=!!e.za;n?ae(t,e.za):n=!!e.fb,n?t.fb=e.fb:n=!!e.ya,n?t.ya=e.ya:n=null!=e.xb;var i=e.oa;if(n)oe(t,e.xb);else if(n=!!e.oa){if("/"!=i.charAt(0))if(this.ya&&!this.oa)i="/"+i;else{var r=t.oa.lastIndexOf("/");-1!=r&&(i=t.oa.substr(0,r+1)+i)}if(".."==i||"."==i)i="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var a=[],o=0;o<i.length;){var s=i[o++];"."==s?r&&o==i.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),r&&o==i.length&&a.push("")):(a.push(s),r=!0)}i=a.join("/")}}return n?t.oa=i:n=""!==e.a.toString(),n?se(t,e.a.clone()):n=!!e.Xa,n&&(t.Xa=e.Xa),t},i.clone=function(){return new re(this)};var de=/[#\/\?@]/g,pe=/[#\?:]/g,fe=/[#\?]/g,he=/[#\?@]/g,me=/#/g;function ve(e){this.a=e||null}function ye(e,t,n,i){for(var r=[],a=3;a<arguments.length;++a)r[a-3]=arguments[a];this.severity=e,this.category=t,this.code=n,this.data=r,this.handled=!1}function be(e){this.b=e,this.a=null}function ge(e){this.b=e,this.a=null}function ke(e,t){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0};this.j=null==e.maxAttempts?n.maxAttempts:e.maxAttempts,this.f=null==e.baseDelay?n.baseDelay:e.baseDelay,this.h=null==e.fuzzFactor?n.fuzzFactor:e.fuzzFactor,this.g=null==e.backoffFactor?n.backoffFactor:e.backoffFactor,this.a=0,this.b=this.f,(this.c=void 0!==t&&t)&&(this.a=1)}function we(e){var t,n;return M((function(i){if(1==i.a){if(e.a>=e.j){if(!e.c)throw new ye(2,7,1010);e.a=1,e.b=e.f}return t=e.a,e.a++,0==t?i.return():(n=e.b*(1+(2*Math.random()-1)*e.h),w(i,new Promise((function(e){new ge(e).R(n/1e3)})),2))}e.b*=e.g,_(i)}))}function _e(){var e,t,n=new Promise((function(n,i){e=n,t=i}));return n.resolve=e,n.reject=t,n}function Se(e,t){this.promise=e,this.c=t,this.a=!1}function Te(e){return new Se(Promise.reject(e),(function(){return Promise.resolve()}))}function xe(){var e=Promise.reject(new ye(2,7,7001));return e.catch((function(){})),new Se(e,(function(){return Promise.resolve()}))}function Oe(e){return new Se(Promise.resolve(e),(function(){return Promise.resolve()}))}function Ee(e){return new Se(e,(function(){return e.catch((function(){}))}))}function Pe(e){return new Se(Promise.all(e.map((function(e){return e.promise}))),(function(){return Promise.all(e.map((function(e){return e.abort()})))}))}function Ce(){}function Ae(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if(Ie(e)==Ie(t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;for(var n=Le(e),i=Le(t),r=c(te(e.byteLength)),a=r.next();!a.done;a=r.next())if(n[a=a.value]!=i[a])return!1;return!0}function Ie(e){return e instanceof ArrayBuffer?e:e.buffer}function je(e){return e instanceof ArrayBuffer?e:0==e.byteOffset&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer}function Le(e,t,n){return Re(e,void 0===t?0:t,n=void 0===n?1/0:n,Uint8Array)}function Me(e,t,n){return Re(e,void 0===t?0:t,n=void 0===n?1/0:n,DataView)}function Re(e,t,n,i){var r=(e.byteOffset||0)+e.byteLength;return t=Math.max(0,Math.min((e.byteOffset||0)+t,r)),new i(Ie(e),t,Math.min(t+Math.max(n,0),r)-t)}function De(t,n){for(var i in n=void 0===n?{}:n)Object.defineProperty(this,i,{value:n[i],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function Ne(){this.a={}}function Ue(){this.Qc=new Ne,this.fc=this}function Ve(e){var t=new Set;return function e(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||n.buffer&&n.buffer.constructor==ArrayBuffer)return n;if(t.has(n))return null;var i=n.constructor==Array;if(n.constructor!=Object&&!i)return null;t.add(n);var r,a=i?[]:{};for(r in n)a[r]=e(n[r]);return i&&(a.length=n.length),a}}(e)}function Fe(e){var t,n={};for(t in e)n[t]=e[t];return n}function Be(e,t){return!("number"!==typeof e||"number"!==typeof t||!isNaN(e)||!isNaN(t))||e===t}function He(e,t){var n=e.indexOf(t);-1<n&&e.splice(n,1)}function ze(e,t,n){if(n||(n=Be),e.length!=t.length)return!1;t=t.slice();for(var i={},r=(e=c(e)).next();!r.done;i={Ec:i.Ec},r=e.next()){if(i.Ec=r.value,-1==(r=t.findIndex(function(e){return function(t){return n(e.Ec,t)}}(i))))return!1;t[r]=t[t.length-1],t.pop()}return 0==t.length}function qe(e,t,n){if(n||(n=Be),e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1;return!0}function Ke(){this.a=[]}function We(e,t){e.a.push(t.finally((function(){He(e.a,t)})))}function Xe(e){Ue.call(this),this.f=!1,this.g=new Ke,this.a=new Set,this.b=new Set,this.c=e||null}function Ge(e,t,n){n=n||et;var i=tt[e];(!i||n>=i.priority)&&(tt[e]={priority:n,Xe:t})}function Ye(e,t,n){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,streamDataCallback:void 0===n?null:n}}function Qe(e,t,n,i,r,a,o){var s=new re(n.uris[r]),l=s.za,u=!1;l||(ae(s,l=(l=location.protocol).slice(0,-1)),n.uris[r]=s.toString()),l=l.toLowerCase();var c,d=(l=tt[l])?l.Xe:null;return d?Ee(we(i)).W((function(){return e.f?xe():(c=Date.now(),d(n.uris[r],n,t,(function(n,i,r){e.c&&t==Ze&&(e.c(n,i),u=!0,o.a=r)})))})).W((function(e){return void 0==e.timeMs&&(e.timeMs=Date.now()-c),{response:e,Pe:u}}),(function(s){if(e.f)return xe();if(s instanceof ye){if(7001==s.code)throw s;if(1010==s.code)throw a;if(1==s.severity){var l=new De("retry",{error:s});return e.dispatchEvent(l),r=(r+1)%n.uris.length,Qe(e,t,n,i,r,s,o)}}throw s})):Te(new ye(2,1,1e3,s))}function $e(){this.a=0}function Je(e,t,n){Se.call(this,e,t),this.b=n}(i=ve.prototype).la=null,i.nc=null,i.add=function(e,t){if(!this.la&&(this.la={},this.nc=0,this.a))for(var n=this.a.split("&"),i=0;i<n.length;i++){var r=n[i].indexOf("="),a=null;if(0<=r){var o=n[i].substring(0,r);a=n[i].substring(r+1)}else o=n[i];o=decodeURIComponent(o.replace(/\+/g," ")),a=a||"",this.add(o,decodeURIComponent(a.replace(/\+/g," ")))}return this.a=null,(n=this.la.hasOwnProperty(e)&&this.la[e])||(this.la[e]=n=[]),n.push(t),this.nc++,this},i.toString=function(){if(this.a)return this.a;if(!this.la)return"";var e,t=[];for(e in this.la)for(var n=encodeURIComponent(e),i=this.la[e],r=0;r<i.length;r++){var a=n;""!==i[r]&&(a+="="+encodeURIComponent(i[r])),t.push(a)}return this.a=t.join("&")},i.clone=function(){var e=new ve;if(e.a=this.a,this.la){var t,n={};for(t in this.la)n[t]=this.la[t].concat();e.la=n,e.nc=this.nc}return e},ye.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},B("shaka.util.Error",ye),ye.Severity={RECOVERABLE:1,CRITICAL:2},ye.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},ye.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,HLS_AES_128_ENCRYPTION_NOT_SUPPORTED:4034,HLS_INTERNAL_SKIP_STREAM:4035,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004},be.prototype.R=function(t){var n=this;this.stop();var i=!0,r=null;return this.a=function(){e.clearTimeout(r),i=!1},r=e.setTimeout((function(){i&&n.b()}),1e3*t),this},be.prototype.stop=function(){this.a&&(this.a(),this.a=null)},ge.prototype.Xb=function(){return this.stop(),this.b(),this},ge.prototype.R=function(e){var t=this;return this.stop(),this.a=new be((function(){t.b()})).R(e),this},ge.prototype.ta=function(e){var t=this;return this.stop(),this.a=new be((function(){t.a.R(e),t.b()})).R(e),this},ge.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)},B("shaka.util.Timer",ge),ge.prototype.stop=ge.prototype.stop,ge.prototype.tickEvery=ge.prototype.ta,ge.prototype.tickAfter=ge.prototype.R,ge.prototype.tickNow=ge.prototype.Xb,_e.prototype.resolve=function(){},_e.prototype.reject=function(){},Se.prototype.abort=function(){return this.a=!0,this.c()},Se.prototype.finally=function(e){return this.promise.then((function(){return e(!0)}),(function(){return e(!1)})),this},Se.prototype.W=function(e,t){function n(n){return function(s){if(r.a&&n)a.reject(o);else{var l=n?e:t;l?i=function(e,t,n){try{var i=e(t);return i&&i.promise&&i.abort?(n.resolve(i.promise),function(){return i.abort()}):(n.resolve(i),function(){return Promise.resolve(i).then((function(){}),(function(){}))})}catch(r){return n.reject(r),function(){return Promise.resolve()}}}(l,s,a):(n?a.resolve:a.reject)(s)}}}function i(){return a.reject(o),r.abort()}var r=this,a=new _e,o=new ye(2,7,7001);return this.promise.then(n(!0),n(!1)),new Se(a,(function(){return i()}))},B("shaka.util.AbortableOperation",Se),Se.prototype.chain=Se.prototype.W,Se.prototype.finally=Se.prototype.finally,Se.all=Pe,Se.prototype.abort=Se.prototype.abort,Se.notAbortable=Ee,Se.completed=Oe,Se.aborted=xe,Se.failed=Te,B("shaka.util.BufferUtils",Ce),Ce.toDataView=Me,Ce.toUint8=Le,Ce.toArrayBuffer=je,Ce.equal=Ae,De.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},De.prototype.stopImmediatePropagation=function(){this.a=!0},De.prototype.stopPropagation=function(){},B("shaka.util.FakeEvent",De),Ne.prototype.push=function(e,t){this.a.hasOwnProperty(e)?this.a[e].push(t):this.a[e]=[t]},Ne.prototype.get=function(e){return(e=this.a[e])?e.slice():null},Ne.prototype.remove=function(e,t){e in this.a&&(this.a[e]=this.a[e].filter((function(e){return e!=t})))},Ue.prototype.addEventListener=function(e,t){this.Qc.push(e,t)},Ue.prototype.removeEventListener=function(e,t){this.Qc.remove(e,t)},Ue.prototype.dispatchEvent=function(e){for(var t=this.Qc.get(e.type)||[],n=(t=c(t)).next();!n.done;n=t.next()){n=n.value,e.target=this.fc,e.currentTarget=this.fc;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch(i){}if(e.a)break}return e.defaultPrevented},Ke.prototype.destroy=function(){for(var e=[],t=c(this.a),n=t.next();!n.done;n=t.next())(n=n.value).promise.catch((function(){})),e.push(n.abort());return this.a=[],Promise.all(e)},y(Xe,Ue),(i=Xe.prototype).Ze=function(e){this.a.add(e)},i.sf=function(e){this.a.delete(e)},i.qe=function(){this.a.clear()},i.$e=function(e){this.b.add(e)},i.tf=function(e){this.b.delete(e)},i.re=function(){this.b.clear()},i.destroy=function(){return this.f=!0,this.a.clear(),this.b.clear(),this.g.destroy()},i.request=function(e,t){var n=this,i=new $e;if(this.f){var r=Promise.reject(new ye(2,7,7001));return r.catch((function(){})),new Je(r,(function(){return Promise.resolve()}),i)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?Ve(t.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},t.uris=Ve(t.uris);var a=(r=function(e,t,n){for(var i=Oe(void 0),r={},a=(e=c(e.a)).next();!a.done;r={Ic:r.Ic},a=e.next())r.Ic=a.value,i=i.W(function(e){return function(){return n.body&&(n.body=je(n.body)),e.Ic(t,n)}}(r));return i.W(void 0,(function(e){if(e instanceof ye&&7001==e.code)throw e;throw new ye(2,1,1006,e)}))}(this,e,t)).W((function(){return Qe(n,e,t,new ke(t.retryParameters,!1),0,null,i)})),o=a.W((function(t){return function(e,t,n){for(var i=Oe(void 0),r={},a=(e=c(e.b)).next();!a.done;r={Jc:r.Jc},a=e.next())r.Jc=a.value,i=i.W(function(e){return function(){var i=n.response;return i.data&&(i.data=je(i.data)),e.Jc(t,i)}}(r));return i.W((function(){return n}),(function(e){var t=2;if(e instanceof ye){if(7001==e.code)throw e;t=e.severity}throw new ye(t,1,1007,e)}))}(n,e,t)})),s=Date.now(),l=0;r.promise.then((function(){l=Date.now()-s}),(function(){}));var u=0;a.promise.then((function(){u=Date.now()}),(function(){}));var d=o.W((function(t){var i=Date.now()-u,r=t.response;return r.timeMs+=l,r.timeMs+=i,t.Pe||!n.c||r.fromCache||e!=Ze||n.c(r.timeMs,r.data.byteLength),r}),(function(e){throw e&&(e.severity=2),e}));return r=new Je(d.promise,(function(){return d.abort()}),i),We(this.g,r),r},B("shaka.net.NetworkingEngine",Xe),Xe.prototype.request=Xe.prototype.request,Xe.prototype.destroy=Xe.prototype.destroy,Xe.makeRequest=Ye,Xe.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0}},Xe.prototype.clearAllResponseFilters=Xe.prototype.re,Xe.prototype.unregisterResponseFilter=Xe.prototype.tf,Xe.prototype.registerResponseFilter=Xe.prototype.$e,Xe.prototype.clearAllRequestFilters=Xe.prototype.qe,Xe.prototype.unregisterRequestFilter=Xe.prototype.sf,Xe.prototype.registerRequestFilter=Xe.prototype.Ze,Xe.unregisterScheme=function(e){delete tt[e]},Xe.registerScheme=Ge,Xe.NumBytesRemainingClass=$e,y(Je,Se),Xe.PendingRequest=Je;var Ze=1;Xe.RequestType={MANIFEST:0,SEGMENT:Ze,LICENSE:2,APP:3,TIMING:4};var et=3;Xe.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:et};var tt={};function nt(e){this.a=!1,this.b=new _e,this.c=e}function it(e,t){if(e.a){if(t instanceof ye&&7003==t.code)throw t;throw new ye(2,7,7003,t)}}function rt(){this.a=new Ne}function at(e,t,n,i){this.target=e,this.type=t,this.listener=n,this.a=function(e,t){if(void 0==t)return!1;if("boolean"==typeof t)return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter((function(e){return!n.has(e)})),function(e){var t=ot;if(void 0==t){t=!1;try{var n={},i={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",i),Object.defineProperty(n,"capture",i),i=function(){},e.addEventListener("test",i,n),e.removeEventListener("test",i,n)}catch(r){t=!1}ot=t}return t||!1}(e)?t:t.capture||!1}(e,i),this.target.addEventListener(t,n,this.a)}nt.prototype.destroy=function(){var e=this;return this.a?this.b:(this.a=!0,this.c().then((function(){e.b.resolve()}),(function(){e.b.resolve()})))},(i=rt.prototype).release=function(){this.cb(),this.a=null},i.m=function(e,t,n,i){this.a&&(e=new at(e,t,n,i),this.a.push(t,e))},i.ma=function(e,t,n,i){var r=this;this.m(e,t,(function i(a){r.ua(e,t,i),n(a)}),i)},i.ua=function(e,t,n){if(this.a)for(var i=this.a.get(t)||[],r=(i=c(i)).next();!r.done;r=i.next())(r=r.value).target!=e||n!=r.listener&&n||(r.ua(),this.a.remove(t,r))},i.cb=function(){if(this.a){var e,t=this.a,n=[];for(e in t.a)n.push.apply(n,d(t.a[e]));for(n=(t=c(n)).next();!n.done;n=t.next())n.value.ua();this.a.a={}}},B("shaka.util.EventManager",rt),rt.prototype.removeAll=rt.prototype.cb,rt.prototype.unlisten=rt.prototype.ua,rt.prototype.listenOnce=rt.prototype.ma,rt.prototype.listen=rt.prototype.m,rt.prototype.release=rt.prototype.release,at.prototype.ua=function(){this.target.removeEventListener(this.type,this.listener,this.a),this.listener=this.target=null,this.a=!1};var ot=void 0;function st(e){this.b=e,this.a=void 0}function lt(){}function ut(e){return e?(239==(e=Le(e))[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),(e=(new TextDecoder).decode(e)).includes("\ufffd")&&X('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),e):""}function ct(e,t,n){if(!e)return"";if(!n&&0!=e.byteLength%2)throw new ye(2,2,2004);var i=Math.floor(e.byteLength/2);n=new Uint16Array(i),e=Me(e);for(var r=(i=c(te(i))).next();!r.done;r=i.next())n[r=r.value]=e.getUint16(2*r,t);return ht.value()(n)}function dt(e){function t(e){return n.byteLength<=e||32<=n[e]&&126>=n[e]}if(!e)return"";var n=Le(e);if(239==n[0]&&187==n[1]&&191==n[2])return ut(n);if(254==n[0]&&255==n[1])return ct(n.subarray(2),!1);if(255==n[0]&&254==n[1])return ct(n.subarray(2),!0);if(0==n[0]&&0==n[2])return ct(e,!1);if(0==n[1]&&0==n[3])return ct(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return ut(e);throw new ye(2,2,2003)}function pt(e){return je((new TextEncoder).encode(e))}function ft(e,t){for(var n=new ArrayBuffer(2*e.length),i=new DataView(n),r=c(ne(e)),a=r.next();!a.done;a=r.next())a=a.value,i.setUint16(2*a.ba,a.item.charCodeAt(0),t);return n}st.prototype.value=function(){return void 0==this.a&&(this.a=this.b()),this.a},B("shaka.util.StringUtils",lt),lt.resetFromCharCode=function(){ht.a=void 0},lt.toUTF16=ft,lt.toUTF8=pt,lt.fromBytesAutoDetect=dt,lt.fromUTF16=ct,lt.fromUTF8=ut;var ht=new st((function(){function e(e){try{var t=new Uint8Array(e);return 0<String.fromCharCode.apply(null,t).length}catch(n){return!1}}for(var t={Ma:65536};0<t.Ma;(t={Ma:t.Ma}).Ma/=2)if(e(t.Ma))return function(e){return function(t){for(var n="",i=0;i<t.length;i+=e.Ma)n+=String.fromCharCode.apply(null,t.subarray(i,i+e.Ma));return n}}(t);return null}));function mt(){}function vt(e){return new re(e=dt(e)).ya}function yt(e,t,n){function i(e){Me(a).setUint32(o,e.byteLength,!0),o+=4,a.set(Le(e),o),o+=e.byteLength}if(!n||!n.byteLength)throw new ye(2,6,6015);var r;r="string"==typeof t?ft(t,!0):t,e=ft(e=dt(e),!0);var a=new Uint8Array(12+e.byteLength+r.byteLength+n.byteLength),o=0;return i(e),i(r),i(n),a}function bt(e,t){this.a=e,this.b=t}function gt(e,t){var n=new bt(4,0),i=_t,r=i.a,a=n.b-r.b;(0<(n.a-r.a||a)?i.c:i.b)(i.a,n,e,t)}function kt(e,t,n,i){G([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",i].join(" "))}function wt(e,t,n,i){X([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",i].join(""))}B("shaka.util.FairPlayUtils",mt),mt.initDataTransform=yt,mt.defaultGetContentId=vt,bt.prototype.toString=function(){return"v"+this.a+"."+this.b};var _t=null;function St(e,t){return e.concat(t)}function Tt(){}function xt(e){return null!=e}function Ot(e){var t=Object.create(e.prototype||Object.prototype);try{var n=e.call(t);n||(gt("Factories requiring new","Factories should be plain functions"),n=t)}catch(i){gt("Factories requiring new","Factories should be plain functions"),n=new e}return n}function Et(e,t){if(0==t.length)return e;var n=t.map((function(e){return new re(e)}));return e.map((function(e){return new re(e)})).map((function(e){return n.map((function(t){return e.resolve(t)}))})).reduce(St,[]).map((function(e){return e.toString()}))}function Pt(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:t||[],keyIds:new Set}}var Ct={Ga:"video",kb:"audio",$:"text",Ef:"image",wf:"application"};function At(e){for(var t=new Map,n=c(Object.keys(e)),i=n.next();!i.done;i=n.next())i=i.value,t.set(i,e[i]);return t}function It(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}function jt(e,t){if(!e&&!t)return!0;if(e&&!t||t&&!e)return!1;if(e.size!=t.size)return!1;for(var n=c(e),i=n.next();!i.done;i=n.next()){var r=c(i.value);if(i=r.next().value,r=r.next().value,!t.has(i))return!1;if((i=t.get(i))!=r||void 0==i)return!1}return!0}function Lt(){}function Mt(e,t){var n=e;return t&&(n+='; codecs="'+t+'"'),n}function Rt(e){var t=(e=e.split("."))[0];return e.pop(),[t,e.join(".")]}var Dt=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");function Nt(){return!(!e.MediaSource||!MediaSource.isTypeSupported)}function Ut(e){return""!=qt().canPlayType(e)}function Vt(){return!!navigator.userAgent.match(/Edge?\//)}function Ft(){return zt("Tizen")}function Bt(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!Ft()}function Ht(){if(!Bt())return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function zt(e){return(navigator.userAgent||"").includes(e)}function qt(){return Wt||(Kt||(Kt=new ge((function(){Wt=null}))),(Wt=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(Wt=document.createElement("video")),Kt.R(1),Wt)}var Kt=null,Wt=null;function Xt(){}function Gt(e){return e=Le(e),e=ht.value()(e),btoa(e)}function Yt(e,t){t=void 0==t||t;var n=Gt(e).replace(/\+/g,"-").replace(/\//g,"_");return t?n:n.replace(/[=]*$/,"")}function Qt(t){var n=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));t=new Uint8Array(n.length);for(var i=(n=c(ne(n))).next();!i.done;i=n.next())t[(i=i.value).ba]=i.item.charCodeAt(0);return t}function $t(t){for(var n=t.length/2,i=new Uint8Array(n),r=(n=c(te(n))).next();!r.done;r=n.next())i[r=r.value]=e.parseInt(t.substr(2*r,2),16);return i}function Jt(e){var t=Le(e);e="";for(var n=(t=c(t)).next();!n.done;n=t.next())1==(n=(n=n.value).toString(16)).length&&(n="0"+n),e+=n;return e}function Zt(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];var i=0,r=c(t);for(n=r.next();!n.done;n=r.next())i+=n.value.byteLength;for(i=new Uint8Array(i),r=0,n=(t=c(t)).next();!n.done;n=t.next())n=n.value,i.set(Le(n),r),r+=n.byteLength;return i}function en(e,t){var n=this;t=void 0===t?1:t,this.o=e,this.l=new Set,this.a=this.h=null,this.L=!1,this.F=0,this.c=null,this.b=new rt,this.f=new Map,this.v=[],this.j=new _e,this.i=null,this.g=function(t){n.j.reject(t),e.onError(t)},this.ha=new Map,this.S=new Map,this.J=new ge((function(){return function(e){var t=e.ha,n=e.S;n.clear(),t.forEach((function(e,t){return n.set(t,e)})),(t=Array.from(n.values())).length&&t.every((function(e){return"expired"==e}))&&e.g(new ye(2,6,6014)),e.o.sc(It(n))}(n)})),this.A=!1,this.C=[],this.H=!1,this.X=new ge((function(){!function(e){e.f.forEach((function(t,n){var i=t.kd,r=n.expiration;isNaN(r)&&(r=1/0),r!=i&&(e.o.onExpirationUpdated(n.sessionId,r),t.kd=r)}))}(n)})).ta(t),this.j.catch((function(){})),this.D=new nt((function(){return function(e){return M((function(t){switch(t.a){case 1:return e.b.release(),e.b=null,e.j.reject(),e.X.stop(),e.X=null,e.J.stop(),e.J=null,w(t,mn(e),2);case 2:if(!e.a){t.s(3);break}return S(t,4),w(t,e.a.setMediaKeys(null),6);case 6:x(t,5);break;case 4:O(t);case 5:e.a=null;case 3:e.c=null,e.l.clear(),e.h=null,e.v=[],e.i=null,e.g=function(){},e.o=null,_(t)}}))}(n)}))}function tn(e,t,n){return e.v=n,e.A=0<n.length,nn(e,t)}function nn(t,n){var i=function(t){if(0==(t=At(t.i.clearKeys)).size)return null;var n=[],i=[];t.forEach((function(e,t){var r=$t(t),a=$t(e);r={kty:"oct",kid:Yt(r,!1),k:Yt(a,!1)},n.push(r),i.push(r.kid)})),t=JSON.stringify({keys:n});var r=JSON.stringify({kids:i});return r=[{initData:Le(pt(r)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:r,keyIds:new Set(i)}}(t);if(i)for(var r=c(n),a=r.next();!a.done;a=r.next())(a=a.value).video&&(a.video.drmInfos=[i]),a.audio&&(a.audio.drmInfos=[i]);for((i=n.some((function(e){return!!(e.video&&e.video.drmInfos.length||e.audio&&e.audio.drmInfos.length)})))||function(e,t){var n=[];t.forEach((function(e,t){n.push({keySystem:t,licenseServerUri:e,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:new Set})}));for(var i=c(e),r=i.next();!r.done;r=i.next())(r=r.value).video&&(r.video.drmInfos=n),r.audio&&(r.audio.drmInfos=n)}(n,r=At(t.i.servers)),a=(r=c(n)).next();!a.done;a=r.next())for(var o=(a=c(((a=a.value).video?a.video.drmInfos:[]).concat(a.audio?a.audio.drmInfos:[]))).next();!o.done;o=a.next())gn(o.value,At(t.i.servers),At(t.i.advanced||{}));return(r=function(e,t){for(var n=new Set,i=c(t),r=i.next();!r.done;r=i.next()){var a=c(((r=r.value).video?r.video.drmInfos:[]).concat(r.audio?r.audio.drmInfos:[]));for(r=a.next();!r.done;r=a.next())n.add(r.value)}for(i=c(n),r=i.next();!r.done;r=i.next())gn(r.value,At(e.i.servers),At(e.i.advanced||{}));a=e.A?"required":"optional";var o=e.A?["persistent-license"]:["temporary"];for(i=new Map,n=c(n),r=n.next();!r.done;r=n.next())r=r.value,i.set(r.keySystem,{audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:a,sessionTypes:o,label:r.keySystem,drmInfos:[]});for(n=c(t),r=n.next();!r.done;r=n.next())for(r=(a=c([(r=r.value).audio,r.video])).next();!r.done;r=a.next())if(o=r.value){var s=Mt(o.mimeType,o.codecs),l=null;"ac-3"==o.codecs.toLowerCase()&&Ft()&&(l=Mt(o.mimeType,"ec-3"));var u=c(o.drmInfos);for(r=u.next();!r.done;r=u.next()){var d=r.value;(r=i.get(d.keySystem)).drmInfos.push(d),d.distinctiveIdentifierRequired&&(r.distinctiveIdentifier="required"),d.persistentStateRequired&&(r.persistentState="required");var p={robustness:(d="audio"==o.type?d.audioRobustness:d.videoRobustness)||"",contentType:s};"audio"==o.type?r.audioCapabilities.push(p):r.videoCapabilities.push(p),l&&(d={robustness:d||"",contentType:l},"audio"==o.type?r.audioCapabilities.push(d):r.videoCapabilities.push(d))}}return i}(t,n)).size?(r=cn(t,r),i?r:r.catch((function(){}))):(t.L=!0,Promise.resolve())}function rn(e){return M((function(t){if(1==t.a)return e.h&&e.c&&e.c.serverCertificate&&e.c.serverCertificate.length?(S(t,3),w(t,e.h.setServerCertificate(e.c.serverCertificate),5)):t.s(0);if(3!=t.a)return x(t,0);throw new ye(2,6,6004,O(t).message)}))}function an(e){for(var t=(e.c?e.c.initData:[])||[],n=c(t),i=n.next();!i.done;i=n.next())on(e,(i=i.value).initDataType,i.initData);for(i=(n=c(e.v)).next();!i.done;i=n.next())dn(e,i.value);return t.length||e.v.length||e.j.resolve(),e.j}function on(e,t,n){for(var i=e.f.values(),r=(i=c(i)).next();!r.done;r=i.next())if(Ae(n,r.value.initData)&&!zt("Tizen 2"))return;!function(e,t,n){try{var i=e.A?e.h.createSession("persistent-license"):e.h.createSession()}catch(r){return void e.g(new ye(2,6,6005,r.message))}e.b.m(i,"message",(function(t){e.a&&e.i.delayLicenseRequestUntilPlayed&&e.a.paused&&!e.H?e.C.push(t):fn(e,t)})),e.b.m(i,"keystatuseschange",(function(t){return hn(e,t)})),e.f.set(i,{initData:n,loaded:!1,kd:1/0,Ea:null});try{n=e.i.initDataTransform(n,t,e.c)}catch(r){return t=r,r instanceof ye||(t=new ye(2,6,6016,r)),void e.g(t)}e.i.logLicenseExchange&&Yt(n),i.generateRequest(t,n).catch((function(t){if(!e.D.a){e.f.delete(i);var n=t.errorCode;if(n&&n.systemCode){var r=n.systemCode;0>r&&(r+=Math.pow(2,32)),r="0x"+r.toString(16)}e.g(new ye(2,6,6006,t.message,t,r))}}))}(e,t,n)}function sn(e){return e?e.keySystem:""}function ln(e,t){if(Vt())return!0;if(t=t.toLowerCase(),Ft()&&t.includes('codecs="ac-3"')){var n=t.replace("ac-3","ec-3");return e.l.has(t)||e.l.has(n)}return e.l.has(t)}function un(e){return e=ee(e=e.f.keys(),(function(e){return e.sessionId})),Array.from(e)}function cn(e,t){var n,i,r,a,o,s,l,u,d,p,f,h,m,v,y,b,g,k,_,T,E;return M((function(P){switch(P.a){case 1:if(1==t.size&&t.has(""))throw new ye(2,6,6e3);for(n=c(t.values()),i=n.next();!i.done;i=n.next())0==(r=i.value).audioCapabilities.length&&delete r.audioCapabilities,0==r.videoCapabilities.length&&delete r.videoCapabilities;o=c([!0,!1]),s=o.next();case 2:if(s.done){P.s(4);break}l=s.value,u=c(t.keys()),d=u.next();case 5:if(d.done){P.s(7);break}if(p=d.value,f=t.get(p),f.drmInfos.some((function(e){return!!e.licenseServerUri}))!=l){P.s(6);break}return S(P,8),w(P,navigator.requestMediaKeySystemAccess(p,[f]),10);case 10:a=P.b,P.s(7);break;case 8:O(P);case 9:it(e.D);case 6:d=u.next(),P.s(5);break;case 7:if(a){P.s(4);break}s=o.next(),P.s(2);break;case 4:if(!a)throw new ye(2,6,6001);for(it(e.D),S(P,11),e.l.clear(),h=a.getConfiguration(),m=h.audioCapabilities||[],v=h.videoCapabilities||[],y=c(m),b=y.next();!b.done;b=y.next())g=b.value,e.l.add(g.contentType.toLowerCase());for(k=c(v),b=k.next();!b.done;b=k.next())_=b.value,e.l.add(_.contentType.toLowerCase());if(e.c=function(e,t){var n=[],i=[],r=[],a=new Set;return function(e,t,n,i,r){for(var a={},o=(e=c(e)).next();!o.done;a={qa:a.qa},o=e.next()){if(a.qa=o.value,t.includes(a.qa.licenseServerUri)||t.push(a.qa.licenseServerUri),a.qa.serverCertificate&&(n.some(function(e){return function(t){return Ae(t,e.qa.serverCertificate)}}(a))||n.push(a.qa.serverCertificate)),a.qa.initData){o={};for(var s=c(a.qa.initData),l=s.next();!l.done;o={ac:o.ac},l=s.next())o.ac=l.value,i.some(function(e){return function(t){var n=e.ac;return!(!t.keyId||t.keyId!=n.keyId)||t.initDataType==n.initDataType&&Ae(t.initData,n.initData)}}(o))||i.push(o.ac)}if(a.qa.keyIds)for(s=(o=c(a.qa.keyIds)).next();!s.done;s=o.next())r.add(s.value)}}(t.drmInfos,n,i,r,a),{keySystem:e,licenseServerUri:n[0],distinctiveIdentifierRequired:"required"==t.distinctiveIdentifier,persistentStateRequired:"required"==t.persistentState,audioRobustness:(t.audioCapabilities?t.audioCapabilities[0].robustness:"")||"",videoRobustness:(t.videoCapabilities?t.videoCapabilities[0].robustness:"")||"",serverCertificate:i[0],initData:r,keyIds:a}}(a.keySystem,t.get(a.keySystem)),!e.c.licenseServerUri)throw new ye(2,6,6012,e.c.keySystem);return w(P,a.createMediaKeys(),13);case 13:return T=P.b,it(e.D),e.h=T,e.L=!0,w(P,rn(e),14);case 14:it(e.D),x(P,0);break;case 11:if(E=O(P),it(e.D,E),e.c=null,e.l.clear(),E instanceof ye)throw E;throw new ye(2,6,6002,E.message)}}))}function dn(e,t){var n,i,a,o,s;return M((function(l){switch(l.a){case 1:try{n=e.h.createSession("persistent-license")}catch(r){return i=new ye(2,6,6005,r.message),e.g(i),l.return(Promise.reject(i))}return e.b.m(n,"message",(function(t){e.a&&e.i.delayLicenseRequestUntilPlayed&&e.a.paused&&!e.H?e.C.push(t):fn(e,t)})),e.b.m(n,"keystatuseschange",(function(t){return hn(e,t)})),a={initData:null,loaded:!1,kd:1/0,Ea:null},e.f.set(n,a),S(l,2),w(l,n.load(t),4);case 4:return o=l.b,it(e.D),o?(a.loaded=!0,bn(e)&&e.j.resolve(),l.return(n)):(e.f.delete(n),e.g(new ye(2,6,6013)),l.return(Promise.resolve()));case 2:s=O(l),it(e.D,s),e.f.delete(n),e.g(new ye(2,6,6005,s.message));case 3:return l.return(Promise.resolve())}}))}function pn(e,t,n){return"skd"==t&&(t=n.serverCertificate,e=yt(e,n=vt(e),t)),e}function fn(e,t){var n,i,r,a,o,s,l,u,d,p,f,h;M((function(m){switch(m.a){case 1:return n=t.target,e.i.logLicenseExchange&&Yt(t.message),i=e.f.get(n),r=e.c.licenseServerUri,a=e.i.advanced[e.c.keySystem],"individualization-request"==t.messageType&&a&&a.individualizationServer&&(r=a.individualizationServer),(o=Ye([r],e.i.retryParameters)).body=t.message,o.method="POST",o.licenseRequestType=t.messageType,o.sessionId=n.sessionId,"com.microsoft.playready"!=e.c.keySystem&&"com.chromecast.playready"!=e.c.keySystem||function(e){var t=ct(e.body,!0,!0);if(t.includes("PlayReadyKeyMessage")){for(var n=c((t=(new DOMParser).parseFromString(t,"application/xml")).getElementsByTagName("HttpHeader")),i=n.next();!i.done;i=n.next())i=i.value,e.headers[i.getElementsByTagName("name")[0].textContent]=i.getElementsByTagName("value")[0].textContent;e.body=Qt(t.getElementsByTagName("Challenge")[0].textContent)}else e.headers["Content-Type"]="text/xml; charset=utf-8"}(o),s=Date.now(),S(m,2),w(m,e.o.ub.request(2,o).promise,4);case 4:l=m.b,x(m,3);break;case 2:return u=O(m),d=new ye(2,6,6007,u),e.g(d),i&&i.Ea&&i.Ea.reject(d),m.return();case 3:return e.D.a?m.return():(e.F+=(Date.now()-s)/1e3,e.i.logLicenseExchange&&Yt(l.data),S(m,5),w(m,n.update(l.data),7));case 7:x(m,6);break;case 5:return p=O(m),f=new ye(2,6,6008,p.message),e.g(f),i&&i.Ea&&i.Ea.reject(f),m.return();case 6:h=new De("drmsessionupdate"),e.o.onEvent(h),i&&(i.Ea&&i.Ea.resolve(),new ge((function(){i.loaded=!0,bn(e)&&e.j.resolve()})).R(wn)),_(m)}}))}function hn(e,t){var n=t.target,i=e.f.get(n),r=!1;n.keyStatuses.forEach((function(t,n){if("string"==typeof n){var a=n;n=t,t=a}if("com.microsoft.playready"==e.c.keySystem&&16==n.byteLength&&(zt("Trident/")||Vt())){var o=(a=Me(n)).getUint32(0,!0),s=a.getUint16(4,!0),l=a.getUint16(6,!0);a.setUint32(0,o,!1),a.setUint16(4,s,!1),a.setUint16(6,l,!1)}"com.microsoft.playready"==e.c.keySystem&&"status-pending"==t&&(t="usable"),"status-pending"!=t&&(i.loaded=!0),"expired"==t&&(r=!0),a=Jt(n),e.ha.set(a,t)}));var a=n.expiration-Date.now();(0>a||r&&1e3>a)&&i&&!i.Ea&&(e.f.delete(n),n.close().catch((function(){}))),bn(e)&&(e.j.resolve(),e.J.R(_n))}function mn(e){var t;return M((function(n){return t=Array.from(e.f.keys()),e.f.clear(),w(n,Promise.all(t.map((function(e){return M((function(t){return 1==t.a?(S(t,2),w(t,function(e){var t;return M((function(n){return 1==n.a?(t=new Promise((function(e,t){new ge(t).R(kn)})),S(n,2),w(n,Promise.race([Promise.all([e.close(),e.closed]),t]),4)):2!=n.a?x(n,0):(O(n),void _(n))}))}(e),4)):2!=t.a?x(t,0):(O(t),void _(t))}))}))),0)}))}function vn(e,t){var n=t.audio,i=t.video;if(n&&n.encrypted&&!ln(e,Mt(n.mimeType,n.codecs))||i&&i.encrypted&&!ln(e,Mt(i.mimeType,i.codecs)))return!1;var r=sn(e.c);return 0==(n=(i?i.drmInfos:[]).concat(n?n.drmInfos:[])).length||n.some((function(e){return e.keySystem==r}))}function yn(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],i=c(e),r=i.next();!r.done;r=i.next()){r=r.value;for(var a=c(t),o=a.next();!o.done;o=a.next())if(o=o.value,r.keySystem==o.keySystem){a=(a=(a=[]).concat(r.initData||[])).concat(o.initData||[]);var s=r.keyIds&&o.keyIds?new Set(d(r.keyIds).concat(d(o.keyIds))):r.keyIds||o.keyIds;n.push({keySystem:r.keySystem,licenseServerUri:r.licenseServerUri||o.licenseServerUri,distinctiveIdentifierRequired:r.distinctiveIdentifierRequired||o.distinctiveIdentifierRequired,persistentStateRequired:r.persistentStateRequired||o.persistentStateRequired,videoRobustness:r.videoRobustness||o.videoRobustness,audioRobustness:r.audioRobustness||o.audioRobustness,serverCertificate:r.serverCertificate||o.serverCertificate,initData:a,keyIds:s});break}}return n}function bn(e){return function(e,t){for(var n=c(e),i=n.next();!i.done;i=n.next())if(!t(i.value))return!1;return!0}(e=e.f.values(),(function(e){return e.loaded}))}function gn(t,n,i){!t.keySystem||"org.w3.clearkey"==t.keySystem&&t.licenseServerUri||(n.size&&(n=n.get(t.keySystem)||"",t.licenseServerUri=n),t.keyIds||(t.keyIds=new Set),(i=i.get(t.keySystem))&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=i.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=i.persistentStateRequired),t.videoRobustness||(t.videoRobustness=i.videoRobustness),t.audioRobustness||(t.audioRobustness=i.audioRobustness),t.serverCertificate||(t.serverCertificate=i.serverCertificate)),e.cast&&e.cast.__platform__&&"com.microsoft.playready"==t.keySystem&&(t.keySystem="com.chromecast.playready"))}B("shaka.util.Uint8ArrayUtils",Xt),Xt.concat=Zt,Xt.toHex=Jt,Xt.fromHex=$t,Xt.fromBase64=Qt,Xt.toBase64=Yt,Xt.toStandardBase64=Gt,Xt.equal=function(e,t){return gt("shaka.util.Uint8ArrayUtils.equal","Please use shaka.util.BufferUtils.equal instead."),Ae(e,t)},en.prototype.destroy=function(){return this.D.destroy()},en.prototype.configure=function(e){this.i=e},en.prototype.Gb=function(e){var t,n=this;return M((function(i){if(1==i.a)return n.h?(n.a=e,n.b.ma(n.a,"play",(function(){for(var e=c(n.C),t=e.next();!t.done;t=e.next())fn(n,t.value);n.H=!0,n.C=[]})),"webkitCurrentPlaybackTargetIsWireless"in n.a&&n.b.m(n.a,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return mn(n)})),w(i,n.a.setMediaKeys(n.h).catch((function(e){return Promise.reject(new ye(2,6,6003,e.message))})),2)):(n.b.ma(e,"encrypted",(function(){n.g(new ye(2,6,6010))})),i.return());it(n.D),an(n),n.c.initData.length||n.v.length||(t=function(e){return on(n,e.initDataType,Le(e.initData))},n.b.m(n.a,"encrypted",t)),_(i)}))},en.prototype.Lb=function(){for(var e=1/0,t=this.f.keys(),n=(t=c(t)).next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e};var kn=1,wn=5,_n=.5,Sn=new st((function(){return je(new Uint8Array([0]))}));function Tn(e,t,n){this.startTime=e,this.direction=In,this.endTime=t,this.payload=n,this.region=new Vn,this.position=null,this.positionAlign=On,this.size=0,this.textAlign=En,this.writingMode=jn,this.lineInterpretation=Ln,this.line=null,this.lineHeight="",this.lineAlign=Mn,this.displayAlign=Cn,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=Dn,this.fontStyle=Nn,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.spacer=!1,this.cellResolution={columns:32,rows:15}}function xn(e,t){for(var n in e)if("nestedCues"==n){if(!qe(e.nestedCues,t.nestedCues,xn))return!1}else if("region"==n||"cellResolution"==n){for(var i in e[n])if(e[n][i]!=t[n][i])return!1}else if(Array.isArray(e[n])){if(!qe(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}Tn.prototype.clone=function(){var e,t=new Tn(0,0,"");for(e in this)t[e]=this[e],t[e]&&t[e].constructor==Array&&(t[e]=t[e].slice());return t},B("shaka.text.Cue",Tn);var On="auto";Tn.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:On};var En="center",Pn={LEFT:"left",RIGHT:"right",CENTER:En,START:"start",END:"end"};Tn.textAlign=Pn;var Cn="after",An={BEFORE:"before",CENTER:"center",AFTER:Cn};Tn.displayAlign=An;var In="ltr";Tn.direction={HORIZONTAL_LEFT_TO_RIGHT:In,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var jn="horizontal-tb";Tn.writingMode={HORIZONTAL_TOP_TO_BOTTOM:jn,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var Ln=0;Tn.lineInterpretation={LINE_NUMBER:Ln,PERCENTAGE:1};var Mn="start",Rn={CENTER:"center",START:Mn,END:"end"};Tn.lineAlign=Rn;var Dn=400;Tn.fontWeight={NORMAL:Dn,BOLD:700};var Nn="normal",Un={NORMAL:Nn,ITALIC:"italic",OBLIQUE:"oblique"};function Vn(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Fn,this.scroll=Bn}Tn.fontStyle=Un,Tn.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},B("shaka.text.CueRegion",Vn);var Fn=1;Vn.units={PX:0,PERCENTAGE:Fn,LINES:2};var Bn="";function Hn(e,t,n,i,r){if(i>=r)return null;for(var a=-1,o=-1,s=0;s<n.length;s++)if(n[s].some((function(e){return null!=e&&""!=e.a.trim()}))){a=s;break}for(s=n.length-1;0<=s;s--)if(n[s].some((function(e){return null!=e&&""!=e.a.trim()}))){o=s;break}if(-1===a||-1===o)return null;for(var l=s=!1,u="white",c="black",d=zn(i,r,s,l,u,c);a<=o;a++){for(var p=n[a],f=-1,h=-1,m=0;m<p.length;m++)if(null!=p[m]&&""!==p[m].a.trim()){f=m;break}for(m=p.length-1;0<=m;m--)if(null!=p[m]&&""!==p[m].a.trim()){h=m;break}if(-1===f||-1===h)p=qn(i,r),e.nestedCues.push(p);else{for(;f<=h;f++)if(m=p[f]){var v=m.g,y=m.c,b=m.f,g=m.b;v==s&&y==l&&b==u&&g==c||(d.payload&&e.nestedCues.push(d),d=zn(i,r,v,y,b,g),s=v,l=y,u=b,c=g),d.payload+=m.a}else d.payload+=" ";d.payload&&e.nestedCues.push(d),a!==o&&(d=qn(i,r),e.nestedCues.push(d)),d=zn(i,r,s,l,u,c)}}return e.nestedCues.length?{cue:e,stream:t}:null}function zn(e,t,n,i,r,a){return e=new Tn(e,t,""),n&&e.textDecoration.push("underline"),i&&(e.fontStyle="italic"),e.color=r,e.backgroundColor=a,e}function qn(e,t){var n=new Tn(e,t,"");return n.spacer=!0,n}function Kn(e,t,n,i,r){this.a=e,this.g=t,this.c=n,this.b=i,this.f=r}function Wn(){this.g=!1,this.h=this.l=0,this.j=ei,this.c=[],this.a=this.b=this.f=0,this.F=this.A=!1,this.C="white",this.v="black",Xn(this)}function Xn(e){e.c=[];for(var t=0;15>t;t++)e.c.push(Gn())}function Gn(){for(var e=[],t=0;42>t;t++)e.push(null);return e}function Yn(e,t){Qn(e)&&(e.c[e.b][e.a]=new Kn(t,e.F,e.A,e.v,e.C),e.a++)}function Qn(e){var t=e.a<e.h&&0<=e.a;return e.b<e.l&&0<=e.b&&t}function $n(e,t,n){var i=new Tn(e.f,t,"");return i.textAlign=e.j===Jn?"left":e.j===Zn?"right":En,(n=Hn(i,"svc"+n,e.c,e.f,t))&&(e.f=t),n}Vn.scrollMode={NONE:Bn,UP:"up"},Wn.prototype.isVisible=function(){return this.g};var Jn=0,Zn=1,ei=2;function ti(){this.c=[],this.b=null,this.a=0}function ni(e,t){3===t.type?(e.a=2*(63&t.value)-1,e.b=[]):e.b&&(0<e.a&&(e.b.push(t),e.a--),0===e.a&&(e.c.push(new ii(e.b)),e.b=null,e.a=0))}function ii(e){this.a=0,this.b=e}function ri(e){if(!e.ga())throw new ye(2,2,3e3);return e.b[e.a++]}function ai(e){this.c=e,this.b=[null,null,null,null,null,null,null,null],this.a=null}function oi(e,t,n,i){if(128<=n&&135>=n)i=7&n,e.b[i]&&(e.a=e.b[i]);else{if(136===n){n=ri(t).value,t=null;for(var r=(n=c(si(e,n))).next();!r.done;r=n.next())(r=e.b[r.value]).isVisible()&&(t=$n(r,i,e.c)),Xn(r);return t}if(137===n)for(t=ri(t).value,n=(t=c(si(e,t))).next();!n.done;n=t.next())(n=e.b[n.value]).isVisible()||(n.f=i),n.g=!0;else{if(138===n){for(n=ri(t).value,t=null,r=(n=c(si(e,n))).next();!r.done;r=n.next())(r=e.b[r.value]).isVisible()&&(t=$n(r,i,e.c)),r.g=!1;return t}if(139===n){for(n=ri(t).value,t=null,r=(n=c(si(e,n))).next();!r.done;r=n.next())(r=e.b[r.value]).isVisible()?t=$n(r,i,e.c):r.f=i,r.g=!r.g;return t}if(140===n)return li(e,t=ri(t).value,i);if(143===n)return i=li(e,255,i),ui(e),i;if(144===n)t.skip(1),i=ri(t).value,e.a&&(e.a.A=0<(128&i),e.a.F=0<(64&i));else if(145===n)i=ri(t).value,n=ri(t).value,t.skip(1),e.a&&(t=ci((48&n)>>4,(12&n)>>2,3&n),e.a.C=ci((48&i)>>4,(12&i)>>2,3&i),e.a.v=t);else if(146===n)i=ri(t).value,t=ri(t).value,e.a&&((e=e.a).b=15&i,e.a=63&t);else if(151===n)t.skip(1),t.skip(1),i=ri(t).value,t.skip(1),e.a&&(e.a.j=3&i);else if(152<=n&&159>=n){if(n=(15&n)-8,!(r=null!==e.b[n])){var a=new Wn;a.f=i,e.b[n]=a}i=ri(t).value,ri(t),ri(t),a=ri(t).value;var o=ri(t).value;t=ri(t).value,r&&0===(7&t)||((t=e.b[n]).b=0,t.a=0,t.F=!1,t.A=!1,t.C="white",t.v="black"),(t=e.b[n]).g=0<(32&i),t.l=1+(15&a),t.h=1+(63&o),e.a=e.b[n]}}}return null}ii.prototype.ga=function(){return this.a<this.b.length},ii.prototype.Z=function(){return this.a},ii.prototype.skip=function(e){if(this.a+e>this.b.length)throw new ye(2,2,3e3);this.a+=e};var si=function e(t,n){var i;return L(e,(function(e){return 1==e.a&&(i=0),5!=e.a?8>i?1===(1&n)&&t.b[i]?w(e,i,5):e.s(5):e.s(0):(n>>=1,i++,e.s(2))}))};function li(e,t,n){for(var i=null,r=(t=c(si(e,t))).next();!r.done;r=t.next()){r=r.value;var a=e.b[r];a.isVisible()&&(i=$n(a,n,e.c)),e.b[r]=null}return i}function ui(e){e.a=null,e.b=[null,null,null,null,null,null,null,null]}function ci(e,t,n){var i={0:0,1:0,2:1,3:1};return pi[(e=i[e])<<2|(t=i[t])<<1|(n=i[n])]}var di=new Map([[32," "],[33,"\xa0"],[37,"\u2026"],[42,"\u0160"],[44,"\u0152"],[48,"\u2588"],[49,"\u2018"],[50,"\u2019"],[51,"\u201c"],[52,"\u201d"],[53,"\u2022"],[57,"\u2122"],[58,"\u0161"],[60,"\u0153"],[61,"\u2120"],[63,"\u0178"],[118,"\u215b"],[119,"\u215c"],[120,"\u215d"],[121,"\u215e"],[122,"\u2502"],[123,"\u2510"],[124,"\u2514"],[125,"\u2500"],[126,"\u2518"],[127,"\u250c"]]),pi="black blue green cyan red magenta yellow white".split(" ");function fi(e,t){this.c=[],this.a=1,this.b=0,this.v=e,this.l=t,this.f=this.h=!1,this.g="white",this.j="black",mi(this)}function hi(e,t,n){return Hn(new Tn(t,n,""),"CC"+(e.v<<1|e.l+1),e.c,t,n)}function mi(e){bi(e,0,15),e.a=1}function vi(e,t,n){if(!(32>n||127<n)){var i="";switch(t){case gi:i=Si.has(n)?Si.get(n):String.fromCharCode(n);break;case ki:i=Ti.get(n);break;case wi:e.c[e.a].pop(),i=xi.get(n);break;case _i:e.c[e.a].pop(),i=Oi.get(n)}i&&e.c[e.a].push(new Kn(i,e.h,e.f,e.j,e.g))}}function yi(e,t,n,i){if(t>=n)for(--i;0<=i;i--)e.c[t+i]=e.c[n+i].map((function(e){return e}));else for(var r=0;r<i;r++)e.c[t+r]=e.c[n+r].map((function(e){return e}))}function bi(e,t,n){for(var i=0;i<=n;i++)e.c[t+i]=[]}var gi=0,ki=1,wi=2,_i=3,Si=new Map([[39,"\u2019"],[42,"\xe1"],[92,"\xe9"],[92,"\xe9"],[94,"\xed"],[95,"\xf3"],[96,"\xfa"],[123,"\xe7"],[124,"\xf7"],[125,"\xd1"],[126,"\xf1"],[127,"\u2588"]]),Ti=new Map([[48,"\xae"],[49,"\xb0"],[50,"\xbd"],[51,"\xbf"],[52,"\u2122"],[53,"\xa2"],[54,"\xa3"],[55,"\u266a"],[56,"\xe0"],[57,"\u2800"],[58,"\xe8"],[59,"\xe2"],[60,"\xea"],[61,"\xee"],[62,"\xf4"],[63,"\xfb"]]),xi=new Map([[32,"\xc1"],[33,"\xc9"],[34,"\xd3"],[35,"\xda"],[36,"\xdc"],[37,"\xfc"],[38,"\u2018"],[39,"\xa1"],[40,"*"],[41,"'"],[42,"\u2500"],[43,"\xa9"],[44,"\u2120"],[45,"\xb7"],[46,"\u201c"],[47,"\u201d"],[48,"\xc0"],[49,"\xc2"],[50,"\xc7"],[51,"\xc8"],[52,"\xca"],[53,"\xcb"],[54,"\xeb"],[55,"\xce"],[56,"\xcf"],[57,"\xef"],[58,"\xd4"],[59,"\xd9"],[60,"\xf9"],[61,"\xdb"],[62,"\xab"],[63,"\xbb"]]),Oi=new Map([[32,"\xc3"],[33,"\xe3"],[34,"\xcd"],[35,"\xcc"],[36,"\xec"],[37,"\xd2"],[38,"\xf2"],[39,"\xd5"],[40,"\xf5"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"\xc4"],[49,"\xe4"],[50,"\xd6"],[51,"\xf6"],[52,"\xdf"],[53,"\xa5"],[54,"\xa4"],[55,"\u2502"],[56,"\xc5"],[57,"\xe5"],[58,"\xd8"],[59,"\xf8"],[60,"\u250c"],[61,"\u2510"],[62,"\u2514"],[63,"\u2518"]]);function Ei(e,t){this.b=Ii,this.j=new fi(e,t),this.c=new fi(e,t),this.g=new fi(e,t),this.a=this.c,this.f=0,this.h=null}function Pi(e,t,n){e.a=e.c;var i=e.a,r=null;return e.b!==Li&&e.b!==Mi&&(r=hi(i,e.f,n),(n=e.c).a=0<n.b?n.b:0,bi(n,0,15),(n=e.g).a=0<n.b?n.b:0,bi(n,0,15),i.a=15),e.b=Li,i.b=t,r}function Ci(e){e.b=ji,e.a=e.g,e.a.b=0}function Ai(e){Y("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.a=e.j,e.b=Mi}var Ii=0,ji=1,Li=3,Mi=4,Ri="black green blue cyan red yellow magenta black".split(" "),Di="white green blue cyan red yellow magenta white_italics".split(" ");function Ni(e,t){this.O=Me(e),this.b=t==Vi,this.a=0}function Ui(){return new ye(2,3,3e3)}(i=Ni.prototype).ga=function(){return this.a<this.O.byteLength},i.Z=function(){return this.a},i.ze=function(){return this.O.byteLength},i.V=function(){try{var e=this.O.getUint8(this.a);return this.a+=1,e}catch(t){throw Ui()}},i.yb=function(){try{var e=this.O.getUint16(this.a,this.b);return this.a+=2,e}catch(t){throw Ui()}},i.I=function(){try{var e=this.O.getUint32(this.a,this.b);return this.a+=4,e}catch(t){throw Ui()}},i.Vd=function(){try{var e=this.O.getInt32(this.a,this.b);return this.a+=4,e}catch(t){throw Ui()}},i.zb=function(){try{if(this.b)var e=this.O.getUint32(this.a,!0),t=this.O.getUint32(this.a+4,!0);else t=this.O.getUint32(this.a,!1),e=this.O.getUint32(this.a+4,!1)}catch(n){throw Ui()}if(2097151<t)throw new ye(2,3,3001);return this.a+=8,t*Math.pow(2,32)+e},i.Sa=function(e){if(this.a+e>this.O.byteLength)throw Ui();var t=Le(this.O,this.a,e);return this.a+=e,t},i.skip=function(e){if(this.a+e>this.O.byteLength)throw Ui();this.a+=e},i.Xd=function(e){if(this.a<e)throw Ui();this.a-=e},i.seek=function(e){if(0>e||e>this.O.byteLength)throw Ui();this.a=e},i.nd=function(){for(var e=this.a;this.ga()&&0!=this.O.getUint8(this.a);)this.a+=1;return e=Le(this.O,e,this.a-e),this.a+=1,ut(e)},B("shaka.util.DataViewReader",Ni),Ni.prototype.readTerminatedString=Ni.prototype.nd,Ni.prototype.seek=Ni.prototype.seek,Ni.prototype.rewind=Ni.prototype.Xd,Ni.prototype.skip=Ni.prototype.skip,Ni.prototype.readBytes=Ni.prototype.Sa,Ni.prototype.readUint64=Ni.prototype.zb,Ni.prototype.readInt32=Ni.prototype.Vd,Ni.prototype.readUint32=Ni.prototype.I,Ni.prototype.readUint16=Ni.prototype.yb,Ni.prototype.readUint8=Ni.prototype.V,Ni.prototype.getLength=Ni.prototype.ze,Ni.prototype.getPosition=Ni.prototype.Z,Ni.prototype.hasMoreData=Ni.prototype.ga;var Vi=1;function Fi(){this.b=[],this.a=[],this.c=new ti,this.g=0,this.l=new Map([["CC1",new Ei(0,0)],["CC2",new Ei(0,1)],["CC3",new Ei(1,0)],["CC4",new Ei(1,1)]]),this.j=this.h=0,this.f=new Map,Bi(this)}function Bi(e){e.h=0,e.j=0;for(var t=(e=c(e.l.values())).next();!t.done;t=e.next())(t=t.value).b=2,t.a=t.c,t.h=null,mi(t.c),mi(t.g),mi(t.j)}function Hi(e,t){var n=t.type;if(16===(112&t.sa)){var i=t.sa>>3&1;0===n?e.h=i:e.j=i}if(n=e.l.get("CC"+(n<<1|(n?e.j:e.h)+1)),255===t.sa&&255===t.Ia||!t.sa&&!t.Ia||!qi(t.sa)||!qi(t.Ia))return 45<=++e.g&&Bi(e),null;if(e.g=0,t.sa&=127,t.Ia&=127,!t.sa&&!t.Ia)return null;if(i=null,16===(112&t.sa))e:{var r=t.sa;if(i=t.Ia,n.h===(r<<8|i))n.h=null;else if(n.h=r<<8|i,16===(240&r)&&64===(192&i)){r=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&r)<<1|i>>5&1];var a=(30&i)>>1,o="white",s=!1;if(7>a?o=Di[a]:7===a&&(s=!0),i=1===(1&i),n.b!==Mi){if(a=n.a,n.b===Li&&r!==a.a){var l=1+r-a.b;yi(a,l,1+a.a-a.b,a.b),bi(a,0,l-1),bi(a,r+1,15-r)}a.a=r,n.a.h=i,n.a.f=s,n.a.g=o,n.a.j="black"}}else if(17===(247&r)&&32===(240&i))n.a.h=!1,n.a.f=!1,n.a.g="white",vi(n.a,gi,32),o=!1,"white_italics"===(r=Di[(14&i)>>1])&&(r="white",o=!0),n.a.h=1===(1&i),n.a.f=o,n.a.g=r;else if(16===(247&r)&&32===(240&i)||23===(247&r)&&45===(255&i))o="black",0===(7&r)&&(o=Ri[(14&i)>>1]),n.a.j=o;else if(17===(247&r)&&48===(240&i))vi(n.a,ki,i);else if(18===(246&r)&&32===(224&i))vi(n.a,1&r?_i:wi,i);else if(20===(246&r)&&32===(240&i)){switch(i=t.pts,r=null,t.Ia){case 32:Ci(n);break;case 33:(n=n.a).c[n.a].pop();break;case 37:r=Pi(n,2,i);break;case 38:r=Pi(n,3,i);break;case 39:r=Pi(n,4,i);break;case 40:vi(n.a,gi,32);break;case 41:n.b=2,n.a=n.c,n.a.b=0,n.f=i;break;case 42:mi(n.j),Ai(n);break;case 43:Ai(n);break;case 44:r=n.c,o=null,n.b!==Mi&&(o=hi(r,n.f,i)),bi(r,0,15),r=o;break;case 45:r=n.a,n.b!==Li?r=null:(o=hi(r,n.f,i),yi(r,(s=r.a-r.b+1)-1,s,r.b),bi(r,0,s-1),bi(r,r.a,15-r.a),n.f=i,r=o);break;case 46:bi(n.g,0,15);break;case 47:r=null,n.b!==Mi&&(r=hi(n.c,n.f,i)),o=n.g,n.g=n.c,n.c=o,Ci(n),n.f=i}i=r;break e}i=null}else r=t.Ia,vi(n.a,gi,t.sa),vi(n.a,gi,r);return i}function zi(e,t){var n=[];try{for(;t.ga();){var i=ri(t).value,r=(224&i)>>5,a=31&i;if(7===r&&0!=a&&(r=63&ri(t).value),0!=r){e.f.has(r)||e.f.set(r,new ai(r));for(var o=e.f.get(r),s=t.Z();t.Z()-s<a;){var l=ri(r=t),u=l.value,c=l.pts;if(16===u)u=u<<16|ri(r).value;if(0<=u&&31>=u){var d=c;if(o.a){var p=o.a;switch(r=null,u){case 8:!Qn(p)||0>=p.a&&0>=p.b||(0>=p.a?(p.a=p.h-1,p.b--):p.a--,p.c[p.b][p.a]=null);break;case 13:if(p.isVisible()&&(r=$n(p,d,o.c)),p.b+1>=p.l){d=p;for(var f=0,h=1;15>h;h++,f++)d.c[f]=d.c[h];for(h=0;1>h;h++,f++)d.c[f]=Gn()}else p.b++;p.a=0;break;case 14:p.isVisible()&&(r=$n(p,d,o.c)),p.c[p.b]=Gn(),p.a=0;break;case 12:p.isVisible()&&(r=$n(p,d,o.c)),Xn(p),(d=p).b=0,d.a=0}var m=r}else m=null}else if(128<=u&&159>=u)m=oi(o,r,u,c);else{if(4096<=u&&4127>=u)8<=(d=255&u)&&15>=d?r.skip(1):16<=d&&23>=d?r.skip(2):24<=d&&31>=d&&r.skip(3);else if(4224<=u&&4255>=u)128<=(d=255&u)&&135>=d?r.skip(4):136<=d&&143>=d&&r.skip(5);else if(32<=u&&127>=u)r=u,o.a&&Yn(o.a,127===r?"\u266a":String.fromCharCode(r));else if(160<=u&&255>=u)o.a&&Yn(o.a,String.fromCharCode(u));else if(4128<=u&&4223>=u){if(r=255&u,o.a)if(di.has(r)){var v=di.get(r);Yn(o.a,v)}else Yn(o.a,"_")}else 4256<=u&&4351>=u&&o.a&&Yn(o.a,160!=(255&u)?"_":"[CC]");m=null}(r=m)&&n.push(r)}}}}catch(y){if(!(y instanceof ye&&3e3===y.code))throw y;Y("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.")}return n}function qi(e){for(var t=0;e;)t^=1&e,e>>=1;return 1===t}function Ki(){}Ni.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:Vi};var Wi=function e(t,n){var i,r,a,o;return L(e,(function(e){if(1==e.a){for(var t=0,s=0,l=0;s<n.length;)2==t&&3==n[s]?t=0:(0==n[s]?t++:t=0,n[l]=n[s],l++),s++;i=s-l,r=0}if(4!=e.a){if(!(r+i<n.length))return e.s(0);for(a=0;255==n[r];)a+=255,r++;for(a+=n[r++],o=0;255==n[r];)o+=255,r++;return o+=n[r++],4!=a?e.s(4):w(e,n.subarray(r,r+o),4)}return r+=o,e.s(2)}))};function Xi(){this.c=[],this.b=[],this.a=!1}function Gi(e){for(var t=null!=e.flags?12:8;e.reader.ga()&&!e.parser.a;)e.parser.uc(e.start+t,e.reader,e.partialOkay)}function Yi(e){for(var t=null!=e.flags?12:8,n=e.reader.I(),i=(n=c(te(n))).next();!i.done&&(e.parser.uc(e.start+t,e.reader,e.partialOkay),!e.parser.a);i=n.next());}function Qi(e){return function(t){e(t.reader.Sa(t.reader.O.byteLength-t.reader.Z()))}}function $i(e){for(var t=0,n=(e=c(e)).next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function Ji(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}(i=Xi.prototype).box=function(e,t){var n=$i(e);return this.c[n]=Zi,this.b[n]=t,this},i.U=function(e,t){var n=$i(e);return this.c[n]=er,this.b[n]=t,this},i.stop=function(){this.a=!0},i.parse=function(e,t,n){for(e=new Ni(e,0),this.a=!1;e.ga()&&!this.a;)this.uc(0,e,t,n)},i.uc=function(e,t,n,i){var r=t.Z(),a=t.I(),o=t.I();switch(a){case 0:a=t.O.byteLength-r;break;case 1:a=t.zb()}var s=this.b[o];if(s){var l=null,u=null;this.c[o]==er&&(l=(u=t.I())>>>24,u&=16777215),o=r+a,n&&o>t.O.byteLength&&(o=t.O.byteLength),i&&o>t.O.byteLength?this.a=!0:(i=o-t.Z(),s({parser:this,partialOkay:n||!1,version:l,flags:u,reader:t=new Ni(t=0<i?t.Sa(i):new Uint8Array(0),0),size:a,start:r+e}))}else t.skip(Math.min(r+a-t.Z(),t.O.byteLength-t.Z()))},B("shaka.util.Mp4Parser",Xi),Xi.typeToString=Ji,Xi.allData=Qi,Xi.sampleDescription=Yi,Xi.children=Gi,Xi.prototype.parseNext=Xi.prototype.uc,Xi.prototype.parse=Xi.prototype.parse,Xi.prototype.stop=Xi.prototype.stop,Xi.prototype.fullBox=Xi.prototype.U,Xi.prototype.box=Xi.prototype.box;var Zi=0,er=1;function tr(e,t){var n=null,i=null,r=e.I();return 1&t&&e.skip(8),2&t&&e.skip(4),8&t&&(n=e.I()),16&t&&(i=e.I()),{trackId:r,Hd:n,te:i}}function nr(e,t){return{Uc:1==t?e.zb():e.I()}}function ir(e,t){return 1==t?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),{timescale:e.I()}}function rr(e,t,n){var i=e.I(),r=[];1&n&&e.skip(4),4&n&&e.skip(4);for(var a=c(te(i)),o=a.next();!o.done;o=a.next())o={rd:null,sampleSize:null,wc:null},256&n&&(o.rd=e.I()),512&n&&(o.sampleSize=e.I()),1024&n&&e.skip(4),2048&n&&(o.wc=0==t?e.I():e.Vd()),r.push(o);return{ag:i,Yd:r}}function ar(){this.f=new Ki,this.c=new Map,this.b=this.a=0}function or(){this.b=new ar,this.a=new Fi}function sr(e,t){for(var n=e.b.parse(t),i=(n=c(n)).next();!i.done;i=n.next()){var r=i.value,a=Le(r.We);if(i=e.a,r=r.pts,181===(a=new Ni(a,0)).V()&&49===a.yb()&&1195456820===a.I()&&3===a.V()){var o=a.V();if(0!==(64&o)){o&=31,a.skip(1);for(var s=0;s<o;s++){var l=a.V(),u=(4&l)>>2,p=a.V(),f=a.V();u&&(0===(l&=3)||1===l?i.b.push({pts:r,type:l,sa:p,Ia:f,order:i.b.length}):(i.a.push({pts:r,type:l,value:p,order:i.a.length}),i.a.push({pts:r,type:2,value:f,order:i.a.length})))}}}}return function(e){function t(e,t){return e.pts-t.pts||e.order-t.order}var n=[];e.b.sort(t),e.a.sort(t);for(var i=c(e.b),r=i.next();!r.done;r=i.next())(r=Hi(e,r.value))&&n.push(r);for(r=(i=c(e.a)).next();!r.done;r=i.next())ni(e.c,r.value);for(r=(i=c(e.c.c)).next();!r.done;r=i.next())r=zi(e,r.value),n.push.apply(n,d(r));return e.c.c=[],e.b=[],e.a=[],n}(e.a)}function lr(e){return!e||1==e.length&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null}function ur(e,t,n){return n=void 0===n?0:n,!(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0)||t>e.end(e.length-1))&&t+n>=e.start(0)}function cr(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return 0;for(var n=0,i=c(dr(e)),r=i.next();!r.done;r=i.next()){var a=r.value;r=a.start,(a=a.end)>t&&(n+=a-Math.max(r,t))}return n}function dr(e){if(!e)return[];for(var t=[],n=c(te(e.length)),i=n.next();!i.done;i=n.next())i=i.value,t.push({start:e.start(i),end:e.end(i)});return t}function pr(){}ar.prototype.init=function(e){var t=this,n=[],i=[];if((new Xi).box("moov",Gi).box("mvex",Gi).U("trex",(function(e){var n=e.reader;n.skip(4),n.skip(4),e=n.I(),n=n.I(),t.a=e,t.b=n})).box("trak",Gi).U("tkhd",(function(e){var t=e.reader;1==e.version?(t.skip(8),t.skip(8),e=t.zb()):(t.skip(4),t.skip(4),e=t.I()),n.push(e)})).box("mdia",Gi).U("mdhd",(function(e){e=ir(e.reader,e.version),i.push(e.timescale)})).parse(e,!0),!n.length||!i.length||n.length!=i.length)throw new ye(2,2,2010);n.forEach((function(e,n){t.c.set(e,i[n])}))},ar.prototype.parse=function(e){var t=this,n=[],i=this.a,r=this.b,a=[],o=null,s=9e4;return(new Xi).box("moof",Gi).box("traf",Gi).U("trun",(function(e){a=rr(e.reader,e.version,e.flags).Yd})).U("tfhd",(function(e){e=tr(e.reader,e.flags),i=e.Hd||t.a,r=e.te||t.b,e=e.trackId,t.c.has(e)&&(s=t.c.get(e))})).U("tfdt",(function(e){o=nr(e.reader,e.version).Uc})).box("mdat",(function(e){if(null===o)throw new ye(2,2,2010);e=e.reader;var l=o,u=s,d=i,p=r,f=a,h=0,m=p;for(f.length&&(m=f[0].sampleSize||p);e.ga();){var v=e.I();if(6==(31&e.V())){var y=0;f.length>h&&(y=f[h].wc||0),y=(l+y)/u;for(var b=c(Wi(t.f,e.Sa(v-1))),g=b.next();!g.done;g=b.next())n.push({We:g.value,pts:y})}else e.skip(v-1);0==(m-=v+4)&&(l=f.length>h?l+(f[h].rd||d):l+d,h++,m=f.length>h&&f[h].sampleSize||p)}})).parse(e,!1),n},or.prototype.init=function(e){this.b.init(e)},B("shaka.dependencies",pr),pr.has=function(e){return fr.has(e)},pr.add=function(e,t){if(!hr[e])throw Error(e+" is not supported");fr.set(e,t)};var fr=new Map,hr={muxjs:"muxjs"};function mr(){var e=this;this.j=fr.get("muxjs"),this.a=new this.j.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.b=null,this.h=[],this.c=[],this.g=[],this.f=!1,this.a.on("data",(function(t){e.c=t.captions,e.g=t.metadata,e.h.push(Zt(t.initSegment,t.data))})),this.a.on("done",(function(){var t={data:Zt.apply(Xt,d(e.h)),captions:e.c,metadata:e.g};e.b.resolve(t),e.f=!1}))}function vr(e,t){if(!fr.get("muxjs")||"mp2t"!=e.toLowerCase().split(";")[0].split("/")[1])return!1;if(t)return MediaSource.isTypeSupported(yr(t,e));var n=yr("audio",e),i=yr("video",e);return MediaSource.isTypeSupported(n)||MediaSource.isTypeSupported(i)}function yr(e,t){var n=t.replace(/mp2t/i,"mp4");"audio"==e&&(n=n.replace("video","audio"));var i=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(i){var r="avc1.",a=i[1],o=Number(i[2]);r=("66"==a?r+"4200":"77"==a?r+"4d00":r+"6400")+(o>>4).toString(16),r+=(15&o).toString(16),n=n.replace(i[0],r)}return n}function br(e){this.j=null,this.c=e,this.f=this.v=0,this.g=1/0,this.b=this.a=null,this.l="",this.h=new Map}function gr(e){return!(!wr[e]&&"application/cea-608"!=e&&"application/cea-708"!=e)}function kr(e,t,n,i,r){for(var a=n+" "+i,o=new Map,s=(t=c(t)).next();!s.done;s=t.next()){var l=s.value;s=l.stream,l=l.cue,o.has(s)||o.set(s,new Map),o.get(s).has(a)||o.get(s).set(a,[]),l.startTime+=r,l.endTime+=r,l.startTime>=e.f&&l.startTime<e.g&&(o.get(s).get(a).push(l),s==e.l&&e.c.append([l]))}for(a=(r=c(o.keys())).next();!a.done;a=r.next())for(a=a.value,e.h.has(a)||e.h.set(a,new Map),s=(t=c(o.get(a).keys())).next();!s.done;s=t.next())s=s.value,l=o.get(a).get(s),e.h.get(a).set(s,l);e.a=null==e.a?Math.max(n,e.f):Math.min(e.a,Math.max(n,e.f)),e.b=Math.max(e.b,Math.min(i,e.g))}pr.Allowed=hr,fr.set("muxjs",e.muxjs),mr.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},br.prototype.destroy=function(){return this.c=this.j=null,this.h.clear(),Promise.resolve()},br.prototype.remove=function(e,t){var n=this;return M((function(i){if(1==i.a)return w(i,Promise.resolve(),2);!n.c||!n.c.remove(e,t)||null==n.a||t<=n.a||e>=n.b||(e<=n.a&&t>=n.b?n.a=n.b=null:e<=n.a&&t<n.b?n.a=t:e>n.a&&t>=n.b&&(n.b=e)),_(i)}))},B("shaka.text.TextEngine",br),br.prototype.destroy=br.prototype.destroy,br.unregisterParser=function(e){delete wr[e]},br.registerParser=function(e,t){wr[e]=t};var wr={};function _r(e,t,n,i){var r=this;this.a=e,this.h=n,this.f={},this.c=null,this.C=i||function(){},this.g={},this.b=new rt,this.l={},this.v=t,this.A=new _e,this.j=function(e,t){var n=new MediaSource;return e.b.ma(n,"sourceopen",t.resolve),e.a.src=Nr(n),n}(this,this.A),this.D=new nt((function(){return function(e){var t,n,i,r,a,o,s;return M((function(l){if(1==l.a){for(n in t=[],e.g)for(i=e.g[n],r=i[0],e.g[n]=i.slice(0,1),r&&t.push(r.p.catch(Tt)),a=c(i.slice(1)),o=a.next();!o.done;o=a.next())o.value.p.reject(new ye(2,7,7003,void 0));for(s in e.c&&t.push(e.c.destroy()),e.h&&t.push(e.h.destroy()),e.l)t.push(e.l[s].destroy());return w(l,Promise.all(t),2)}e.b&&(e.b.release(),e.b=null),e.a&&(e.a.removeAttribute("src"),e.a.load(),e.a=null),e.j=null,e.c=null,e.h=null,e.f={},e.l={},e.v=null,e.g={},_(l)}))}(r)}))}function Sr(e){var t=Mt(e.mimeType,e.codecs),n=function(e){var t=[e.mimeType];return Dt.forEach((function(n,i){var r=e[i];r&&t.push(n+'="'+r+'"')})),t.join(";")}(e);return gr(t)||MediaSource.isTypeSupported(n)||vr(t,e.type)}function Tr(e,t){e.c||(e.c=new br(e.h)),"application/cea-608"!=t&&"application/cea-708"!=t&&(e.c.j=Ot(wr[t]))}function xr(e){return!e.j||"ended"==e.j.readyState}function Or(e,t){if("text"==t)var n=e.c.a;else n=!(n=Pr(e,t))||1==n.length&&1e-6>n.end(0)-n.start(0)?null:1==n.length&&0>n.start(0)?0:n.length?n.start(0):null;return n}function Er(e,t){return"text"==t?e.c.b:lr(Pr(e,t))}function Pr(e,t){try{return e.f[t].buffered}catch(n){return null}}function Cr(e,t,n,i,r,a){var o,s,l,u,d,p,f;return M((function(h){return 1==h.a?t==(o=Ct).$?w(h,function(e,t,n,i){var r,a,o;return M((function(s){return 1==s.a?w(s,Promise.resolve(),2):e.j&&e.c?null==n||null==i?(e.j.parseInit(Le(t)),s.return()):(r={periodStart:e.v,segmentStart:n,segmentEnd:i},a=e.j.parseMedia(Le(t),r),o=a.filter((function(t){return t.startTime>=e.f&&t.startTime<e.g})),e.c.append(o),null==e.a&&(e.a=Math.max(n,e.f)),e.b=Math.min(i,e.g),void _(s)):s.return()}))}(e.c,n,i,r),0):e.l[t]?w(h,function(e,t){e.f=!0,e.b=new _e,e.h=[],e.c=[],e.g=[];var n=Le(t);return e.a.push(n),e.a.flush(),e.f&&e.b.reject(new ye(2,3,3018)),e.b}(e.l[t],n),10):(a&&(e.c||Tr(e,"text/vtt"),null==i&&null==r?e.v.init(n):(s=sr(e.v,n)).length&&(l=e.f[o.Ga].timestampOffset,kr(e.c,s,i,r,l))),w(h,Lr(e,t,(function(){e.f[t].appendBuffer(n)})),0)):(u=h.b,e.c||Tr(e,"text/vtt"),u.metadata&&(d=e.f[t].timestampOffset,e.C(u.metadata,d,r)),u.captions&&u.captions.length&&(p=e.f[o.Ga].timestampOffset,f=function(e){for(var t=[],n=(e=c(e)).next();!n.done;n=e.next())n=n.value,t.push({stream:n.stream,cue:new Tn(n.startTime,n.endTime,n.text)});return t}(u.captions),kr(e.c,f,i,r,p)),w(h,Lr(e,t,(function(){e.f[t].appendBuffer(u.data)})),0))}))}function Ar(e,t){var n=Er(e,"video")||0;!function(e,t,n){if(e.l=t,t=e.h.get(t))for(var i=c(t.keys()),r=i.next();!r.done;r=i.next())(r=t.get(r.value).filter((function(e){return e.endTime<=n})))&&e.c.append(r)}(e.c,t,n)}function Ir(e,t){return M((function(n){return t==Ct.$?e.c?w(n,e.c.remove(0,1/0),0):n.return():w(n,Lr(e,t,(function(){var n=e.j.duration;0>=n?jr(e,t):e.f[t].remove(0,n)})),0)}))}function jr(e,t){var n=e.g[t][0];n&&(n.p.resolve(),Rr(e,t))}function Lr(e,t,n){return it(e.D),n={start:n,p:new _e},e.g[t].push(n),1==e.g[t].length&&Dr(e,t),n.p}function Mr(e,t){var n,i,r,a,o;return M((function(s){switch(s.a){case 1:for(r in it(e.D),n=[],i={},e.f)i.Eb=new _e,a={start:function(e){return function(){return e.Eb.resolve()}}(i),p:i.Eb},e.g[r].push(a),n.push(i.Eb),1==e.g[r].length&&a.start(),i={Eb:i.Eb};return S(s,2),w(s,Promise.all(n),4);case 4:x(s,3);break;case 2:throw O(s);case 3:try{t()}catch(l){throw new ye(2,3,3015,l)}finally{for(o in e.f)Rr(e,o)}_(s)}}))}function Rr(e,t){e.g[t].shift(),Dr(e,t)}function Dr(e,t){var n=e.g[t][0];if(n)try{n.start()}catch(i){"QuotaExceededError"==i.name?n.p.reject(new ye(2,3,3017,t)):n.p.reject(new ye(2,3,3015,i)),Rr(e,t)}}(i=_r.prototype).destroy=function(){return this.D.destroy()},i.init=function(e,t){var n,i,r,a,o,s,l,u=this;return M((function(d){if(1==d.a)return n=Ct,w(d,u.A,2);for(i={},r=c(e.keys()),a=r.next();!a.done;i={pa:i.pa},a=r.next())i.pa=a.value,o=e.get(i.pa),s=Mt(o.mimeType,o.codecs),i.pa==n.$?Tr(u,s):(!t&&MediaSource.isTypeSupported(s)||!vr(s,i.pa)||(u.l[i.pa]=new mr,s=yr(i.pa,s)),l=u.j.addSourceBuffer(s),u.b.m(l,"error",function(e){return function(){u.g[e.pa][0].p.reject(new ye(2,3,3014,u.a.error?u.a.error.code:0))}}(i)),u.b.m(l,"updateend",function(e){return function(){return jr(u,e.pa)}}(i)),u.f[i.pa]=l,u.g[i.pa]=[]);_(d)}))},i.oc=function(){var e={total:dr(this.a.buffered),audio:dr(Pr(this,"audio")),video:dr(Pr(this,"video")),text:[]};if(this.c){var t=this.c.a,n=this.c.b;null!=t&&null!=n&&e.text.push({start:t,end:n})}return e},i.remove=function(e,t,n){var i=this;return M((function(r){return w(r,e==Ct.$?i.c.remove(t,n):Lr(i,e,(function(){n<=t?jr(i,e):i.f[e].remove(t,n)})),0)}))},i.flush=function(e){var t=this;return M((function(n){return e==Ct.$?n.return():w(n,Lr(t,e,(function(){t.a.currentTime-=.001,jr(t,e)})),0)}))},i.endOfStream=function(e){var t=this;return M((function(n){return w(n,Mr(t,(function(){xr(t)||(e?t.j.endOfStream(e):t.j.endOfStream())})),0)}))},i.Da=function(e){var t=this;return M((function(n){return w(n,Mr(t,(function(){t.j.duration=e})),0)}))},i.getDuration=function(){return this.j.duration};var Nr=e.URL.createObjectURL;function Ur(e,t){return e=Br(e),t=Br(t),e.split("-")[0]==t.split("-")[0]}function Vr(e,t){e=Br(e),t=Br(t);var n=e.split("-"),i=t.split("-");return n[0]==i[0]&&1==n.length&&2==i.length}function Fr(e,t){e=Br(e),t=Br(t);var n=e.split("-"),i=t.split("-");return 2==n.length&&2==i.length&&n[0]==i[0]}function Br(e){var t=e.split("-");return e=t[0]||"",t=t[1]||"",e=e.toLowerCase(),e=Kr.get(e)||e,(t=t.toUpperCase())?e+"-"+t:e}function Hr(e,t){return e=Br(e),(t=Br(t))==e?4:Vr(t,e)?3:Fr(t,e)?2:Vr(e,t)?1:0}function zr(e){return e.language?Br(e.language):e.audio&&e.audio.language?Br(e.audio.language):e.video&&e.video.language?Br(e.video.language):"und"}function qr(e,t){for(var n=Br(e),i=new Set,r=c(t),a=r.next();!a.done;a=r.next())i.add(Br(a.value));for(a=(r=c(i)).next();!a.done;a=r.next())if((a=a.value)==n)return a;for(a=(r=c(i)).next();!a.done;a=r.next())if(Vr(a=a.value,n))return a;for(a=(r=c(i)).next();!a.done;a=r.next())if(Fr(a=a.value,n))return a;for(a=(i=c(i)).next();!a.done;a=i.next())if(Vr(n,a=a.value))return a;return null}var Kr=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function Wr(e,t){function n(e){var t="";e.video&&(t=Rt(e.video.codecs)[0]);var n="";return e.audio&&(n=Rt(e.audio.codecs)[0]),t+"-"+n}for(var i=ta(e.variants,t),r=new Ne,a=(i=c(i)).next();!a.done;a=i.next()){var o=n(a=a.value);r.push(o,a)}var s=null,l=1/0;!function(e,t){for(var n in e.a)t(n,e.a[n])}(r,(function(e,t){for(var n=0,i=0,r=c(t),a=r.next();!a.done;a=r.next())n+=a.value.bandwidth||0,++i;(n/=i)<l&&(s=e,l=n)})),e.variants=e.variants.filter((function(e){return n(e)==s}))}function Xr(e,t,n){function i(e,t,n){return e>=t&&e<=n}var r=e.video;return!(r&&r.width&&r.height&&(!i(r.width,t.minWidth,Math.min(t.maxWidth,n.width))||!i(r.height,t.minHeight,Math.min(t.maxHeight,n.height))||!i(r.width*r.height,t.minPixels,t.maxPixels))||e&&e.video&&e.video.frameRate&&!i(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||!i(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function Gr(e,t){return e.mimeType==t.mimeType&&e.codecs.split(".")[0]==t.codecs.split(".")[0]}function Yr(e){var t=e.audio,n=e.video,i=t?t.codecs:null,r=n?n.codecs:null,a=[];r&&a.push(r),i&&a.push(i);var o=[];n&&o.push(n.mimeType),t&&o.push(t.mimeType),o=o[0]||null;var s=[];t&&s.push(t.kind),n&&s.push(n.kind),s=s[0]||null;var l=new Set;if(t)for(var u=c(t.roles),d=u.next();!d.done;d=u.next())l.add(d.value);if(n)for(d=(u=c(n.roles)).next();!d.done;d=u.next())l.add(d.value);return e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:s,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:o,codecs:a.join(", "),audioCodec:i,videoCodec:r,primary:e.primary,roles:Array.from(l),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.label=t.label,e.audioRoles=t.roles),e}function Qr(e){return{id:e.id,active:!1,type:"text",bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:e.mimeType,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,forced:e.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId}}function $r(e){return e.__shaka_id||(e.__shaka_id=ra++),e.__shaka_id}function Jr(e){var t=Zr(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,"main"==e.kind&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind],t.label=e.label),t}function Zr(e){return{id:$r(e),active:!1,type:"",bandwidth:0,language:Br(e.language),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null}}function ea(e){return e.allowedByApplication&&e.allowedByKeySystem}function ta(e,t){for(var n=e.filter((function(e){return e.audio&&e.audio.channelsCount})),i=new Map,r=(n=c(n)).next();!r.done;r=n.next()){var a=(r=r.value).audio.channelsCount;i.has(a)||i.set(a,[]),i.get(a).push(r)}return 0==(n=Array.from(i.keys())).length?e:(r=n.filter((function(e){return e<=t}))).length?i.get(Math.max.apply(Math,d(r))):i.get(Math.min.apply(Math,d(n)))}function na(e,t,n){var i=e,r=e.filter((function(e){return e.primary}));r.length&&(i=r);var a=i.length?i[0].language:"";if(i=i.filter((function(e){return e.language==a})),t){var o=qr(Br(t),e.map((function(e){return e.language})));o&&(i=e.filter((function(e){return Br(e.language)==o})))}if(n){if((e=ia(i,n)).length)return e}else if((e=i.filter((function(e){return 0==e.roles.length}))).length)return e;return(e=i.map((function(e){return e.roles})).reduce(St,[])).length?ia(i,e[0]):i}function ia(e,t){return e.filter((function(e){return e.roles.includes(t)}))}var ra=0;function aa(){var e=this;this.h=null,this.c=!1,this.a=new K,navigator.connection&&navigator.connection.addEventListener("change",(function(){if(e.i.useNetworkInformation){e.a=new K;var t=e.chooseVariant();t&&e.h(t)}})),this.b=[],this.g=1,this.j=!1,this.i=this.f=null}function oa(e){var t=e.i.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&e.i.useNetworkInformation&&(t=1e6*navigator.connection.downlink),t}function sa(e,t){return e&&(t=t.filter((function(t){return Xr(t,e,{width:1/0,height:1/0})}))),t.sort((function(e,t){return e.bandwidth-t.bandwidth}))}function la(e,t){this.a=e,this.b=new Set([e]);for(var n=c(t=t||[]),i=n.next();!i.done;i=n.next())this.add(i.value)}function ua(e,t){var n;if(!(n=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(n=e.audio&&t.audio)){n=e.audio;var i=t.audio;n=!((!(!n.channelsCount||!i.channelsCount||2<n.channelsCount||2<i.channelsCount)||n.channelsCount==i.channelsCount)&&ca(n,i)&&da(n.roles,i.roles))}return!n&&(n=e.video&&t.video)&&(n=!(ca(n=e.video,i=t.video)&&da(n.roles,i.roles))),!n}function ca(e,t){if(e.mimeType!=t.mimeType)return!1;var n=e.codecs.split(",").map((function(e){return Rt(e)[0]})),i=t.codecs.split(",").map((function(e){return Rt(e)[0]}));if(n.length!=i.length)return!1;n.sort(),i.sort();for(var r=c(te(n.length)),a=r.next();!a.done;a=r.next())if(n[a=a.value]!=i[a])return!1;return!0}function da(e,t){var n=new Set(e),i=new Set(t);if(n.delete("main"),i.delete("main"),n.size!=i.size)return!1;for(var r=(n=c(n)).next();!r.done;r=n.next())if(!i.has(r.value))return!1;return!0}function pa(e){this.a=e,this.b=new fa(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0,"")}function fa(e,t,n,i){this.c=e,this.f=t,this.a=n,this.b=void 0===i?"":i}function ha(){this.a=ya,this.b=(new Map).set(ya,2).set(va,1)}function ma(e,t,n){e.b.set(ya,n).set(va,t)}(i=aa.prototype).stop=function(){this.h=null,this.c=!1,this.b=[],this.g=1,this.f=null},i.init=function(e){this.h=e},i.chooseVariant=function(){var e=sa(this.i.restrictions,this.b),t=this.a.getBandwidthEstimate(oa(this));this.b.length&&!e.length&&(e=[(e=sa(null,this.b))[0]]);for(var n=e[0]||null,i=(e=c(ne(e))).next();!i.done;i=e.next()){var r=i.value;i=r.item;var a=isNaN(this.g)?1:Math.abs(this.g);r=a*(r.next||{bandwidth:1/0}).bandwidth/this.i.bandwidthUpgradeTarget,t>=a*i.bandwidth/this.i.bandwidthDowngradeTarget&&t<=r&&(n=i)}return this.f=Date.now(),n},i.enable=function(){this.c=!0},i.disable=function(){this.c=!1},i.segmentDownloaded=function(e,t){var n=this.a;if(!(16e3>t)){var i=8e3*t/e,r=e/1e3;n.a+=t,z(n.b,r,i),z(n.c,r,i)}if(null!=this.f&&this.c)e:{if(this.j){if(Date.now()-this.f<1e3*this.i.switchInterval)break e}else{if(!(128e3<=this.a.a))break e;this.j=!0}n=this.chooseVariant(),this.a.getBandwidthEstimate(oa(this)),n&&this.h(n)}},i.getBandwidthEstimate=function(){return this.a.getBandwidthEstimate(this.i.defaultBandwidthEstimate)},i.setVariants=function(e){this.b=e},i.playbackRateChanged=function(e){this.g=e},i.configure=function(e){this.i=e},B("shaka.abr.SimpleAbrManager",aa),aa.prototype.configure=aa.prototype.configure,aa.prototype.playbackRateChanged=aa.prototype.playbackRateChanged,aa.prototype.setVariants=aa.prototype.setVariants,aa.prototype.getBandwidthEstimate=aa.prototype.getBandwidthEstimate,aa.prototype.segmentDownloaded=aa.prototype.segmentDownloaded,aa.prototype.disable=aa.prototype.disable,aa.prototype.enable=aa.prototype.enable,aa.prototype.chooseVariant=aa.prototype.chooseVariant,aa.prototype.init=aa.prototype.init,aa.prototype.stop=aa.prototype.stop,la.prototype.add=function(e){return!!ua(this.a,e)&&(this.b.add(e),!0)},la.prototype.values=function(){return this.b.values()},pa.prototype.create=function(e){var t=this,n=e.filter((function(e){return ua(t.a,e)}));return n.length?new la(n[0],n):this.b.create(e)},fa.prototype.create=function(e){var t=[];t=function(e,t){var n=qr(Br(t),e.map((function(e){return zr(e)})));return n?e.filter((function(e){return n==zr(e)})):[]}(e,this.c);var n=e.filter((function(e){return e.primary}));for((e=function(e,t){return e.filter((function(e){return!!e.audio&&(t?e.audio.roles.includes(t):0==e.audio.roles.length)}))}(t=t.length?t:n.length?n:e,this.f)).length&&(t=e),this.a&&((e=ta(t,this.a)).length&&(t=e)),this.b&&((e=function(e,t){return e.filter((function(e){return!!e.audio&&e.audio.label.toLowerCase()==t.toLowerCase()}))}(t,this.b)).length&&(t=e)),e=new la(t[0]),n=(t=c(t)).next();!n.done;n=t.next())n=n.value,ua(e.a,n)&&e.add(n);return e};var va=0,ya=1;function ba(){}function ga(e,t,n,i){var r,a,o,s;return M((function(l){if(1==l.a)return i&&(r=_a[i.toLowerCase()])?l.return(r):(a=wa(e))&&(o=Sa[a])?l.return(o):i?l.s(2):w(l,ka(e,t,n),3);if(2!=l.a&&(i=l.b)&&(s=_a[i]))return l.return(s);throw new ye(2,4,4e3,e)}))}function ka(e,t,n){var i,r,a;return M((function(o){return 1==o.a?((i=Ye([e],n)).method="HEAD",w(o,t.request(0,i).promise,2)):(r=o.b,a=r.headers["content-type"],o.return(a?a.toLowerCase().split(";").shift():""))}))}function wa(e){return 1==(e=new re(e).oa.split("/").pop().split(".")).length?"":e.pop().toLowerCase()}B("shaka.media.ManifestParser",ba),ba.unregisterParserByMime=function(e){delete _a[e]},ba.registerParserByMime=function(e,t){_a[e]=t},ba.registerParserByExtension=function(e,t){Sa[e]=t};var _a={},Sa={};function Ta(e,t,n){this.a=e,this.da=t,this.Y=n}function xa(e,t,n,i,r,a,o,s,l,u){u=void 0===u?[]:u,this.startTime=e,this.endTime=t,this.a=n,this.da=i,this.Y=r,this.c=a,this.timestampOffset=o,this.appendWindowStart=s,this.appendWindowEnd=l,this.b=u}function Oa(e,t,n){this.f=e,this.vc=t,this.h=this.g=1/0,this.a=1,this.b=this.c=null,this.j=0,this.l=!0,this.v=0,this.A=void 0===n||n,this.C=0}function Ea(e,t){this.g=e,this.h=Ca(e),this.a=e.a.currentTime,this.f=Date.now()/1e3,this.b=!1,this.j=t,this.c=function(){}}function Pa(e){this.a=e}function Ca(e){if(e.a.paused||0==e.a.playbackRate||0==e.a.buffered.length)var t=!1;else e:{t=e.a.currentTime;for(var n=(e=c(dr(e.a.buffered))).next();!n.done;n=e.next())if(!(t<(n=n.value).start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}function Aa(e,t,n,i,r){var a=this;this.a=e,this.A=t,this.i=n,this.v=r,this.b=new rt,this.j=!1,this.l=e.readyState,this.f=!1,this.c=i,this.h=!1,this.b.m(e,"waiting",(function(){return Ia(a)})),this.g=new ge((function(){Ia(a)})).ta(.25)}function Ia(e){if(0!=e.a.readyState){if(e.a.seeking){if(!e.j)return}else e.j=!1;if(!e.a.paused){var t;if(e.a.readyState!=e.l&&(e.f=!1,e.l=e.a.readyState),!(t=!e.c)){var n=(t=e.c).g,i=Ca(n),r=n.a.currentTime,a=Date.now()/1e3;t.a==r&&t.h==i||(t.f=a,t.a=r,t.h=i,t.b=!1),(i=(r=a-t.f)>=t.j&&i&&!t.b)&&(t.c(t.a,r),t.b=!0,t.a=n.a.currentTime),t=!i}if(t){var o=e.i.smallGapLimit;if(r=e.a.currentTime,!(null==(n=function(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return null;var n=Vt()||zt("Trident/")||Ft()||zt("CrKey")?.5:.1,i=dr(e).findIndex((function(e,i,r){return e.start>t&&(0==i||r[i-1].end-t<=n)}));return 0<=i?i:null}(t=e.a.buffered,r))||0==n&&!e.h||(i=t.start(n),i>=e.A.Ja()))){o=(a=i-r)<=o;var s=!1;.001>a||(o||e.f||(e.f=!0,(r=new De("largegap",{currentTime:r,gapSize:a})).cancelable=!0,e.v(r),e.i.jumpLargeGaps&&!r.defaultPrevented&&(s=!0)),!o&&!s)||(0!=n&&t.end(n-1),e.a.currentTime=i)}}}}}function ja(e,t,n,i){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?i():(t=La.get(t),n.ma(e,t,i))}Ta.prototype.Ob=function(){return this.da},Ta.prototype.Kb=function(){return this.Y},B("shaka.media.InitSegmentReference",Ta),Ta.prototype.getEndByte=Ta.prototype.Kb,Ta.prototype.getStartByte=Ta.prototype.Ob,xa.prototype.Ke=function(){return this.startTime},xa.prototype.ye=function(){return this.endTime},xa.prototype.Ob=function(){return this.da},xa.prototype.Kb=function(){return this.Y},B("shaka.media.SegmentReference",xa),xa.prototype.getEndByte=xa.prototype.Kb,xa.prototype.getStartByte=xa.prototype.Ob,xa.prototype.getEndTime=xa.prototype.ye,xa.prototype.getStartTime=xa.prototype.Ke,(i=Oa.prototype).getDuration=function(){return this.g},i.De=function(){return this.a},i.Da=function(e){this.g=e},i.Je=function(){return this.f},i.be=function(e){this.j=e},i.Wb=function(e){this.l=e},i.yd=function(e){this.h=e},i.mf=function(e){this.vc=e},i.xe=function(){return this.vc},i.vb=function(e){if(0!=e.length){var t=e[e.length-1].endTime;this.hd(e[0].startTime),this.a=e.reduce((function(e,t){return Math.max(e,t.endTime-t.startTime)}),this.a),this.b=Math.max(this.b,t),null!=this.f&&this.A&&(this.f=(Date.now()+this.j)/1e3-this.b-this.a)}},i.hd=function(e){this.c=null==this.c?e:Math.min(this.c,e)},i.gd=function(e){this.a=Math.max(this.a,e)},i.offset=function(e){null!=this.c&&(this.c+=e),null!=this.b&&(this.b+=e)},i.T=function(){return 1/0==this.g&&!this.l},i.ab=function(){return 1/0!=this.g&&!this.l},i.qb=function(){return Math.max(this.v,this.Ya()-this.h)},i.ce=function(e){this.v=e},i.Ya=function(){return this.T()||this.ab()?Math.min(Math.max(0,(Date.now()+this.j)/1e3-this.a-this.f)+this.C,this.g):this.g},i.Nb=function(e){var t=Math.max(this.c,this.v);return 1/0==this.h?t:Math.max(t,Math.min(this.Ya()-this.h+e,this.Ja()))},i.pb=function(){return this.Nb(0)},i.Ja=function(){return Math.max(0,this.Ya()-(this.T()||this.ab()?this.vc:0))},i.fe=function(){return!(null==this.f||null!=this.b&&this.A)},i.ae=function(e){this.C=e},B("shaka.media.PresentationTimeline",Oa),Oa.prototype.setAvailabilityTimeOffset=Oa.prototype.ae,Oa.prototype.usingPresentationStartTime=Oa.prototype.fe,Oa.prototype.getSeekRangeEnd=Oa.prototype.Ja,Oa.prototype.getSeekRangeStart=Oa.prototype.pb,Oa.prototype.getSafeSeekRangeStart=Oa.prototype.Nb,Oa.prototype.getSegmentAvailabilityEnd=Oa.prototype.Ya,Oa.prototype.setUserSeekStart=Oa.prototype.ce,Oa.prototype.getSegmentAvailabilityStart=Oa.prototype.qb,Oa.prototype.isInProgress=Oa.prototype.ab,Oa.prototype.isLive=Oa.prototype.T,Oa.prototype.offset=Oa.prototype.offset,Oa.prototype.notifyMaxSegmentDuration=Oa.prototype.gd,Oa.prototype.notifyMinSegmentStartTime=Oa.prototype.hd,Oa.prototype.notifySegments=Oa.prototype.vb,Oa.prototype.getDelay=Oa.prototype.xe,Oa.prototype.setDelay=Oa.prototype.mf,Oa.prototype.setSegmentAvailabilityDuration=Oa.prototype.yd,Oa.prototype.setStatic=Oa.prototype.Wb,Oa.prototype.setClockOffset=Oa.prototype.be,Oa.prototype.getPresentationStartTime=Oa.prototype.Je,Oa.prototype.setDuration=Oa.prototype.Da,Oa.prototype.getMaxSegmentDuration=Oa.prototype.De,Oa.prototype.getDuration=Oa.prototype.getDuration,Ea.prototype.release=function(){this.g=null,this.c=function(){}},Aa.prototype.release=function(){this.b&&(this.b.release(),this.b=null),null!=this.g&&(this.g.stop(),this.g=null),this.c&&(this.c.release(),this.c=null),this.a=this.A=this.v=null},Aa.prototype.ld=function(){this.h=!0,Ia(this)};var La=new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]]);function Ma(e,t,n){var i=this;this.a=e,this.g=t,this.f=n,this.h=!1,this.b=new rt,this.c=new Va(e),ja(this.a,HTMLMediaElement.HAVE_METADATA,this.b,(function(){Na(i,i.f)}))}function Ra(e){return e.h?e.a.currentTime:e.f}function Da(e,t){0<e.a.readyState?Fa(e.c,t):ja(e.a,HTMLMediaElement.HAVE_METADATA,e.b,(function(){Na(e,e.f)}))}function Na(e,t){.001>Math.abs(e.a.currentTime-t)?Ua(e):(e.b.ma(e.a,"seeking",(function(){Ua(e)})),Fa(e.c,0==e.a.currentTime?t:e.a.currentTime))}function Ua(e){e.h=!0,e.b.m(e.a,"seeking",(function(){return e.g()}))}function Va(e){var t=this;this.b=e,this.h=10,this.g=this.f=this.c=0,this.a=new ge((function(){0>=t.c||t.b.currentTime!=t.f?t.a.stop():(t.b.currentTime=t.g,t.c--)}))}function Fa(e,t){e.f=e.b.currentTime,e.g=t,e.c=e.h,e.b.currentTime=t,e.a.ta(.1)}function Ba(e){var t=this;this.a=e,this.f=!1,this.c=null,this.b=new rt,ja(this.a,HTMLMediaElement.HAVE_CURRENT_DATA,this.b,(function(){null==t.c?t.f=!0:(t.b.ma(t.a,"seeking",(function(){t.f=!0})),t.a.currentTime=Math.max(0,t.a.currentTime+t.c))}))}function Ha(e,t,n,i,r,a){var o=this;this.c=e,this.a=t.presentationTimeline,this.C=t.minBufferTime||0,this.i=n,this.A=r,this.j=null,this.f=new Aa(e,t.presentationTimeline,n,function(e,t){if(!t.stallEnabled)return null;var n=t.stallSkip,i=new Ea(new Pa(e),t.stallThreshold);return function(e,t){e.c=t}(i,(function(){n?e.currentTime+=n:(e.pause(),e.play())})),i}(e,n),a),this.b=new Ma(e,(function(){var e=o.f;e.j=!0,e.h=!1,e.f=!1;var t=Ra(o.b);return e=qa(o,t),.001<Math.abs(e-t)&&(t=Date.now()/1e3,!o.j||o.j<t-1)?(o.j=t,Da(o.b,e),e=void 0):(o.A(),e=void 0),e}),function(e,t){return null==t?t=1/0>e.a.getDuration()?e.a.pb():e.a.Ja():0>t&&(t=e.a.Ja()+t),za(e,Ka(e,t))}(this,i)),this.h=new ge((function(){if(0!=o.c.readyState&&!o.c.paused){var e=Ra(o.b),t=o.a.pb(),n=o.a.Ja();3>n-t&&(t=n-3),e<t&&(e=qa(o,e),o.c.currentTime=e)}})).ta(.25)}function za(e,t){var n=e.a.getDuration();return t>=n?n-e.i.durationBackoff:t}function qa(e,t){var n=Math.max(e.C,e.i.rebufferingGoal),i=e.i.safeSeekOffset,r=e.a.pb(),a=e.a.Ja(),o=e.a.getDuration();3>a-r&&(r=a-3);var s=e.a.Nb(n),l=e.a.Nb(i);return n=e.a.Nb(n+i),t>=o?za(e,t):t>a?a:t<r?ur(e.c.buffered,l)?l:n:t>=s||ur(e.c.buffered,t)?t:n}function Ka(e,t){var n=e.a.pb();return t<n||t>(n=e.a.Ja())?n:t}function Wa(e){this.a=e,this.b=null,this.c=0}function Xa(e,t,n){return new Wa([new xa(e,e+t,(function(){return n}),0,null,null,e,e,e+t)])}function Ga(e){this.c=e,this.a=(e=this.c.find(0))?e-1:-1,this.b=-1}function Ya(){Wa.call(this,[]),this.f=[]}function Qa(e){var t=this;this.a=e,this.f=!1,this.b=this.a.qc(),this.c=new ge((function(){t.a.Rd(.25*t.b)}))}function $a(e){e.c.stop();var t=e.f?0:e.b;if(0<=t)try{return void(e.a.qc()!=t&&e.a.xd(t))}catch(n){}e.c.ta(.25),0!=e.a.qc()&&e.a.xd(0)}function Ja(e){var t=this;this.c=e,this.a=new Set,this.b=new ge((function(){Za(t,!1)})).ta(.25)}function Za(e,t){for(var n=c(e.a),i=n.next();!i.done;i=n.next()){i=i.value;for(var r=e.c.currentTime,a=t,o=c(i.g.a),s=o.next();!s.done;s=o.next()){s=s.value;var l=i.f.get(s),u=r<s.startTime?no:r>s.endTime?ro:io;i.f.set(s,u);for(var d=c(i.h),p=d.next();!p.done;p=d.next())(p=p.value).hb==l&&p.gb==u&&p.$a(s,a)}}}function eo(e){var t=this;this.b=function(){},this.a=new Set,this.f=e,this.c=new ge((function(){for(var e=t.f(),n=c(t.a),i=n.next();!i.done;i=n.next())(i=i.value).endTime<e.start&&t.a.delete(i)})).ta(2)}function to(e){var t=this;this.g=e,this.f=new Map,this.a=function(){},this.b=function(){},this.c=function(){},this.h=[{hb:null,gb:io,$a:function(e,n){return t.a(e,n)}},{hb:no,gb:io,$a:function(e,n){return t.a(e,n)}},{hb:ro,gb:io,$a:function(e,n){return t.a(e,n)}},{hb:io,gb:no,$a:function(e,n){return t.b(e,n)}},{hb:io,gb:ro,$a:function(e,n){return t.b(e,n)}},{hb:no,gb:ro,$a:function(e,n){return t.c(e,n)}},{hb:ro,gb:no,$a:function(e,n){return t.c(e,n)}}]}Ma.prototype.release=function(){this.b&&(this.b.release(),this.b=null),null!=this.c&&(this.c.release(),this.c=null),this.g=function(){},this.a=null},Va.prototype.release=function(){this.a&&(this.a.stop(),this.a=null),this.b=null},Ba.prototype.release=function(){this.b&&(this.b.release(),this.b=null),this.a=null},Ba.prototype.l=function(e){this.c=this.f?this.c:e},Ba.prototype.g=function(){return(this.f?this.a.currentTime:this.c)||0},Ba.prototype.v=function(){},Ha.prototype.release=function(){this.b&&(this.b.release(),this.b=null),this.f&&(this.f.release(),this.f=null),this.h&&(this.h.stop(),this.h=null),this.c=this.b=this.a=this.i=null,this.A=function(){}},Ha.prototype.l=function(e){Da(this.b,e)},Ha.prototype.g=function(){var e=Ra(this.b);return 0<this.c.readyState&&!this.c.paused?Ka(this,e):e},Ha.prototype.v=function(){this.f.ld()},(i=Wa.prototype).destroy=function(){return gt("shaka.media.SegmentIndex","Please use release() instead of destroy()."),this.release(),Promise.resolve()},i.release=function(){this.a=[],this.b&&this.b.stop(),this.b=null},i.find=function(e){for(var t=this.a.length-1;0<=t;--t){var n=this.a[t];if(e>=n.startTime&&e<n.endTime)return t+this.c}return this.a.length&&e<this.a[0].startTime?this.c:null},i.get=function(e){return 0==this.a.length||0>(e-=this.c)||e>=this.a.length?null:this.a[e]},i.offset=function(e){for(var t=c(this.a),n=t.next();!n.done;n=t.next())(n=n.value).startTime+=e,n.endTime+=e,n.timestampOffset+=e},i.tb=function(e){e.length&&(this.a=this.a.filter((function(t){return t.startTime<e[0].startTime})),this.a.push.apply(this.a,d(e)))},i.Wa=function(e){var t=this.a.length;this.a=this.a.filter((function(t){return t.endTime>e})),this.c+=t-this.a.length},i.Pa=function(e,t){for(;this.a.length&&this.a[this.a.length-1].startTime>=t;)this.a.pop();for(;this.a.length&&this.a[0].endTime<=e;)this.a.shift(),this.c++;if(0!=this.a.length){var n=this.a[this.a.length-1];this.a[this.a.length-1]=new xa(n.startTime,t,n.a,n.da,n.Y,n.c,n.timestampOffset,n.appendWindowStart,n.appendWindowEnd)}},i.yc=function(e,t){var n=this;this.b&&this.b.stop(),this.b=new ge((function(){var e=t();n.a.push.apply(n.a,d(e)),0==n.a.length&&(n.b.stop(),n.b=null)})),this.b.ta(e)},Wa.prototype[Symbol.iterator]=function(){return new Ga(this)},B("shaka.media.SegmentIndex",Wa),Wa.forSingleSegment=Xa,Wa.prototype.updateEvery=Wa.prototype.yc,Wa.prototype.fit=Wa.prototype.Pa,Wa.prototype.evict=Wa.prototype.Wa,Wa.prototype.merge=Wa.prototype.tb,Wa.prototype.offset=Wa.prototype.offset,Wa.prototype.get=Wa.prototype.get,Wa.prototype.find=Wa.prototype.find,Wa.prototype.release=Wa.prototype.release,Wa.prototype.destroy=Wa.prototype.destroy,Ga.prototype.seek=function(e){var t=this.c.find(e);if(null==t)return this.a=Math.pow(2,31),null;if(this.a=t,(t=this.c.get(this.a))&&0<t.b.length)for(var n=t.b,i=n.length-1;0<=i;--i){var r=n[i];if(e>=r.startTime&&e<r.endTime){this.b=i,t=r;break}}return t},Ga.prototype.current=function(){var e=this.c.get(this.a);return e&&0<e.b.length&&e.a().length&&this.b>=e.b.length&&(this.a++,this.b=0,e=this.c.get(this.a)),e&&0<e.b.length?e.b[this.b]:e},Ga.prototype.next=function(){var e=this.c.get(this.a);return e&&0<e.b.length?(this.b++,e.a().length&&this.b==e.b.length&&(this.a++,this.b=0)):(this.a++,this.b=0),{value:e=this.current(),done:!e}},B("shaka.media.SegmentIterator",Ga),Ga.prototype.next=Ga.prototype.next,Ga.prototype.current=Ga.prototype.current,Ga.prototype.seek=Ga.prototype.seek,y(Ya,Wa),(i=Ya.prototype).clone=function(){var e=new Ya;return e.f=this.f.slice(),e},i.release=function(){for(var e=c(this.f),t=e.next();!t.done;t=e.next())t.value.release();this.f=[]},i.find=function(e){for(var t=0,n=c(this.f),i=n.next();!i.done;i=n.next()){var r=(i=i.value).find(e);if(null!=r)return r+t;t+=i.c+i.a.length}return null},i.get=function(e){for(var t=0,n=c(this.f),i=n.next();!i.done;i=n.next()){var r=(i=i.value).get(e-t);if(r)return r;t+=i.c+i.a.length}return null},i.offset=function(){},i.tb=function(){},i.Wa=function(){},i.Pa=function(){},i.yc=function(){},B("shaka.media.MetaSegmentIndex",Ya),Ya.prototype.updateEvery=Ya.prototype.yc,Ya.prototype.fit=Ya.prototype.Pa,Ya.prototype.evict=Ya.prototype.Wa,Ya.prototype.merge=Ya.prototype.tb,Ya.prototype.offset=Ya.prototype.offset,Ya.prototype.get=Ya.prototype.get,Ya.prototype.find=Ya.prototype.find,Ya.prototype.release=Ya.prototype.release,Qa.prototype.release=function(){this.c&&(this.c.stop(),this.c=null),this.a=null},Qa.prototype.set=function(e){this.b=e,$a(this)},Ja.prototype.release=function(){this.b.stop();for(var e=c(this.a),t=e.next();!t.done;t=e.next())t.value.release();this.a.clear()},eo.prototype.release=function(){this.b=function(){},this.a.clear(),this.c.stop()},to.prototype.release=function(){this.g=null,this.f.clear(),this.a=function(){},this.b=function(){},this.c=function(){}};var no=1,io=2,ro=3;function ao(e,t,n,i,r){return e=Ye(e,i,r),0==t&&null==n||(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function oo(e,t){var n=this;this.o=t,this.u=e,this.i=null,this.f=1,this.c=this.b=null,this.a=new Map,this.h=!1,this.j=null,this.g=!1,this.D=new nt((function(){return function(e){var t,n,i,r;return M((function(a){if(1==a.a){for(t=[],n=c(e.a.values()),i=n.next();!i.done;i=n.next())ko(r=i.value),t.push(wo(r));return w(a,Promise.all(t),2)}e.a.clear(),e.o=null,e.u=null,e.i=null,_(a)}))}(n)}))}function so(e,t){var n=e.a.get("video");if(n){var i=n.stream;if(i)if(t){var r=i.trickModeVideo;r&&!n.eb&&(co(e,r,!1,0,!1),n.eb=i)}else(i=n.eb)&&(n.eb=null,co(e,i,!0,0,!1))}}function lo(e,t,n,i){n=void 0!==n&&n,i=void 0===i?0:i,e.b=t,e.h&&(t.video&&co(e,t.video,n,i,!1),t.audio&&co(e,t.audio,n,i,!1))}function uo(e,t){e.c=t,e.h&&co(e,t,!0,0,!1)}function co(e,t,n,i,r){var a=e.a.get(t.type);a||"text"!=t.type?a&&(a.eb&&(t.trickModeVideo?(a.eb=t,t=t.trickModeVideo):a.eb=null),a.stream!=t||r)&&("text"==t.type&&Tr(e.o.K,Mt(t.mimeType,t.codecs)),a.stream=t,a.Ca=null,n&&(a.Hb?a.Bc=!0:a.Ra?(a.Bb=!0,a.mc=i,a.Bc=!0):(ko(a),bo(e,a,!0,i).catch((function(t){e.o&&e.o.onError(t)})))),function(e,t){var n,i;return M((function(r){if(1==r.a)return t.na?(n=t.stream,i=t.na,n.segmentIndex?r.s(2):w(r,n.createSegmentIndex(),2)):r.return();if(t.na!=i||t.stream!=n)return r.return();t.Ca=t.stream.segmentIndex[Symbol.iterator]();var a=e.o.pc(),o=Er(e.o.K,t.type),s=ho(e,t,a,o),l=s&&s.Y?s.Y-s.da:null;s&&!l&&(l=(s.endTime-s.startTime)*(t.stream.bandwidth||0)/8),l?((s=s.c)&&(l+=(s.Y?s.Y-s.da:null)||0),a=8*l/(s=e.o.getBandwidthEstimate())<(o||0)-a-Math.max(e.u.minBufferTime||0,e.i.rebufferingGoal)||t.na.b.a>l):a=!1,a&&t.na.abort(),_(r)}))}(e,a).catch((function(t){e.o&&e.o.onError(t)}))):function(e,t){var n,i,r,a;M((function(o){switch(o.a){case 1:return n=Ct,S(o,2),w(o,Ir(e.o.K,n.$),4);case 4:x(o,3);break;case 2:i=O(o),e.o&&e.o.onError(i);case 3:r=Mt(t.mimeType,t.codecs),Tr(e.o.K,r),(e.o.K.h.isTextVisible()||e.i.alwaysStreamText)&&(a=fo(t),e.a.set(n.$,a),go(e,a,0)),_(o)}}))}(e,t)}function po(e,t){t.Hb||t.Bb||(t.Ra?(t.Bb=!0,t.mc=0):null==Or(e.o.K,t.type)?null==t.Fa&&go(e,t,0):(ko(t),bo(e,t,!1,0).catch((function(t){e.o&&e.o.onError(t)}))))}function fo(e){var t=e.segmentIndex?e.segmentIndex[Symbol.iterator]():null;return{stream:e,type:e.type,Rb:null,Ca:t,Qa:null,cd:null,dd:null,bd:null,$c:null,eb:null,endOfStream:!1,Ra:!1,Fa:null,Bb:!1,mc:0,Bc:!1,Hb:!1,pd:!1,Pb:!1,na:null}}function ho(e,t,n,i){if(t.stream==t.Rb)return t.Ca.current();if(t.Qa)return t.Ca.seek(t.Qa.endTime);if(i)return t.Ca.seek(i);e=e.i.inaccurateManifestTolerance,i=Math.max(n-e,0);var r=null;return e&&(r=t.Ca.seek(i)),r||(r=t.Ca.seek(n)),r}function mo(e,t,n,i,r,a){var o;return M((function(s){return 1==s.a?(o=i.closedCaptions&&0<i.closedCaptions.size,null!=i.emsgSchemeIdUris&&0<i.emsgSchemeIdUris.length&&(new Xi).U("emsg",(function(t){var n=i.emsgSchemeIdUris,a=t.reader.nd(),o=t.reader.nd(),s=t.reader.I(),l=t.reader.I(),u=t.reader.I(),c=t.reader.I();t=t.reader.Sa(t.reader.O.byteLength-t.reader.Z());var d=r.startTime+l/s;n.includes(a)&&("urn:mpeg:dash:event:2012"==a?e.o.Ve():(n=new De(Is,{detail:{startTime:d,endTime:d+u/s,schemeIdUri:a,value:o,timescale:s,presentationTimeDelta:l,eventDuration:u,id:c,messageData:t}}),e.o.onEvent(n)))})).parse(a),w(s,function(e,t,n){var i,r,a;return M((function(o){if(1==o.a)return i=Math.max(e.i.bufferBehind,e.u.presentationTimeline.a),null==(r=Or(e.o.K,t.type))||0>=(a=n-r-i)?o.return():w(o,e.o.K.remove(t.type,r,r+a),2);it(e.D),_(o)}))}(e,t,n),2)):3!=s.a?(it(e.D),w(s,Cr(e.o.K,t.type,a,r.startTime,r.endTime,o),3)):(it(e.D),void _(s))}))}function vo(e){return e&&"text"==e.type&&("application/cea-608"==e.stream.mimeType||"application/cea-708"==e.stream.mimeType)}function yo(e,t,n,i){var r,a,o,s;return M((function(l){return 1==l.a?(r=Ze,a=ao(n.a(),n.da,n.Y,e.i.retryParameters,i),o=e.o.ub.request(r,a),t.na=o,w(l,o.promise,2)):(s=l.b,t.na=null,l.return(s.data))}))}function bo(e,t,n,i){var r,a;return M((function(o){return 1==o.a?(t.Bb=!1,t.Bc=!1,t.mc=0,t.Hb=!0,t.Rb=null,t.Qa=null,i?(r=e.o.pc(),a=e.o.K.getDuration(),w(o,e.o.K.remove(t.type,r+i,a),3)):w(o,Ir(e.o.K,t.type),4)):3!=o.a?(it(e.D),n?w(o,e.o.K.flush(t.type),3):o.s(3)):(it(e.D),t.Hb=!1,t.endOfStream=!1,go(e,t,0),void _(o))}))}function go(e,t,n){t.Fa=new be((function(){var n;return M((function(i){return 1==i.a?(S(i,2),w(i,e.Sb(t),4)):2!=i.a?x(i,0):(n=O(i),e.o&&e.o.onError(n),void _(i))}))})).R(n)}function ko(e){null!=e.Fa&&(e.Fa.stop(),e.Fa=null)}function wo(e){return M((function(t){return e.na?w(t,e.na.abort(),0):t.s(0)}))}function _o(e,t){M((function(n){if(1==n.a)return w(n,we(e.j),2);it(e.D),e.o.onError(t),t.handled||e.i.failureCallback(t),_(n)}))}function So(e,t){var n=xs(),i=this;this.h=t,this.c=e,this.f=n,this.j=null,this.g=[],this.b=this.a=null,this.l=Promise.resolve().then((function(){return function(e){return M((function(t){if(e.D.a)t=t.s(0);else{if(0==e.g.length||e.a&&!e.a.Za)var n=!1;else{e.a&&(e.a.Aa.bb(),e.a=null);var i=(n=e.g.shift()).create(e.f);i?(n.Aa.wb(),e.a={node:i.node,payload:i.payload,Za:i.Za,Aa:n.Aa}):n.Aa.tc(),n=!0}n?n=Promise.resolve():e.a?n=function(e){var t,n;return M((function(i){switch(i.a){case 1:return e.c=e.h.Fe(e.c,e.f,e.a.node,e.a.payload),S(i,2),e.b=e.h.ue(e.c,e.f,e.a.payload),w(i,e.b.promise,4);case 4:e.b=null,e.c==e.a.node&&(e.a.Aa.rc(),e.a=null),x(i,0);break;case 2:return 7001==(t=O(i)).code?e.a.Aa.bb():e.a.Aa.onError(t),e.a=null,e.b=null,n=e,w(i,e.h.handleError(e.f,t),5);case 5:n.c=i.b,_(i)}}))}(e):(e.h.Ue(e.c),e.j=new _e,n=e.j),t=w(t,n,1)}return t}))}(i)})),this.D=new nt((function(){return function(e){var t,n;return M((function(i){if(1==i.a)return e.b&&e.b.abort(),xo(e),w(i,e.l,2);for(e.a&&e.a.Aa.bb(),t=c(e.g),n=t.next();!n.done;n=t.next())n.value.Aa.bb();e.a=null,e.g=[],e.h=null,_(i)}))}(i)}))}function To(e,t){var n={wb:function(){},rc:function(){},bb:function(){},onError:function(){},tc:function(){},$f:function(){}};return e.g.push({create:t,Aa:n}),e.b&&e.b.abort(),xo(e),n}function xo(e){e.j&&(e.j.resolve(),e.j=null)}function Oo(e){this.a=null;for(var t=c(Array.from(e.textTracks)),n=t.next();!n.done;n=t.next())(n=n.value).mode="disabled","Shaka Player TextTrack"==n.label&&(this.a=n);this.a||(this.a=e.addTextTrack("subtitles","Shaka Player TextTrack")),this.a.mode="hidden"}function Eo(e){if(e.startTime>=e.endTime)return null;var t=new VTTCue(e.startTime,e.endTime,e.payload);t.lineAlign=e.lineAlign,t.positionAlign=e.positionAlign,e.size&&(t.size=e.size);try{t.align=e.textAlign}catch(n){}return"center"==e.textAlign&&"center"!=t.align&&(t.align="middle"),"vertical-lr"==e.writingMode?t.vertical="lr":"vertical-rl"==e.writingMode&&(t.vertical="rl"),1==e.lineInterpretation&&(t.snapToLines=!1),null!=e.line&&(t.line=e.line),null!=e.position&&(t.position=e.position),t}function Po(e,t){var n=e.mode;e.mode="showing"==n?"showing":"hidden";for(var i=c(Array.from(e.cues)),r=i.next();!r.done;r=i.next())(r=r.value)&&t(r)&&e.removeCue(r);e.mode=n}function Co(){}function Ao(e,t){var n=this;this.h=!1,this.c=[],this.a=e,this.g=t,this.b=document.createElement("div"),this.b.classList.add("shaka-text-container"),this.b.style.textAlign="center",this.b.style.display="flex",this.b.style.flexDirection="column",this.b.style.alignItems="center",this.b.style.justifyContent="flex-end",this.g.appendChild(this.b),this.j=new ge((function(){Io(n)})).ta(.25),this.f=new Map}function Io(e){function t(t){return e.c.includes(t)&&e.h&&t.startTime<=n&&t.endTime>=n}for(var n=e.a.currentTime,i=c(e.f.keys()),r=i.next();!r.done;r=i.next())if(!t(r=r.value)){var a=e.f.get(r);e.b.removeChild(a),e.f.delete(r)}for(i=new Set(e.f.values()),a=(r=c(Array.from(e.b.childNodes))).next();!a.done;a=r.next())a=a.value,i.has(a)||e.b.removeChild(a);for(r=(i=c(i=e.c.filter((function(n){return t(n)&&!e.f.has(n)})).sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime-t.endTime})))).next();!r.done;r=i.next())r=r.value,a=jo(e,e.b,r,!1),e.f.set(r,a)}function jo(e,t,n,i){var r=document.createElement(i?"span":"div");for(function(e,t,n,i){var r=t.style,a=0==n.nestedCues.length;n.spacer?(r.flexBasis="100%",r.height="0"):(r.whiteSpace="pre-wrap",t.textContent=n.payload.replace(/\s+$/g,(function(e){return"\xa0".repeat(e.length)})),r.backgroundColor=n.backgroundColor,r.border=n.border,r.color=n.color,r.direction=n.direction,r.opacity=n.opacity,r.paddingLeft=Lo(n.linePadding,n,e.g),r.paddingRight=Lo(n.linePadding,n,e.g),n.backgroundImage&&(r.backgroundImage="url('"+n.backgroundImage+"')",r.backgroundRepeat="no-repeat",r.backgroundSize="contain",r.backgroundPosition="center",""==n.backgroundColor&&(r.backgroundColor="transparent")),r.justifyContent="before"==n.displayAlign?"flex-start":"center"==n.displayAlign?"center":"flex-end",a?r.display="inline-block":(r.display="flex",r.flexDirection="row",r.flexWrap="wrap",r.margin="0",r.alignItems=r.justifyContent,r.justifyContent="center"),i&&(r.maxWidth="100%"),r.fontFamily=n.fontFamily,r.fontWeight=n.fontWeight.toString(),r.fontStyle=n.fontStyle,r.letterSpacing=n.letterSpacing,r.fontSize=Lo(n.fontSize,n,e.g),n.line?1==n.lineInterpretation&&(r.position="absolute",n.writingMode==jn?n.lineAlign==Mn?r.top=n.line+"%":"end"==n.lineAlign&&(r.bottom=n.line+"%"):"vertical-lr"==n.writingMode?n.lineAlign==Mn?r.left=n.line+"%":"end"==n.lineAlign&&(r.right=n.line+"%"):n.lineAlign==Mn?r.right=n.line+"%":"end"==n.lineAlign&&(r.left=n.line+"%")):n.region&&n.region.id&&(!i&&!a||n.backgroundImage)&&(e=n.region.widthUnits==Fn?"%":"px",t=n.region.viewportAnchorUnits==Fn?"%":"px",r.height=n.region.height+(n.region.heightUnits==Fn?"%":"px"),r.width=n.region.width+e,r.position="absolute",r.top=n.region.viewportAnchorY+t,r.left=n.region.viewportAnchorX+t),r.lineHeight=n.lineHeight,n.position&&(n.writingMode==jn?r.paddingLeft=n.position:r.paddingTop=n.position),"line-left"==n.positionAlign?r.cssFloat="left":"line-right"==n.positionAlign&&(r.cssFloat="right"),r.textAlign=n.textAlign,r.textDecoration=n.textDecoration.join(" "),r.writingMode=n.writingMode,n.size&&(n.writingMode==jn?r.width=n.size+"%":r.height=n.size+"%"))}(e,r,n,i),i=(n=c(n.nestedCues)).next();!i.done;i=n.next())jo(e,r,i.value,!0);return t.appendChild(r),r}function Lo(e,t,n){var i=(i=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(i[1]),rf:i[2]}:null;if(!i)return e;var r=i.value;switch(i.rf){case"%":return r/100*n.clientHeight/t.cellResolution.rows+"px";case"c":return n.clientHeight*r/t.cellResolution.rows+"px";default:return e}}function Mo(){}function Ro(e,t,n,i,r){var a,o=r in i,s=!0;for(a in t){var l=r+"."+a,u=o?i[r]:n[a];o||a in n?void 0===t[a]?void 0===u||o?delete e[a]:e[a]=Ve(u):u.constructor==Object&&t[a]&&t[a].constructor==Object?(e[a]||(e[a]=Ve(u)),l=Ro(e[a],t[a],u,i,l),s=s&&l):typeof t[a]!=typeof u||null==t[a]||"function"!=typeof t[a]&&t[a].constructor!=u.constructor?(X("Invalid config, wrong type for "+l),s=!1):("function"==typeof n[a]&&n[a].length!=t[a].length&&G("Unexpected number of arguments for "+l),e[a]=t[a]):(X("Invalid config, unrecognized key "+l),s=!1)}return s}function Do(e,t){for(var n={},i=n,r=0,a=0;!(0>(r=e.indexOf(".",r)));)0!=r&&"\\"==e[r-1]||(i[a=e.substring(a,r).replace(/\\\./g,".")]={},i=i[a],a=r+1),r+=1;return i[e.substring(a).replace(/\\\./g,".")]=t,n}function No(){}function Uo(){var e=1/0;navigator.connection&&navigator.connection.saveData&&(e=360);var t={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:pn,logLicenseExchange:!1,updateExpirationTime:1},n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,defaultPresentationDelay:0,dash:{clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1},hls:{ignoreTextStreamFailures:!1,useFullSegmentsForStartTime:!1}},i={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},failureCallback:function(e){return[e]},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,autoLowLatencyMode:!1};(zt("Web0S")||Ft()||zt("CrKey"))&&(i.stallSkip=0);var r={trackSelectionCallback:function(e){return M((function(t){return t.return(e)}))},progressCallback:function(e,t){return[e,t]},usePersistentLicense:!0},a={drm:t,manifest:n,streaming:i,offline:r,abrFactory:function(){return new aa},abr:{enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null}};return r.trackSelectionCallback=function(e){return M((function(t){return t.return(function(e,t){var n=e.filter((function(e){return"variant"==e.type})),i=[],r=qr(t,n.map((function(e){return e.language})));r&&(i=n.filter((function(e){return Br(e.language)==r}))),0==i.length&&(i=n.filter((function(e){return e.primary}))),0==i.length&&(n.map((function(e){return e.language})),i=n);var a=i.filter((function(e){return e.height&&480>=e.height}));if(a.length&&(a.sort((function(e,t){return t.height-e.height})),i=a.filter((function(e){return e.height==a[0].height}))),n=[],i.length){var o=Math.floor(i.length/2);i.sort((function(e,t){return e.bandwidth-t.bandwidth})),n.push(i[o])}for(i=c(e),o=i.next();!o.done;o=i.next())"text"==(o=o.value).type&&n.push(o);return n}(e,a.preferredAudioLanguage))}))},a}function Vo(e,t,n){var i={".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0),individualizationServer:""}};return Ro(e,t,n||Uo(),i,"")}function Fo(){this.a=null,this.b=[]}function Bo(e,t){if(null==e.a)e.a={timestamp:Date.now()/1e3,state:t,duration:0};else{var n=Date.now()/1e3;e.a.duration=n-e.a.timestamp,e.a.state!=t&&(e.b.push(e.a),e.a={timestamp:n,state:t,duration:0})}}function Ho(e,t){var n=0;e.a&&e.a.state==t&&(n+=e.a.duration);for(var i=c(e.b),r=i.next();!r.done;r=i.next())n+=(r=r.value).state==t?r.duration:0;return n}function zo(){this.b=this.c=null,this.a=[]}function qo(e,t,n){e.c!=t&&(e.c=t,e.a.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth}))}function Ko(e,t,n){e.b!=t&&(e.b=t,e.a.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function Wo(){this.h=this.j=this.C=this.v=this.F=this.f=this.A=this.g=this.c=this.H=this.J=this.L=this.l=this.S=NaN,this.b=new Fo,this.a=new zo}function Xo(t,n){Ue.call(this);var i=this;this.g=Js,this.jc=this.a=null,this.S=!1,this.b=new rt,this.Mc=this.l=this.Na=this.u=this.hc=this.j=this.c=this.ic=this.C=this.Ua=this.A=this.wa=this.v=this.F=this.h=this.M=null,this.Sc=1e9,this.i=ns(this),this.Cc={width:1/0,height:1/0},this.f=null,this.Oa=new fa(this.i.preferredAudioLanguage,this.i.preferredVariantRole,this.i.preferredAudioChannelCount),this.ha=this.i.preferredTextLanguage,this.ec=this.i.preferredTextRole,this.Nc=[],n&&n(this),this.M=function(e){return new Xe((function(t,n){e.l&&e.l.segmentDownloaded(t,n)}))}(this),this.H=null,rl&&(this.H=Ot(rl)),this.b.m(e,"online",(function(){i.qd()})),this.ja={name:"detach"},this.Ha={name:"attach"},this.L={name:"unload"},this.Tc={name:"manifest-parser"},this.Rc={name:"manifest"},this.va={name:"media-source"},this.Oc={name:"drm-engine"},this.J={name:"load"},this.Vc={name:"src-equals-drm-engine"},this.xa={name:"src-equals"};var r=new Map;r.set(this.Ha,(function(e,t){return Ee(function(e,t,n){return null==t.B&&(t.B=n.B,e.b.m(t.B,"error",(function(){var t=vs(e);t&&hs(e,t)}))),e.a=t.B,Promise.resolve()}(i,e,t))})),r.set(this.ja,(function(e){return e.B&&(i.b.ua(e.B,"error"),e.B=null),i.a=null,Ee(e=Promise.resolve())})),r.set(this.L,(function(e){return Ee(Yo(i,e))})),r.set(this.va,(function(e){return Ee(e=function(e,t){var n,i,r,a;return M((function(o){if(1==o.a)return n=new or,i=e.i.textDisplayFactory,r=Ot(i),e.Pc=i,w(o,(a=function(e,t,n,i){return new _r(e,t,n,i)}(t.B,n,r,(function(t,n,i){for(var r=(t=c(t)).next();!r.done;r=t.next())if((r=r.value).data&&r.cueTime&&r.frames){for(var a=r.cueTime+n,o=i,s=c(r.frames),l=s.next();!l.done;l=s.next())Qo(e,a,o,"ID3",l.value);e.H&&e.H.onHlsTimedMetadata(r,a)}}))).A,2);e.F=a,_(o)}))}(i,e))})),r.set(this.Tc,(function(e,t){return Ee(function(e,t,n){var i,r,a,o;return M((function(s){if(1==s.a)return t.mimeType=n.mimeType,t.uri=n.uri,i=t.uri,r=e.M,e.Na=i,a=e,w(s,ga(i,r,e.i.manifest.retryParameters,t.mimeType),2);a.hc=s.b,e.j=Ot(e.hc),o=Ve(e.i.manifest),n.B&&"AUDIO"===n.B.nodeName&&(o.disableVideo=!0),e.j.configure(o),_(s)}))}(i,e,t))})),r.set(this.Rc,(function(e){return function(e,t){var n=t.uri,i=e.M;e.ic=new eo((function(){return e.sd()})),function(e,t){e.b=t}(e.ic,(function(t){ms(e,qs,t),e.H&&e.H.onDashTimedMetadata(t)}));var r={networkingEngine:i,filter:function(t){return M((function(n){return n.return(e.mb(t))}))},makeTextStreamsForClosedCaptions:function(t){return function(e,t){for(var n=new Set,i=c(t.textStreams),r=i.next();!r.done;r=i.next())"application/cea-608"!=(r=r.value).mimeType&&"application/cea-708"!=r.mimeType||n.add(r.originalId);for(i=c(t.variants),r=i.next();!r.done;r=i.next())if((r=r.value.video)&&r.closedCaptions)for(var a=c(r.closedCaptions.keys()),o=a.next();!o.done;o=a.next())if(o=o.value,!n.has(o)){var s=o.startsWith("CC")?"application/cea-608":"application/cea-708",l=new Ya;s={id:e.Sc++,originalId:o,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:l,mimeType:s,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:r.closedCaptions.get(o),label:null,type:"text",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:r.roles,forced:!1,channelsCount:null,audioSamplingRate:null,closedCaptions:null},t.textStreams.push(s),n.add(o)}}(e,t)},onTimelineRegionAdded:function(t){var n=e.ic;e:{for(var i=c(n.a),r=i.next();!r.done;r=i.next())if((r=r.value).schemeIdUri==t.schemeIdUri&&r.id==t.id&&r.startTime==t.startTime&&r.endTime==t.endTime){i=r;break e}i=null}null==i&&(n.a.add(t),n.b(t))},onEvent:function(t){return e.dispatchEvent(t)},onError:function(t){return hs(e,t)},isLowLatencyMode:function(){return e.i.streaming.lowLatencyMode},isAutoLowLatencyMode:function(){return e.i.streaming.autoLowLatencyMode},enableLowLatencyMode:function(){e.configure("streaming.lowLatencyMode",!0)}},a=Date.now()/1e3;return new Se(function(){var t,i,o,s;return M((function(l){if(1==l.a)return t=e,w(l,e.j.start(n,r),2);if(t.u=l.b,i=Go(Ds),e.dispatchEvent(i),0==e.u.variants.length)throw new ye(2,4,4036);!function(e){function t(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}(e.u),o=Date.now()/1e3,s=o-a,e.f.A=s,_(l)}))}(),(function(){return e.j.stop()}))}(i,e)})),r.set(this.Oc,(function(){return Ee(function(e){var t,n;return M((function(i){if(1==i.a)return t=Date.now()/1e3,n=!0,e.h=$o(e,{ub:e.M,onError:function(t){hs(e,t)},sc:function(t){ys(e,t)},onExpirationUpdated:function(t,n){bs(e,t,n)},onEvent:function(i){e.dispatchEvent(i),i.type==As&&n&&(n=!1,e.f.f=Date.now()/1e3-t)}}),e.h.configure(e.i.drm),w(i,tn(e.h,e.u.variants,e.u.offlineSessionIds),2);e.mb(e.u),_(i)}))}(i))})),r.set(this.J,(function(e,t){return Ee(function(e,t,n){var i,r,a,o,s,l,u,d,p,f;return M((function(h){switch(h.a){case 1:return t.startTime=n.startTime,i=t.B,r=t.uri,e.Na=r,e.A=new Qa({qc:function(){return t.B.playbackRate},xd:function(e){t.B.playbackRate=e},Rd:function(e){t.B.currentTime+=e}}),a=function(){return as(e)},o=function(){return rs(e)},e.b.m(i,"playing",a),e.b.m(i,"pause",a),e.b.m(i,"ended",a),e.b.m(i,"ratechange",o),s=e.i.abrFactory,e.l&&e.Mc==s||(e.Mc=s,e.l=Ot(s),"function"!=typeof e.l.playbackRateChanged&&(gt("AbrManager","Please use an AbrManager with playbackRateChanged function."),e.l.playbackRateChanged=function(){}),e.l.configure(e.i.abr)),e.Oa=new fa(e.i.preferredAudioLanguage,e.i.preferredVariantRole,e.i.preferredAudioChannelCount),e.ha=e.i.preferredTextLanguage,function(e,t,n){0<t&&(e.T()||e.ce(t)),t=e.getDuration(),n<t&&(e.T()||e.Da(n))}(e.u.presentationTimeline,e.i.playRangeStart,e.i.playRangeEnd),w(h,e.h.Gb(i),2);case 2:if(e.l.init((function(t,n,i){n=void 0!==n&&n,i=void 0===i?0:i,e.c&&t!=e.c.b&&(qo(e.f.a,t,!0),lo(e.c,t,n,i),ls(e))})),e.v=function(e,t){return new Ha(e.a,e.u,e.i.streaming,t,(function(){if(e.wa&&Za(e.wa,!0),e.c)for(var t=e.c,n=t.o.pc(),i=t.i.smallGapLimit,r=c(t.a.keys()),a=r.next();!a.done;a=r.next()){a=a.value;var o=t.a.get(a),s=t.o.K;if("text"==a?s=null!=(s=s.c).a&&null!=s.b&&(n>=s.a&&n<s.b):s=ur(s=Pr(s,a),n,i),!s&&(null!=Er(t.o.K,a)&&po(t,o),o.na&&(o.na.abort(),o.na=null),"text"===a))for((a=t.o.K.v.a).g=0,a.b=[],a.a=[],(o=a.c).c=[],o.b=[],o.a=0,Bi(a),o=(a=c(a.f.values())).next();!o.done;o=a.next())ui(o.value)}e.C&&Zo(e)}),(function(t){return e.dispatchEvent(t)}))}(e,t.startTime),e.wa=function(e){var t=new to(e.ic);!function(e,t,n,i){e.a=t,e.b=n,e.c=i}(t,(function(t){ms(e,Ks,t)}),(function(t){ms(e,Ws,t)}),(function(t,n){n||(ms(e,Ks,t),ms(e,Ws,t))}));var n=new Ja(e.a);return n.a.add(t),n}(e),l=Math.max(e.u.minBufferTime,e.i.streaming.rebufferingGoal),Jo(e,l),Wr(e.u,e.i.preferredAudioChannelCount),e.c=function(e){return new oo(e.u,{pc:function(){return e.v.g()},getBandwidthEstimate:function(){return e.l.getBandwidthEstimate()},K:e.F,ub:e.M,onError:function(t){return hs(e,t)},onEvent:function(t){return e.dispatchEvent(t)},Ve:function(){e.j&&e.j.update&&e.j.update()},ld:function(){e.v&&e.v.v(),Zo(e)}})}(e),e.c.configure(e.i.streaming),e.g=Zs,e.dispatchEvent(Go(Bs)),u=os(e)?e.l.chooseVariant():null,qo(e.f.a,u,!0),lo(e.c,u,!1,0),(d=na(e.u.textStreams,e.ha,e.ec)[0]||null)&&Ko(e.f.a,d,!0),d?(u.audio&&function(e,t,n){return e=Br(e.i.preferredTextLanguage),t=Br(t.language),Ur(n=Br(n.language),e)&&!Ur(t,n)}(e,u.audio,d)&&(e.S=!0),e.S&&e.F.h.setTextVisibility(!0),ps(e)):e.S=!1,d&&(e.i.streaming.alwaysStreamText||e.Zc())&&uo(e.c,d),!e.i.streaming.startAtSegmentBoundary){h.s(3);break}return p=e.v.g(),w(h,function(e,t){var n,i,r,a,o;return M((function(s){return 1==s.a?(n=e.audio,i=e.video,r=function(e,t){var n,i;return M((function(r){return 1==r.a?e?w(r,e.createSegmentIndex(),2):r.return(null):(n=e.segmentIndex[Symbol.iterator]().seek(t))?(i=n.startTime,r.return(i)):r.return(null)}))},w(s,r(n,t),2)):3!=s.a?(a=s.b,w(s,r(i,t),3)):null!=(o=s.b)&&null!=a?s.return(Math.max(o,a)):null!=o?s.return(o):null!=a?s.return(a):s.return(t)}))}(u,p),4);case 4:f=h.b,e.v.l(f);case 3:return w(h,e.c.start(),5);case 5:e.i.abr.enabled&&(e.l.enable(),fs(e)),e.mb(e.u),us(e),ls(e),os(e),e.u.variants.some((function(e){return e.primary})),e.b.ma(i,"loadedmetadata",(function(){e.f.g=Date.now()/1e3-n.zd})),_(h)}}))}(i,e,t))})),r.set(this.Vc,(function(e){return Ee(e=function(e,t){var n,i,r,a;return M((function(o){return 1==o.a?(n=Ct,i=Date.now()/1e3,r=!0,e.h=$o(e,{ub:e.M,onError:function(t){hs(e,t)},sc:function(t){ys(e,t)},onExpirationUpdated:function(t,n){bs(e,t,n)},onEvent:function(t){e.dispatchEvent(t),t.type==As&&r&&(r=!1,e.f.f=Date.now()/1e3-i)}}),e.h.configure(e.i.drm),a={id:0,language:"und",primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"video/mp4",codecs:"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",label:null,type:n.Ga,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,closedCaptions:null},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0},w(o,tn(e.h,[a],[]),2)):w(o,e.h.Gb(t.B),0)}))}(i,e))})),r.set(this.xa,(function(e,t){return function(e,t,n){function i(){return as(e)}t.uri=n.uri,t.startTime=n.startTime,e.Na=t.uri,e.v=new Ba(t.B),null!=t.startTime&&e.v.l(t.startTime),e.A=new Qa({qc:function(){return t.B.playbackRate},xd:function(e){t.B.playbackRate=e},Rd:function(e){t.B.currentTime+=e}}),Jo(e,e.i.streaming.rebufferingGoal),e.b.m(t.B,"playing",i),e.b.m(t.B,"pause",i),e.b.m(t.B,"ended",i),e.b.m(t.B,"ratechange",(function(){return rs(e)})),"none"!=e.a.preload&&e.b.ma(e.a,"loadedmetadata",(function(){e.f.g=Date.now()/1e3-n.zd})),e.a.audioTracks&&(e.b.m(e.a.audioTracks,"addtrack",(function(){return us(e)})),e.b.m(e.a.audioTracks,"removetrack",(function(){return us(e)})),e.b.m(e.a.audioTracks,"change",(function(){return us(e)}))),e.a.textTracks&&(e.b.m(e.a.textTracks,"addtrack",(function(t){us(e),function(e,t){var n=t.track;"metadata"==n.kind&&(n.mode="hidden",e.b.m(n,"cuechange",(function(){if(n.activeCues)for(var t=c(n.activeCues),i=t.next();!i.done;i=t.next())i=i.value,Qo(e,i.startTime,i.endTime,i.type,i.value),e.H&&e.H.onCueMetadataChange(i.value)})),new ge((function(){for(var t=function(e){return Array.from(e.a.textTracks).filter((function(e){return"metadata"==e.kind}))}(e),n=(t=c(t)).next();!n.done;n=t.next())n.value.mode="hidden"})).Xb().R(.5))}(e,t)})),e.b.m(e.a.textTracks,"removetrack",(function(){return us(e)})),e.b.m(e.a.textTracks,"change",(function(){return us(e)}))),t.B.src=t.uri,(Ft()||zt("Web0S"))&&t.B.load(),e.g=el,e.dispatchEvent(Go(Bs));var r=new _e;ja(e.a,HTMLMediaElement.HAVE_METADATA,e.b,(function(){r.resolve()}));var a=!1;return e.Nc.push((function(){a=!0})),ja(e.a,HTMLMediaElement.HAVE_CURRENT_DATA,e.b,(function(){return M((function(t){return 1==t.a?a?t.return():(function(e){var t=e.i.preferredAudioLanguage;if(""!=t){e.td(t);var n=e.i.preferredVariantRole;""!=n&&e.td(t,n)}}(e),ts(e).find((function(e){return"disabled"!=e.mode}))?t.s(2):w(t,new Promise((function(t){e.b.ma(e.a.textTracks,"change",t),new ge(t).R(1)})),2)):a?t.return():(function(e){var t=e.i.preferredTextLanguage;if(""!=t){e.ud(t);var n=e.i.preferredTextRole;""!=n&&e.ud(t,n)}}(e),void _(t))}))})),e.a.error?r.reject(vs(e)):"none"==e.a.preload&&(G('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),r.resolve()),e.b.ma(e.a,"error",(function(){r.reject(vs(e))})),new Se(r,(function(){return r.reject(new ye(2,7,7001)),Promise.resolve()}))}(i,e,t)})),this.X=new So(this.ja,{Fe:function(e,t,n,r){var a=null;return e==i.ja&&(a=n==i.ja?i.ja:i.Ha),e==i.Ha&&(a=n==i.ja||t.B!=r.B?i.ja:n==i.Ha?i.Ha:n==i.va||n==i.J?i.va:n==i.xa?i.Vc:null),e==i.va&&(a=n==i.J&&t.B==r.B?i.Tc:i.L),e==i.Tc&&(a=Ts(i.J,i.Rc,i.L,n,t,r)),e==i.Rc&&(a=Ts(i.J,i.Oc,i.L,n,t,r)),e==i.Oc&&(a=Ts(i.J,i.J,i.L,n,t,r)),e==i.Vc&&(a=n==i.xa&&t.B==r.B?i.xa:i.L),e!=i.J&&e!=i.xa||(a=i.L),e==i.L&&(a=r.B&&t.B==r.B?i.Ha:i.ja),a},ue:function(e,t,n){return i.dispatchEvent(Go(Us,{state:e.name})),r.get(e)(t,n)},handleError:function(e){return M((function(t){return 1==t.a?w(t,Yo(i,e),2):t.return(e.B?i.Ha:i.ja)}))},Ue:function(e){i.dispatchEvent(Go(Vs,{state:e.name}))}}),t&&this.Gb(t,!0)}function Go(e,t){return new De(e,t)}function Yo(e,t){var n,i,r,a,o,s,l,u,d;return M((function(p){switch(p.a){case 1:return e.g!=$s&&(e.g=Js),n=e.Nc.map((function(e){return e()})),e.Nc=[],w(p,Promise.all(n),2);case 2:if(e.dispatchEvent(Go(Gs)),t.mimeType=null,t.startTime=null,t.uri=null,t.B&&(e.b.ua(t.B,"loadedmetadata"),e.b.ua(t.B,"playing"),e.b.ua(t.B,"pause"),e.b.ua(t.B,"ended"),e.b.ua(t.B,"ratechange")),e.wa&&(e.wa.release(),e.wa=null),e.Ua&&(e.Ua.stop(),e.Ua=null),!e.j){p.s(3);break}return w(p,e.j.stop(),4);case 4:e.j=null,e.hc=null;case 3:if(!e.l){p.s(5);break}return w(p,e.l.stop(),5);case 5:if(!e.c){p.s(7);break}return w(p,e.c.destroy(),8);case 8:e.c=null;case 7:if(e.A&&(e.A.release(),e.A=null),e.v&&(e.v.release(),e.v=null),!e.F){p.s(9);break}return w(p,e.F.destroy(),10);case 10:e.F=null;case 9:if(e.H&&e.H.onAssetUnload(),!t.B||!t.B.src){p.s(11);break}return w(p,new Promise((function(e){return new ge(e).R(.1)})),12);case 12:for(t.B.removeAttribute("src"),t.B.load();t.B.lastChild;)t.B.removeChild(t.B.firstChild);case 11:if(!e.h){p.s(13);break}return w(p,e.h.destroy(),14);case 14:e.h=null;case 13:if(e.Na=null,e.C=null,e.u){for(i=c(e.u.variants),r=i.next();!r.done;r=i.next())for(a=r.value,o=c([a.audio,a.video]),s=o.next();!s.done;s=o.next())(l=s.value)&&l.segmentIndex&&l.segmentIndex.release();for(u=c(e.u.textStreams),s=u.next();!s.done;s=u.next())(d=s.value).segmentIndex&&d.segmentIndex.release()}e.u=null,e.f=new Wo,e.Pc=null,is(e),_(p)}}))}function Qo(e,t,n,i,r){e.dispatchEvent(Go(Ns,{startTime:t,endTime:n,Yf:i,payload:r}))}function $o(e,t){return new en(t,e.i.drm.updateExpirationTime)}function Jo(e,t){e.C=new ha,e.C.a=va,ma(e.C,t,Math.min(.5,t/2)),is(e),e.Ua=new ge((function(){Zo(e)})).ta(.25)}function Zo(e){switch(e.g){case el:if(e.a.ended)var t=!0;else{var n=lr(e.a.buffered);t=null!=n&&n>=e.a.duration-1}break;case Zs:e:if(e.a.ended||xr(e.F))t=!0;else{if(e.u.presentationTimeline.T()){n=e.u.presentationTimeline.Ya();var i=lr(e.a.buffered);if(null!=i&&i>=n){t=!0;break e}}t=!1}break;default:t=!1}i=cr(e.a.buffered,e.a.currentTime);var r=t,a=(n=e.C).b.get(n.a);t=n.a,i=r||i>=a?ya:va,n.a=i,t!=i&&is(e)}function es(e){if(e.j){var t=Ve(e.i.manifest);e.a&&"AUDIO"===e.a.nodeName&&(t.disableVideo=!0),e.j.configure(t)}if(e.h&&e.h.configure(e.i.drm),e.c){e.c.configure(e.i.streaming);try{e.mb(e.u)}catch(a){hs(e,a)}e.l&&os(e),!(t=e.c.b)||t.allowedByApplication&&t.allowedByKeySystem||ss(e)}if(e.F&&(t=e.i.textDisplayFactory,e.Pc!=t)){var n=Ot(t),i=e.F,r=i.h;i.h=n,r&&(n.setTextVisibility(r.isTextVisible()),r.destroy()),i.c&&(i.c.c=n),e.Pc=t,e.c&&((n=(t=e.c).a.get("text"))&&co(t,n.stream,!0,0,!0))}e.l&&(e.l.configure(e.i.abr),e.i.abr.enabled?e.l.enable():e.l.disable(),fs(e)),e.C&&(t=e.i.streaming.rebufferingGoal,e.u&&(t=Math.max(t,e.u.minBufferTime)),ma(e.C,t,Math.min(.5,t/2)))}function ts(e){return Array.from(e.a.textTracks).filter((function(e){return"metadata"!=e.kind&&"chapters"!=e.kind&&"Shaka Player TextTrack"!=e.label}))}function ns(e){var t=Uo();return t.streaming.failureCallback=function(t){e.T()&&[1001,1002,1003].includes(t.code)&&(t.severity=1,e.qd())},t.textDisplayFactory=function(){return e.jc?new Ao(e.a,e.jc):new Oo(e.a)},t}function is(e){var t=e.Yc();if(e.f&&e.C&&e.v){var n=e.A;n.f=t,$a(n),as(e)}e.dispatchEvent(Go(Cs,{buffering:t}))}function rs(e){var t=e.a.playbackRate;0!=t&&(e.A&&e.A.set(t),t=Go(Fs),e.dispatchEvent(t))}function as(e){if(e.f&&e.C){var t=e.f.b;e.C.a==va?Bo(t,"buffering"):e.a.paused?Bo(t,"paused"):e.a.ended?Bo(t,"ended"):Bo(t,"playing")}}function os(e){try{gs(e,e.u)}catch(n){return hs(e,n),!1}var t=e.u.variants.filter((function(e){return ea(e)}));return t=e.Oa.create(t),e.l.setVariants(Array.from(t.values())),!0}function ss(e){var t;if(t=os(e)?e.l.chooseVariant():null){if(t==e.c.b)return;qo(e.f.a,t,!0),lo(e.c,t,!0,0),cs(e)}ls(e)}function ls(e){ks(e,Go(Ps))}function us(e){ks(e,Go(Xs))}function cs(e){ks(e,Go(Ys))}function ds(e){ks(e,Go(Hs))}function ps(e){ks(e,Go(zs))}function fs(e){ks(e,Go(Es,{Zf:e.i.abr.enabled}))}function hs(e,t){if(e.g!=$s){var n=Go(js,{detail:t});e.dispatchEvent(n),n.defaultPrevented&&(t.handled=!0)}}function ms(e,t,n){e.dispatchEvent(Go(t,{detail:{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}}))}function vs(e){if(!e.a.error)return null;var t=e.a.error.code;if(1==t)return null;var n=e.a.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new ye(2,3,3016,t,n,e.a.error.message)}function ys(e,t){if(e.c){var n=Object.keys(t),i=1==n.length&&"00"==n[0],r=!1;if(n.length)for(var a=(n=c(e.u.variants)).next();!a.done;a=n.next()){var o=[];(a=a.value).audio&&o.push(a.audio),a.video&&o.push(a.video);for(var s=(o=c(o)).next();!s.done;s=o.next()){var l=s.value;if(s=a.allowedByKeySystem,l.keyIds.size){a.allowedByKeySystem=!0;for(var u=(l=c(l.keyIds)).next();!u.done;u=l.next())u=u.value,u=t[i?"00":u],a.allowedByKeySystem=a.allowedByKeySystem&&!!u&&!nl.includes(u)}s!=a.allowedByKeySystem&&(r=!0)}}r&&os(e),(i=e.c.b)&&!i.allowedByKeySystem&&ss(e),r&&us(e)}}function bs(e,t,n){e.j&&e.j.onExpirationUpdated&&e.j.onExpirationUpdated(t,n),t=Go(Ls),e.dispatchEvent(t)}function gs(e,t){var n=e.h?It(e.h.S):{},i=Object.keys(n);i=i.length&&"00"==i[0];for(var r=!1,a=!1,o=new Set,s=new Set,l=c(t.variants),u=l.next();!u.done;u=l.next()){var d=[];(u=u.value).audio&&d.push(u.audio),u.video&&d.push(u.video);for(var p=(d=c(d)).next();!p.done;p=d.next())if((p=p.value).keyIds.size)for(var f=(p=c(p.keyIds)).next();!f.done;f=p.next()){f=f.value;var h=n[i?"00":f];h?nl.includes(h)&&s.add(h):o.add(f)}u.allowedByApplication?u.allowedByKeySystem&&(r=!0):a=!0}if(!r)throw new ye(2,4,4012,n={hasAppRestrictions:a,missingKeys:Array.from(o),restrictedKeyStatuses:Array.from(s)})}function ks(e,t){M((function(n){if(1==n.a)return w(n,Promise.resolve(),2);e.g!=$s&&e.dispatchEvent(t),_(n)}))}function ws(e){for(var t=new Set,n=(e=c(e)).next();!n.done;n=e.next())(n=n.value).language?t.add(Br(n.language)):t.add("und");return t}function _s(e){for(var t=new Map,n=new Map,i=(e=c(e)).next();!i.done;i=e.next()){var r="und",a=[];(i=i.value).language&&(r=Br(i.language)),(a="variant"==i.type?i.audioRoles:i.roles)&&a.length||(a=[""]),t.has(r)||t.set(r,new Set);for(var o=(a=c(a)).next();!o.done;o=a.next())o=o.value,t.get(r).add(o),i.label&&(n.has(r)||n.set(r,new Map),n.get(r).set(o,i.label))}var s=[];return t.forEach((function(e,t){for(var i=c(e),r=i.next();!r.done;r=i.next()){r=r.value;var a=null;n.has(t)&&n.get(t).has(r)&&(a=n.get(t).get(r)),s.push({language:t,role:r,label:a})}})),s}function Ss(){return new ye(2,7,7e3)}function Ts(e,t,n,i,r,a){return i==e&&r.B==a.B&&r.uri==a.uri&&r.mimeType==a.mimeType?t:n}function xs(){return{B:null,mimeType:null,startTime:null,zd:NaN,uri:null}}function Os(e){return new Promise((function(t,n){e.bb=function(){return n(Ss())},e.rc=function(){return t()},e.onError=function(e){return n(e)},e.tc=function(){return n(Ss())}}))}oo.prototype.destroy=function(){return this.D.destroy()},oo.prototype.configure=function(e){this.i=e,this.j=new ke({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0},!0)},oo.prototype.start=function(){var e=this;return M((function(t){if(1==t.a)return w(t,function(e){var t,n,i,r,a,o,s,l,u,d;return M((function(p){if(1==p.a){if(t=Ct,!e.b)throw new ye(2,5,5006);return n=new Map,i=new Set,e.b.audio&&(n.set(t.kb,e.b.audio),i.add(e.b.audio)),e.b.video&&(n.set(t.Ga,e.b.video),i.add(e.b.video)),e.c&&(n.set(t.$,e.c),i.add(e.c)),r=e.o.K,a=e.i.forceTransmuxTS,w(p,r.init(n,a),2)}it(e.D);var f=e.u.presentationTimeline.getDuration();for(1/0>f?e.o.K.Da(f):e.o.K.Da(Math.pow(2,32)),o=c(n.keys()),s=o.next();!s.done;s=o.next())l=s.value,u=n.get(l),e.a.has(l)||(d=fo(u),e.a.set(l,d),go(e,d,0));_(p)}))}(e),2);it(e.D),e.h=!0,_(t)}))},oo.prototype.Sb=function(t){var n,i,r,a,o=this;return M((function(s){switch(s.a){case 1:if(it(o.D),t.Ra||null==t.Fa||t.Hb)return s.return();if(t.Fa=null,!t.Bb){s.s(2);break}return w(s,bo(o,t,t.Bc,t.mc),3);case 3:return s.return();case 2:if(t.stream.segmentIndex){s.s(4);break}return n=t.stream,w(s,t.stream.createSegmentIndex(),5);case 5:if(n!=t.stream)return null==t.Fa&&go(o,t,0),s.return();case 4:t.Ca||(t.Ca=t.stream.segmentIndex[Symbol.iterator]());try{null!=(i=function(t,n){if(vo(n))return Ar(t.o.K,n.stream.originalId||""),null;var i=t.o.pc(),r=n.Rb&&n.Qa?n.Qa.endTime:i,a=function(e,t,n){return"text"==t?null==(e=e.c).b||e.b<n?0:e.b-Math.max(n,e.a):cr(e=Pr(e,t),n)}(t.o.K,n.type,i),o=Math.max(t.u.minBufferTime||0,t.i.rebufferingGoal,t.i.bufferingGoal)*t.f;if(r>=t.u.presentationTimeline.getDuration())return n.endOfStream=!0,"video"==n.type&&(i=t.a.get("text"))&&vo(i)&&(i.endOfStream=!0),null;if(n.endOfStream=!1,a>=o)return.5;if(a=Er(t.o.K,n.type),!(a=ho(t,n,i,a)))return 1;o=1/0;for(var s=Array.from(t.a.values()),l=(s=c(s)).next();!l.done;l=s.next())vo(l=l.value)||(o=Math.min(o,l.Rb&&l.Qa?l.Qa.endTime:i));return r>=o+t.u.presentationTimeline.a?1:(function(t,n,i,r){var a,o,s,l,u,c,d,p,f,h,m,v;return M((function(y){switch(y.a){case 1:return a=Ct,o=n.stream,n.Ra=!0,s=function(e,t,n){var i,r,a,o,s,l,u;return M((function(c){return i=[],r=Math.max(0,n.appendWindowStart-.1),a=n.appendWindowEnd+.01,(o=n.timestampOffset)==t.dd&&r==t.bd&&a==t.$c||(s=function(){var n;return M((function(i){if(1==i.a)return S(i,2),t.bd=r,t.$c=a,t.dd=o,w(i,function(e,t,n,i,r){return M((function(a){return t==Ct.$?(e.c.v=n,function(e,t,n){e.f=t,e.g=n}(e.c,i,r),a.return()):w(a,Promise.all([Lr(e,t,(function(){var n=e.f[t].appendWindowStart,i=e.f[t].appendWindowEnd;e.f[t].abort(),e.f[t].appendWindowStart=n,e.f[t].appendWindowEnd=i,jr(e,t)})),Lr(e,t,(function(){var i=n;0>i&&(i+=.001),e.f[t].timestampOffset=i,jr(e,t)})),Lr(e,t,(function(){e.f[t].appendWindowStart=0,e.f[t].appendWindowEnd=r,e.f[t].appendWindowStart=i,jr(e,t)}))]),0)}))}(e.o.K,t.type,o,r,a),4);if(2!=i.a)return x(i,0);throw n=O(i),t.bd=null,t.$c=null,t.dd=null,n}))},i.push(s())),!function(e,t){return e&&t?e.Ob()==t.Ob()&&e.Kb()==t.Kb()&&qe(e.a(),t.a()):e==t}(n.c,t.cd)&&(t.cd=n.c)&&(l=yo(e,t,n.c),u=function(){var n,i,r;return M((function(a){switch(a.a){case 1:return S(a,2),w(a,l,4);case 4:return n=a.b,it(e.D),i=t.stream.closedCaptions&&0<t.stream.closedCaptions.size,w(a,Cr(e.o.K,t.type,n,null,null,i),5);case 5:x(a,0);break;case 2:throw r=O(a),t.cd=null,r}}))},i.push(u())),w(c,Promise.all(i),0)}))}(t,n,r),S(y,2),l="video/mp4"==o.mimeType||"audio/mp4"==o.mimeType,u=e.ReadableStream,t.i.lowLatencyMode&&u&&l?(p=new Uint8Array(0),f=function(e){var a,l,u;return M((function(c){return 1==c.a?w(c,s,2):(it(t.D),t.g?c.return():(p=function(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(p,e),a=!1,l=0,(new Xi).box("mdat",(function(e){l=e.size+e.start,a=!0})).parse(p,!1,!0),a?(u=p.subarray(0,l),p=p.subarray(l),w(c,mo(t,n,i,o,r,u),0)):c.s(0)))}))},w(y,yo(t,n,r,f),5)):(c=yo(t,n,r),w(y,Promise.all([s,c]),6));case 6:return d=y.b,it(t.D),t.g?y.return():w(y,mo(t,n,i,o,r,d[1]),5);case 5:if(it(t.D),t.g)return y.return();!function(e,t,n){e.Rb=n,e.Qa=t,e.stream==n&&e.Ca.next()}(n,r,o),n.Ra=!1,n.pd=!1,h=t.o.K.oc(),m=h[n.type],JSON.stringify(m),n.Bb||t.o.ld(),go(t,n,0),x(y,0);break;case 2:if(v=O(y),it(t.D,v),t.g)return y.return();n.Ra=!1,n.type==a.$&&t.i.ignoreTextStreamFailures?t.a.delete(a.$):7001==v.code?(n.Ra=!1,n.Fa=null,go(t,n,0)):3017==v.code?function(e,t,n){if(!Array.from(e.a.values()).some((function(e){return e!=t&&e.pd}))){var i=Math.round(100*e.f);if(20<i)e.f-=.2;else{if(!(4<i))return t.Pb=!0,e.g=!0,void e.o.onError(n);e.f-=.04}t.pd=!0}go(e,t,4)}(t,n,v):1001==v.code&&v.data&&404==v.data[1]?(n.Ra=!1,n.Fa=null,go(t,n,1)):(n.Pb=!0,v.severity=2,_o(t,v)),_(y)}}))}(t,n,i,a).catch((function(){})),null)}(o,t))&&(go(o,t,i),t.Pb=!1)}catch(l){return _o(o,l),s.return()}if(r=Array.from(o.a.values()),!o.h||!r.every((function(e){return e.endOfStream}))){s.s(0);break}return w(s,o.o.K.endOfStream(),7);case 7:it(o.D),0!=(a=o.o.K.getDuration())&&a<o.u.presentationTimeline.getDuration()&&o.u.presentationTimeline.Da(a),_(s)}}))},So.prototype.destroy=function(){return this.D.destroy()},(i=Oo.prototype).remove=function(e,t){return!!this.a&&(Po(this.a,(function(n){return n.startTime<t&&n.endTime>e})),!0)},i.append=function(e){function t(e){var n=[],i=700<=e.fontWeight,r="italic"==e.fontStyle,a=e.textDecoration.includes("underline");return i&&n.push("b"),r&&n.push("i"),a&&n.push("u"),i=n.reduce((function(e,t){return e+"<"+t+">"}),""),n=n.reduceRight((function(e,t){return e+"</"+t+">"}),""),e.spacer?"\n":e.nestedCues.length?e.nestedCues.map(t).join(""):i+e.payload+n}var n=e.map((function(e){if(e.nestedCues.length){var n=e.clone();return n.nestedCues=[],n.payload=t(e),n}return e})),i=[];e=this.a.cues?Array.from(this.a.cues):[];for(var r={},a=(n=c(n)).next();!a.done;r={ib:r.ib},a=n.next())r.ib=a.value,e.some(function(e){return function(t){return t.startTime==e.ib.startTime&&t.endTime==e.ib.endTime&&t.text==e.ib.payload}}(r))||(a=Eo(r.ib))&&i.push(a);for(r=(e=c(e=i.slice().sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:"line"in VTTCue.prototype?i.indexOf(t)-i.indexOf(e):i.indexOf(e)-i.indexOf(t)})))).next();!r.done;r=e.next())this.a.addCue(r.value)},i.destroy=function(){return this.a&&(Po(this.a,(function(){return!0})),this.a.mode="disabled"),this.a=null,Promise.resolve()},i.isTextVisible=function(){return"showing"==this.a.mode},i.setTextVisibility=function(e){this.a.mode=e?"showing":"hidden"},B("shaka.text.SimpleTextDisplayer",Oo),Oo.prototype.setTextVisibility=Oo.prototype.setTextVisibility,Oo.prototype.isTextVisible=Oo.prototype.isTextVisible,Oo.prototype.destroy=Oo.prototype.destroy,Oo.prototype.append=Oo.prototype.append,Oo.prototype.remove=Oo.prototype.remove,B("shaka.util.Dom",Co),Co.removeAllChildren=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},(i=Ao.prototype).append=function(e){for(var t={},n=(e=c(e)).next();!n.done;t={Zb:t.Zb},n=e.next())t.Zb=n.value,this.c.some(function(e){return function(t){return xn(t,e.Zb)}}(t))||this.c.push(t.Zb);Io(this)},i.destroy=function(){this.g.removeChild(this.b),this.b=null,this.h=!1,this.c=[],this.j&&this.j.stop(),this.f.clear()},i.remove=function(e,t){return!!this.b&&(this.c=this.c.filter((function(n){return n.startTime<e||n.endTime>=t})),Io(this),!0)},i.isTextVisible=function(){return this.h},i.setTextVisibility=function(e){this.h=e},B("shaka.text.UITextDisplayer",Ao),Ao.prototype.setTextVisibility=Ao.prototype.setTextVisibility,Ao.prototype.isTextVisible=Ao.prototype.isTextVisible,Ao.prototype.remove=Ao.prototype.remove,Ao.prototype.destroy=Ao.prototype.destroy,Ao.prototype.append=Ao.prototype.append,B("shaka.util.ConfigUtils",Mo),Mo.convertToConfigObject=Do,Mo.mergeConfigObjects=Ro,B("shaka.util.PlayerConfiguration",No),No.mergeConfigObjects=Vo,y(Xo,Ue),(i=Xo.prototype).destroy=function(){var e,t=this;return M((function(n){switch(n.a){case 1:return t.g==$s?n.return():(t.g=$s,e=To(t.X,(function(){return{node:t.ja,payload:xs(),Za:!1}})),w(n,new Promise((function(t){e.wb=function(){},e.rc=function(){t()},e.bb=function(){t()},e.onError=function(){t()},e.tc=function(){t()}})),2));case 2:return w(n,t.X.destroy(),3);case 3:if(t.b&&(t.b.release(),t.b=null),t.Mc=null,t.l=null,t.i=null,t.f=null,t.jc=null,!t.M){n.s(0);break}return w(n,t.M.destroy(),5);case 5:t.M=null,_(n)}}))},i.Gb=function(e,t){if(t=void 0===t||t,this.g==$s)return Promise.reject(Ss());var n=xs();n.B=e,Nt()||(t=!1);var i=t?this.va:this.Ha,r=To(this.X,(function(){return{node:i,payload:n,Za:!1}}));return r.wb=function(){},Os(r)},i.detach=function(){var e=this;if(this.g==$s)return Promise.reject(Ss());var t=To(this.X,(function(){return{node:e.ja,payload:xs(),Za:!1}}));return t.wb=function(){},Os(t)},i.Cd=function(e){var t=this;if(e=void 0===e||e,this.g==$s)return Promise.reject(Ss());Nt()||(e=!1);var n=xs(),i=To(this.X,(function(i){var r=i.B&&e?t.va:i.B?t.Ha:t.ja;return n.B=i.B,{node:r,payload:n,Za:!1}}));return i.wb=function(){},Os(i)},i.load=function(e,t,n){var i=this;if(this.g==$s)return Promise.reject(Ss());this.dispatchEvent(Go(Rs));var r=xs();r.uri=e,r.zd=Date.now()/1e3,n&&(r.mimeType=n),void 0!==t&&(r.startTime=t);var a=function(e,t){if(!Nt())return!0;var n=t.mimeType,i=t.uri||"";return n||(n={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"}[wa(i)]),!!n&&(""!=(t.B||qt()).canPlayType(n)&&(!Nt()||!(n in _a)&&!(wa(i)in Sa)||Bt()&&e.i.streaming.useNativeHlsOnSafari))}(this,r)?this.xa:this.J,o=To(this.X,(function(e){return null==e.B?null:(r.B=e.B,{node:a,payload:r,Za:!0})}));return this.f=new Wo,o.wb=function(){},new Promise((function(e,t){o.tc=function(){return t(new ye(2,7,7002))},o.rc=function(){e(),i.dispatchEvent(Go(Ms))},o.bb=function(){return t(Ss())},o.onError=function(e){return t(e)}}))},i.configure=function(e,t){2==arguments.length&&"string"==typeof e&&(e=Do(e,t)),e.manifest&&e.manifest.dash&&"defaultPresentationDelay"in e.manifest.dash&&(gt("manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),e.manifest.defaultPresentationDelay=e.manifest.dash.defaultPresentationDelay,delete e.manifest.dash.defaultPresentationDelay),e.streaming&&e.streaming.lowLatencyMode&&(void 0==e.streaming.inaccurateManifestTolerance&&(e.streaming.inaccurateManifestTolerance=0),void 0==e.streaming.rebufferingGoal&&(e.streaming.rebufferingGoal=.01));var n=Vo(this.i,e,ns(this));return es(this),n},i.getConfiguration=function(){var e=ns(this);return Vo(e,this.i,ns(this)),e},i.ef=function(){for(var e in this.i)delete this.i[e];Vo(this.i,ns(this),ns(this)),es(this)},i.Ae=function(){return this.g},i.Ee=function(){return this.a},i.Mb=function(){return this.M},i.Wc=function(){return this.Na},i.Ld=function(){return Y("getAdManager","Shaka Player's ad features are currently in BETA and are NOT yet covered by semantic versioning compatibility guarantees.  The API may change at any time!"),this.H},i.T=function(){return this.u?this.u.presentationTimeline.T():!(!this.a||!this.a.src)&&1/0==this.a.duration},i.ab=function(){return!!this.u&&this.u.presentationTimeline.ab()},i.Qe=function(){if(this.u){var e=this.u.variants;return!!e.length&&!e[0].video}return!(!this.a||!this.a.src)&&(this.a.videoTracks?0==this.a.videoTracks.length:0==this.a.videoHeight)},i.sd=function(){if(this.u){var e=this.u.presentationTimeline;return{start:e.pb(),end:e.Ja()}}return this.a&&this.a.src&&(e=this.a.seekable).length?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:0}},i.keySystem=function(){return sn(this.drmInfo())},i.drmInfo=function(){return this.h?this.h.c:null},i.Lb=function(){return this.h?this.h.Lb():1/0},i.Yc=function(){return!!this.C&&this.C.a==va},i.Ge=function(){return this.a?this.A?this.A.b:1:0},i.qf=function(e){0==e?G("A trick play rate of 0 is unsupported!"):(this.a.paused&&this.a.play(),this.A.set(e),this.g==Zs&&(this.l.playbackRateChanged(e),so(this.c,1<Math.abs(e))))},i.oe=function(){this.g==el&&this.A.set(1),this.g==Zs&&(this.A.set(1),this.l.playbackRateChanged(1),so(this.c,!1))},i.Xc=function(){if(this.u){for(var e=this.c?this.c.b:null,t=[],n=c(this.u.variants),i=n.next();!i.done;i=n.next())if(ea(i=i.value)){var r=Yr(i);r.active=i==e,t.push(r)}return t}return this.a&&this.a.audioTracks?Array.from(this.a.audioTracks).map((function(e){return Jr(e)})):[]},i.rb=function(){if(this.u){for(var e=this.c?this.c.c:null,t=[],n=c(this.u.textStreams),i=n.next();!i.done;i=n.next()){var r=Qr(i=i.value);r.active=i==e,t.push(r)}return t}return this.a&&this.a.src&&this.a.textTracks?ts(this).map((function(e){var t=Zr(e);return t.active="disabled"!=e.mode,t.type="text",t.originalTextId=e.id,"captions"==e.kind&&(t.mimeType="application/cea-608"),e.kind&&(t.roles=[e.kind]),"forced"==e.kind&&(t.forced=!0),t})):[]},i.$d=function(e){if(this.u&&this.c){var t=this.u.textStreams.find((function(t){return t.id==e.id}));t&&t!=this.c.c&&(Ko(this.f.a,t,!1),uo(this.c,t),ds(this),this.ha=t.language)}else if(this.a&&this.a.src&&this.a.textTracks){for(var n=(t=c(t=ts(this))).next();!n.done;n=t.next())$r(n=n.value)==e.id?n.mode=this.S?"showing":"hidden":n.mode="disabled";ds(this)}},i.ff=function(e,t,n){if(t=void 0!==t&&t,n=void 0===n?0:n,this.u&&this.c){this.i.abr.enabled&&G("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var i=this.u.variants.find((function(t){return t.id==e.id}));i&&ea(i)&&i!=this.c.b&&(qo(this.f.a,i,!1),lo(this.c,i,t,n),cs(this),this.Oa=new pa(i),os(this))}else if(this.a&&this.a.audioTracks){for(n=(t=c(t=Array.from(this.a.audioTracks))).next();!n.done;n=t.next())$r(n=n.value)==e.id&&(n.enabled=!0);cs(this)}},i.we=function(){return _s(this.Xc())},i.Ne=function(){return _s(this.rb())},i.ve=function(){return Array.from(ws(this.Xc()))},i.Me=function(){return Array.from(ws(this.rb()))},i.td=function(e,t){if(this.u&&this.v)this.Oa=new fa(e,t||"",0,""),ss(this);else if(this.a&&this.a.audioTracks){for(var n=Array.from(this.a.audioTracks),i=Br(e),r=null,a=null,o=(n=c(n)).next();!o.done;o=n.next()){var s=Jr(o=o.value);Br(s.language)==i&&(r=o,t?s.roles.includes(t)&&(a=o):0==s.roles.length&&(a=o))}a?(a.enabled=!0,cs(this)):r&&(r.enabled=!0,cs(this))}},i.ud=function(e,t){if(this.u&&this.v){this.ha=e,this.ec=t||"";var n=na(this.u.textStreams,this.ha,this.ec)[0]||null;n&&n!=this.c.c&&(Ko(this.f.a,n,!1),this.i.streaming.alwaysStreamText||this.Zc())&&(uo(this.c,n),ds(this))}else{var i=Br(e);(n=this.rb().find((function(e){return Br(e.language)==i&&(!t||e.roles.includes(t))})))&&this.$d(n)}},i.gf=function(e){if(this.u&&this.v){for(var t=null,n=c(this.u.variants),i=n.next();!i.done;i=n.next())if((i=i.value).audio.label==e){t=i;break}null!=t&&(this.Oa=new fa(t.language,"",0,e),ss(this))}},i.Zc=function(){var e=this.S;return this.F?this.F.h.isTextVisible():this.a&&this.a.src&&this.a.textTracks?ts(this).some((function(e){return"showing"==e.mode})):e},i.nf=function(e){if(e=!!e,this.S!=e){if(this.S=e,this.g==Zs)this.F.h.setTextVisibility(e),this.i.streaming.alwaysStreamText||(e?this.c.c||0<(e=na(this.u.textStreams,this.ha,this.ec)).length&&(uo(this.c,e[0]),ds(this)):function(e){var t=e.a.get("text");t&&(ko(t),wo(t).catch((function(){})),e.a.delete("text")),e.c=null}(this.c));else if(this.a&&this.a.src&&this.a.textTracks)for(var t=ts(this),n=(t=c(t)).next();!n.done;n=t.next())"disabled"!=(n=n.value).mode&&(n.mode=e?"showing":"hidden");ps(this)}},i.Ie=function(){if(!this.T())return null;var e=this.X.f,t=0;if(this.v)t=this.v.g();else if(e){if(null==e.startTime)return new Date;t=e.startTime}return this.u?new Date(1e3*(this.u.presentationTimeline.f+t)):this.a&&this.a.getStartDate?(e=this.a.getStartDate(),isNaN(e.getTime())?null:new Date(e.getTime()+1e3*t)):null},i.Md=function(){if(!this.T())return null;if(this.u)return new Date(1e3*this.u.presentationTimeline.f);if(this.a&&this.a.getStartDate){var e=this.a.getStartDate();return isNaN(e.getTime())?null:e}return null},i.oc=function(){if(this.g==Zs)return this.F.oc();var e={total:[],audio:[],video:[],text:[]};return this.g==el&&(e.total=dr(this.a.buffered)),e},i.getStats=function(){if(this.g!=Zs&&this.g!=el)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]};as(this);var e=this.a,t=e.currentTime/e.duration;if(!isNaN(t)){var n=this.f;t=Math.round(100*t),n.c=isNaN(n.c)?t:Math.max(n.c,t)}e.getVideoPlaybackQuality&&(e=e.getVideoPlaybackQuality(),n=this.f,t=Number(e.totalVideoFrames),n.L=Number(e.droppedVideoFrames),n.J=t,this.f.H=Number(e.corruptedVideoFrames)),this.h?e=(e=this.h).F?e.F:NaN:e=NaN,this.f.F=e,this.g==Zs&&((e=this.c.b)&&(this.f.j=(this.A?this.A.b:1)*e.bandwidth),e&&e.video&&(n=this.f,t=e.video.height||NaN,n.S=e.video.width||NaN,n.l=t),this.T()&&(e=this.Md().valueOf()+1e3*this.sd().end,this.f.v=(Date.now()-e)/1e3),this.u&&this.u.presentationTimeline&&(this.f.C=this.u.presentationTimeline.a),e=this.l.getBandwidthEstimate(),this.f.h=e);var i=this.f;e=i.S,n=i.l,t=i.j;for(var r=i.J,a=i.L,o=i.H,s=i.h,l=i.c,u=i.g,d=i.A,p=i.f,f=Ho(i.b,"playing"),h=Ho(i.b,"paused"),m=Ho(i.b,"buffering"),v=i.F,y=i.v,b=i.C,g=function(e){function t(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}}for(var n=[],i=c(e.b),r=i.next();!r.done;r=i.next())n.push(t(r.value));return e.a&&n.push(t(e.a)),n}(i.b),k=[],w=(i=c(i.a.a)).next();!w.done;w=i.next())w=w.value,k.push({timestamp:w.timestamp,id:w.id,type:w.type,fromAdaptation:w.fromAdaptation,bandwidth:w.bandwidth});return{width:e,height:n,streamBandwidth:t,decodedFrames:r,droppedFrames:a,corruptedFrames:o,estimatedBandwidth:s,completionPercent:l,loadLatency:u,manifestTimeSeconds:d,drmTimeSeconds:p,playTime:f,pauseTime:h,bufferingTime:m,licenseTime:v,liveLatency:y,maxSegmentDuration:b,stateHistory:g,switchHistory:k}},i.addTextTrack=function(e,t,n,i,r,a,o){if(o=void 0!==o&&o,gt("addTextTrack","Please use an addTextTrackAsync."),this.g!=Zs&&this.g!=el)throw new ye(1,7,7004);if(!i){var s=wa(e);if(!(i={srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml"}[s]))throw new ye(1,2,2011,s)}if(this.g==el){if("text/vtt"!=i)throw new ye(1,2,2013,i);if(o&&(n="forced"),(i=document.createElement("track")).setAttribute("src",e),i.setAttribute("label",a||""),i.setAttribute("kind",n),i.setAttribute("srclang",t),this.a.appendChild(i),e=this.rb().find((function(e){return e.language==t&&e.label==(a||"")&&e.kind==n})))return us(this),e;throw new ye(1,2,2012)}if(1/0==(s=this.u.presentationTimeline.getDuration()))throw new ye(1,4,4033);return e={id:this.Sc++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Xa(0,s,[e]),mimeType:i||"",codecs:r||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,label:a||null,type:"text",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!o,channelsCount:null,audioSamplingRate:null,closedCaptions:null},this.u.textStreams.push(e),us(this),Qr(e)},i.le=function(e,t,n,i,r,a,o){o=void 0!==o&&o;var s,l,u,c,d,p,f,h,m,v,y,b=this;return M((function(g){switch(g.a){case 1:if(b.g!=Zs&&b.g!=el)throw new ye(1,7,7004);if(i){g.s(2);break}if(s=wa(e),i={srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml"}[s]){g.s(3);break}return S(g,4),w(g,ka(e,b.M,b.i.streaming.retryParameters),6);case 6:i=g.b,x(g,3);break;case 4:O(g);case 3:if(!i)throw new ye(1,2,2011,s);case 2:if(b.g!=el){g.s(7);break}if("text/srt"!=i){g.s(8);break}return S(g,9),w(g,function(e,t,n){var i,r,a;return M((function(o){return 1==o.a?(i=Ze,(r=Ye([e],n)).method="GET",w(o,t.request(i,r).promise,2)):(a=o.b,o.return(ut(a.data)))}))}(e,b.M,b.i.streaming.retryParameters),11);case 11:l=g.b,u=function(e,t){if("text/srt"===t){if(dh)return ph(e);throw new ye(2,2,2014,t)}throw new ye(1,2,2013,t)}(l,i),c=new Blob([u],{type:"text/vtt"}),e=URL.createObjectURL(c),i="text/vtt",x(g,8);break;case 9:if((d=O(g))instanceof ye)throw d;case 8:if("text/vtt"!=i)throw new ye(1,2,2013,i);if(o&&(n="forced"),(p=document.createElement("track")).setAttribute("src",e),p.setAttribute("label",a||""),p.setAttribute("kind",n),p.setAttribute("srclang",t),b.a.appendChild(p),f=b.rb(),h=f.find((function(e){return e.language==t&&e.label==(a||"")&&e.kind==n})))return us(b),g.return(h);throw new ye(1,2,2012);case 7:if(m=Ct,1/0==(v=b.u.presentationTimeline.getDuration()))throw new ye(1,4,4033);return y={id:b.Sc++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Xa(0,v,[e]),mimeType:i||"",codecs:r||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,label:a||null,type:m.$,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!o,channelsCount:null,audioSamplingRate:null,closedCaptions:null},b.u.textStreams.push(y),us(b),g.return(Qr(y))}}))},i.wd=function(e,t){this.Cc.width=e,this.Cc.height=t},i.qd=function(){if(this.g==Zs){var e=this.c;if(e.D.a)e=!1;else if(e.g)e=!1;else{for(var t=c(e.a.values()),n=t.next();!n.done;n=t.next())(n=n.value).Pb&&(n.Pb=!1,go(e,n,.1));e=!0}}else e=!1;return e},i.Be=function(){return G("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.u},i.Ce=function(){return this.hc},i.de=function(e){this.jc=e},i.mb=function(e){if(function(e,t,n){n.variants=n.variants.filter((function(n){if(e&&e.L&&!vn(e,n))return!1;var i=n.audio;return n=n.video,!(i&&!Sr(i)||n&&!Sr(n)||i&&t&&t.audio&&!Gr(i,t.audio)||n&&t&&t.video&&!Gr(n,t.video))})),n.textStreams=n.textStreams.filter((function(e){return gr(Mt(e.mimeType,e.codecs))}))}(this.h,this.c?this.c.b:null,e),!e.variants.some(ea))throw new ye(2,4,4032);for(var t=this.i.restrictions,n=this.Cc,i=!1,r=c(e.variants),a=r.next();!a.done;a=r.next()){var o=(a=a.value).allowedByApplication;a.allowedByApplication=Xr(a,t,n),o!=a.allowedByApplication&&(i=!0)}if(i&&this.c&&us(this),t=this.h?this.h.c:null)for(i=(n=c(e.variants)).next();!i.done;i=n.next())for(r=(i=c(((i=i.value).video?i.video.drmInfos:[]).concat(i.audio?i.audio.drmInfos:[]))).next();!r.done;r=i.next())if((r=r.value).keySystem==t.keySystem)for(a=(r=c(r.initData||[])).next();!a.done;a=r.next())a=a.value,on(this.h,a.initDataType,a.initData);gs(this,e)},B("shaka.Player",Xo),Xo.prototype.setVideoContainer=Xo.prototype.de,Xo.prototype.getManifestParserFactory=Xo.prototype.Ce,Xo.prototype.getManifest=Xo.prototype.Be,Xo.prototype.retryStreaming=Xo.prototype.qd,Xo.prototype.setMaxHardwareResolution=Xo.prototype.wd,Xo.prototype.addTextTrackAsync=Xo.prototype.le,Xo.prototype.addTextTrack=Xo.prototype.addTextTrack,Xo.prototype.getStats=Xo.prototype.getStats,Xo.prototype.getBufferedInfo=Xo.prototype.oc,Xo.prototype.getPresentationStartTimeAsDate=Xo.prototype.Md,Xo.prototype.getPlayheadTimeAsDate=Xo.prototype.Ie,Xo.prototype.setTextTrackVisibility=Xo.prototype.nf,Xo.prototype.isTextTrackVisible=Xo.prototype.Zc,Xo.prototype.selectVariantsByLabel=Xo.prototype.gf,Xo.prototype.selectTextLanguage=Xo.prototype.ud,Xo.prototype.selectAudioLanguage=Xo.prototype.td,Xo.prototype.getTextLanguages=Xo.prototype.Me,Xo.prototype.getAudioLanguages=Xo.prototype.ve,Xo.prototype.getTextLanguagesAndRoles=Xo.prototype.Ne,Xo.prototype.getAudioLanguagesAndRoles=Xo.prototype.we,Xo.prototype.selectVariantTrack=Xo.prototype.ff,Xo.prototype.selectTextTrack=Xo.prototype.$d,Xo.prototype.getTextTracks=Xo.prototype.rb,Xo.prototype.getVariantTracks=Xo.prototype.Xc,Xo.prototype.cancelTrickPlay=Xo.prototype.oe,Xo.prototype.trickPlay=Xo.prototype.qf,Xo.prototype.getPlaybackRate=Xo.prototype.Ge,Xo.prototype.isBuffering=Xo.prototype.Yc,Xo.prototype.getExpiration=Xo.prototype.Lb,Xo.prototype.drmInfo=Xo.prototype.drmInfo,Xo.prototype.keySystem=Xo.prototype.keySystem,Xo.prototype.seekRange=Xo.prototype.sd,Xo.prototype.isAudioOnly=Xo.prototype.Qe,Xo.prototype.isInProgress=Xo.prototype.ab,Xo.prototype.isLive=Xo.prototype.T,Xo.prototype.getAdManager=Xo.prototype.Ld,Xo.prototype.getAssetUri=Xo.prototype.Wc,Xo.prototype.getNetworkingEngine=Xo.prototype.Mb,Xo.prototype.getMediaElement=Xo.prototype.Ee,Xo.prototype.getLoadMode=Xo.prototype.Ae,Xo.prototype.resetConfiguration=Xo.prototype.ef,Xo.prototype.getConfiguration=Xo.prototype.getConfiguration,Xo.prototype.configure=Xo.prototype.configure,Xo.prototype.load=Xo.prototype.load,Xo.prototype.unload=Xo.prototype.Cd,Xo.prototype.detach=Xo.prototype.detach,Xo.prototype.attach=Xo.prototype.Gb,Xo.probeSupport=function(){var e,t,n,i,r;return M((function(a){if(1==a.a)return w(a,function(){var e,t,n,i,r,a;return M((function(o){return 1==o.a?(e="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.3_0 com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),n=[{videoCapabilities:t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:t}],i=new Map,r=function(e){var t,r,a;return M((function(o){switch(o.a){case 1:return S(o,2),w(o,navigator.requestMediaKeySystemAccess(e,n),4);case 4:return t=o.b,a=!!(r=t.getConfiguration().sessionTypes)&&r.includes("persistent-license"),zt("Tizen 3")&&(a=!1),i.set(e,{persistentState:a}),w(o,t.createMediaKeys(),5);case 5:x(o,0);break;case 2:O(o),i.set(e,null),_(o)}}))},a=e.map((function(e){return r(e)})),w(o,Promise.all(a),2)):o.return(It(i))}))}(),2);e=a.b;var o={};if(Nt()){for(var s in _a)o[s]=!0;for(var l in Sa)o[l]=!0}s={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};for(var u=(l=c(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!u.done;u=l.next())o[u=u.value]=Nt()?!!_a[u]:Ut(u);for(var d in s)o[d]=Nt()?!!Sa[d]:Ut(s[d]);for(t=o,o={},s=(d=c('video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(","))).next();!s.done;s=d.next())o[s=s.value]=Nt()?!!gr(s)||(MediaSource.isTypeSupported(s)||vr(s)):Ut(s),o[l=s.split(";")[0]]=o[l]||o[s];for(r in n={manifest:t,media:o,drm:e},i=il)n[r]=i[r]();return a.return(n)}))},Xo.isBrowserSupported=function(){if(!(e.Promise&&e.Uint8Array&&Array.prototype.forEach))return!1;var t=Ht();return!(t&&12>t||!(e.MediaKeys&&e.navigator&&e.navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration))&&(!!Nt()||Ut("application/x-mpegurl"))},Xo.setAdManagerFactory=function(e){rl=e},Xo.registerSupportPlugin=function(e,t){il[e]=t},Xo.prototype.destroy=Xo.prototype.destroy;var Es="abrstatuschanged",Ps="adaptation",Cs="buffering",As="drmsessionupdate",Is="emsg",js="error",Ls="expirationupdated",Ms="loaded",Rs="loading",Ds="manifestparsed",Ns="metadata",Us="onstatechange",Vs="onstateidle",Fs="ratechange",Bs="streaming",Hs="textchanged",zs="texttrackvisibility",qs="timelineregionadded",Ks="timelineregionenter",Ws="timelineregionexit",Xs="trackschanged",Gs="unloading",Ys="variantchanged",Qs={xf:Es,yf:Ps,zf:Cs,Af:As,Cf:Is,Error:js,Df:Ls,Ff:"largegap",Gf:Ms,Hf:Rs,If:Ds,Metadata:Ns,Jf:Us,Kf:Vs,Lf:Fs,Mf:"sessiondata",Nf:Bs,Of:Hs,Pf:zs,Qf:qs,Rf:Ks,Sf:Ws,Tf:Xs,Uf:Gs,Vf:Ys},$s=0,Js=1,Zs=2,el=3;Xo.LoadMode={DESTROYED:$s,NOT_LOADED:Js,MEDIA_SOURCE:Zs,SRC_EQUALS:el},Xo.version="v3.0.6-master-3-gba4763ad";var tl=["3","0"];_t=new function(e){this.a=e,this.c=kt,this.b=wt}(new bt(Number(tl[0]),Number(tl[1])));var nl=["output-restricted","internal-error"],il={},rl=null;function al(){this.a=[],this.f=this.b=this.c=0}function ol(e,t){var n=this;this.c=e,this.a=t,this.f=!1,this.g=this.a.getVolume(),this.b=new rt,this.b.m(this.a,google.ima.AdEvent.Type.PAUSED,(function(){n.f=!0})),this.b.m(this.a,google.ima.AdEvent.Type.RESUMED,(function(){n.f=!1}))}function sl(e,t,n,i){var r=this;this.j=e,this.a=t,this.l=NaN,this.f=i,this.h=null,this.b=new rt,google.ima.settings.setLocale(n),(e=new google.ima.AdDisplayContainer(this.j,this.a)).initialize(),this.g=new google.ima.AdsLoader(e),this.g.getSettings().setPlayerType("shaka-player"),this.g.getSettings().setPlayerVersion("v3.0.6-master-3-gba4763ad"),this.c=null,this.b.ma(this.g,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(e){!function(t,n){t.f(new De("ads-loaded",{loadTime:Date.now()/1e3-t.l})),t.c=n.getAdsManager(t.a),t.f(new De("ima-ad-manager-loaded",{imaAdsManager:t.c}));var i=t.c.getCuePoints();if(i.length){for(var r=[],a=(i=c(i)).next();!a.done;a=i.next())r.push(new hl(a.value));t.f(new De("ad-cue-points-changed",{cuepoints:r}))}!function(e){e.b.m(e.c,google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){ll(e,t)})),e.b.m(e.c,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,(function(t){ul(e,t)})),e.b.m(e.c,google.ima.AdEvent.Type.STARTED,(function(t){ul(e,t)})),e.b.m(e.c,google.ima.AdEvent.Type.FIRST_QUARTILE,(function(t){e.f(new De("ad-first-quartile",{originalEvent:t}))})),e.b.m(e.c,google.ima.AdEvent.Type.MIDPOINT,(function(t){e.f(new De("ad-midpoint",{originalEvent:t}))})),e.b.m(e.c,google.ima.AdEvent.Type.THIRD_QUARTILE,(function(t){e.f(new De("ad-third-quartile",{originalEvent:t}))})),e.b.m(e.c,google.ima.AdEvent.Type.COMPLETE,(function(t){e.f(new De("ad-complete",{originalEvent:t}))})),e.b.m(e.c,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,(function(t){cl(e,t)})),e.b.m(e.c,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){cl(e,t)})),e.b.m(e.c,google.ima.AdEvent.Type.SKIPPED,(function(t){e.f(new De("ad-skipped",{originalEvent:t}))})),e.b.m(e.c,google.ima.AdEvent.Type.VOLUME_CHANGED,(function(t){e.f(new De("ad-volume-changed",{originalEvent:t}))})),e.b.m(e.c,google.ima.AdEvent.Type.VOLUME_MUTED,(function(t){e.f(new De("ad-muted",{originalEvent:t}))})),e.b.m(e.c,google.ima.AdEvent.Type.PAUSED,(function(t){e.h.f=!0,e.f(new De("ad-paused",{originalEvent:t}))})),e.b.m(e.c,google.ima.AdEvent.Type.RESUMED,(function(t){e.h.f=!1,e.f(new De("ad-resumed",{originalEvent:t}))})),e.b.m(e.c,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,(function(t){e.f(new De("ad-skip-state-changed",{originalEvent:t}))})),e.b.m(e.c,google.ima.AdEvent.Type.CLICK,(function(){e.f(new De("ad-clicked"))})),e.b.m(e.c,google.ima.AdEvent.Type.AD_PROGRESS,(function(t){e.f(new De("ad-progress",{originalEvent:t}))})),e.b.m(e.c,google.ima.AdEvent.Type.AD_BUFFERING,(function(t){e.f(new De("ad-buffering",{originalEvent:t}))})),e.b.m(e.c,google.ima.AdEvent.Type.IMPRESSION,(function(t){e.f(new De("ad-impression",{originalEvent:t}))})),e.b.m(e.c,google.ima.AdEvent.Type.DURATION_CHANGE,(function(t){e.f(new De("ad-duration-changed",{originalEvent:t}))})),e.b.m(e.c,google.ima.AdEvent.Type.USER_CLOSE,(function(t){e.f(new De("ad-closed",{originalEvent:t}))})),e.b.m(e.c,google.ima.AdEvent.Type.LOADED,(function(t){e.f(new De("ad-loaded",{originalEvent:t}))})),e.b.m(e.c,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){e.f(new De("all-ads-completed",{originalEvent:t}))})),e.b.m(e.c,google.ima.AdEvent.Type.LINEAR_CHANGED,(function(t){e.f(new De("ad-linear-changed",{originalEvent:t}))})),e.b.m(e.c,google.ima.AdEvent.Type.AD_METADATA,(function(t){e.f(new De("ad-metadata",{originalEvent:t}))})),e.b.m(e.c,google.ima.AdEvent.Type.LOG,(function(t){e.f(new De("ad-recoverable-error",{originalEvent:t}))})),e.b.m(e.c,google.ima.AdEvent.Type.AD_BREAK_READY,(function(t){e.f(new De("ad-break-ready",{originalEvent:t}))})),e.b.m(e.c,google.ima.AdEvent.Type.INTERACTION,(function(t){e.f(new De("ad-interaction",{originalEvent:t}))}))}(t);try{t.c.init(t.a.offsetWidth,t.a.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),t.b.m(t.a,"loadeddata",(function(){t.c.resize(t.a.offsetWidth,t.a.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),t.c.start()}catch(e){cl(t,null)}}(r,e)})),this.b.m(this.g,google.ima.AdEvent.Type.AD_ERROR,(function(e){ll(r,e)})),this.a.onended=function(){r.g.contentComplete()}}function ll(e,t){t.getError(),cl(e,null),e.f(new De("ad-cue-points-changed",{cuepoints:[]}))}function ul(e,t){var n=t.getAd();e.h=new ol(n,e.c),e.f(new De("ad-started",{ad:e.h,sdkAdObject:n,originalEvent:t})),e.j.setAttribute("ad-active","true"),e.a.pause()}function cl(e,t){e.f(new De("ad-stopped",{originalEvent:t})),e.j.removeAttribute("ad-active"),e.a.play()}function dl(e,t){this.c=e,this.b=null,this.a=t}function pl(e,t,n,i){var r=this;this.v=e,this.a=t,this.g=null,this.F=NaN,this.f=i,this.C=!1,this.A=this.h=this.j=null,this.l="",this.b=new rt,(e=new google.ima.dai.api.UiSettings).setLocale(n),this.c=new google.ima.dai.api.StreamManager(this.a,this.v,e),this.b.m(this.c,google.ima.dai.api.StreamEvent.Type.LOADED,(function(e){!function(e,t){e.f(new De("ads-loaded",{loadTime:Date.now()/1e3-e.F}));var n=t.getStreamData().url;e.g.resolve(n),e.g=null,e.C||e.b.m(e.a,"seeked",(function(){var t=e.a.currentTime;if(0!=t){e.c.streamTimeForContentTime(t);var n=e.c.previousCuePointForStreamTime(t);n&&!n.played&&(e.j=t,e.a.currentTime=n.start)}}))}(r,e)})),this.b.m(this.c,google.ima.dai.api.StreamEvent.Type.ERROR,(function(){r.l.length?r.g.resolve(r.l):r.g.reject("IMA Stream request returned an error and there was no backup asset uri provided."),r.g=null})),this.b.m(this.c,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,(function(){})),this.b.m(this.c,google.ima.dai.api.StreamEvent.Type.STARTED,(function(e){e=e.getAd(),r.h=new dl(e,r.a),r.A&&(r.h.b=r.A),r.f(new De("ad-started",{ad:r.h})),r.v.setAttribute("ad-active","true")})),this.b.m(this.c,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,(function(){r.v.removeAttribute("ad-active");var e=r.a.currentTime;r.j&&r.j>e&&(r.a.currentTime=r.j,r.j=null)})),this.b.m(this.c,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,(function(e){r.A=e.getStreamData().adProgressData,r.h&&(r.h.b=r.A)})),this.b.m(this.c,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,(function(){r.f(new De("ad-first-quartile"))})),this.b.m(this.c,google.ima.dai.api.StreamEvent.Type.MIDPOINT,(function(){r.f(new De("ad-midpoint"))})),this.b.m(this.c,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,(function(){r.f(new De("ad-third-quartile"))})),this.b.m(this.c,google.ima.dai.api.StreamEvent.Type.COMPLETE,(function(){r.f(new De("ad-complete")),r.f(new De("ad-stopped")),r.v.removeAttribute("ad-active"),r.h=null})),this.b.m(this.c,google.ima.dai.api.StreamEvent.Type.SKIPPED,(function(){r.f(new De("ad-skipped")),r.f(new De("ad-stopped"))})),this.b.m(this.c,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,(function(e){var t=e.getStreamData();e=[];for(var n=(t=c(t.cuepoints)).next();!n.done;n=t.next())n=n.value,e.push(new hl(n.start,n.end));r.f(new De("ad-cue-points-changed",{cuepoints:e}))}))}function fl(){Ue.call(this),this.a=this.b=null,this.f=new al,this.c=navigator.language}function hl(e,t){this.start=e,this.end=void 0===t?null:t}function ml(e){return JSON.stringify(e,(function(e,t){if("function"!=typeof t){if(t instanceof Event||t instanceof De){var n={};for(r in t){var i=t[r];i&&"object"==typeof i?"detail"==r&&(n[r]=i):r in Event||(n[r]=i)}return n}if(t instanceof Error){var r=new Set(["name","message","stack"]);for(n in t)r.add(n);for(n=(i=c(Object.getOwnPropertyNames(t))).next();!n.done;n=i.next())r.add(n.value);for(i={},n=(r=c(r)).next();!n.done;n=r.next())i[n=n.value]=t[n];r={__type__:"Error",contents:i}}else if(t instanceof TimeRanges)for(r={__type__:"TimeRanges",length:t.length,start:[],end:[]},i=(n=c(dr(t))).next();!i.done;i=n.next()){var a=(i=i.value).end;r.start.push(i.start),r.end.push(a)}else r=t instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(t)}:"number"==typeof t?isNaN(t)?"NaN":isFinite(t)?t:0>t?"-Infinity":"Infinity":t;return r}}))}function vl(e){return JSON.parse(e,(function(e,t){if("NaN"==t)var n=NaN;else if("-Infinity"==t)n=-1/0;else if("Infinity"==t)n=1/0;else if(t&&"object"==typeof t&&"TimeRanges"==t.__type__)n=function(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}(t);else if(t&&"object"==typeof t&&"Uint8Array"==t.__type__)n=new Uint8Array(t.entries);else if(t&&"object"==typeof t&&"Error"==t.__type__){n=t.contents;var i,r=Error(n.message);for(i in n)r[i]=n[i];n=r}else n=t;return n}))}(i=ol.prototype).getDuration=function(){return this.c.getDuration()},i.getRemainingTime=function(){return this.a.getRemainingTime()},i.isPaused=function(){return this.f},i.isSkippable=function(){return 0<=this.c.getSkipTimeOffset()},i.getTimeUntilSkippable=function(){var e=this.c.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},i.canSkipNow=function(){return this.a.getAdSkippableState()},i.skip=function(){return this.a.skip()},i.pause=function(){return this.a.pause()},i.play=function(){return this.a.resume()},i.getVolume=function(){return this.a.getVolume()},i.setVolume=function(e){return this.a.setVolume(e)},i.isMuted=function(){return 0==this.a.getVolume()},i.resize=function(e,t){this.a.resize(e,t,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},i.setMuted=function(e){e?(this.g=this.getVolume(),this.setVolume(0)):this.setVolume(this.g)},i.getSequenceLength=function(){var e=this.c.getAdPodInfo();return null==e?1:e.getTotalAds()},i.getPositionInSequence=function(){var e=this.c.getAdPodInfo();return null==e?1:e.getAdPosition()},i.release=function(){this.a=this.c=null},B("shaka.ads.ClientSideAd",ol),ol.prototype.release=ol.prototype.release,ol.prototype.getPositionInSequence=ol.prototype.getPositionInSequence,ol.prototype.getSequenceLength=ol.prototype.getSequenceLength,ol.prototype.setMuted=ol.prototype.setMuted,ol.prototype.resize=ol.prototype.resize,ol.prototype.isMuted=ol.prototype.isMuted,ol.prototype.setVolume=ol.prototype.setVolume,ol.prototype.getVolume=ol.prototype.getVolume,ol.prototype.play=ol.prototype.play,ol.prototype.pause=ol.prototype.pause,ol.prototype.skip=ol.prototype.skip,ol.prototype.canSkipNow=ol.prototype.canSkipNow,ol.prototype.getTimeUntilSkippable=ol.prototype.getTimeUntilSkippable,ol.prototype.isSkippable=ol.prototype.isSkippable,ol.prototype.isPaused=ol.prototype.isPaused,ol.prototype.getRemainingTime=ol.prototype.getRemainingTime,ol.prototype.getDuration=ol.prototype.getDuration,sl.prototype.stop=function(){this.c.stop()},(i=dl.prototype).getDuration=function(){return this.b?this.b.duration:-1},i.getRemainingTime=function(){return this.b?this.b.duration-this.b.currentTime:-1},i.isPaused=function(){return this.a.paused},i.isSkippable=function(){return this.c.isSkippable()},i.getTimeUntilSkippable=function(){var e=this.c.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},i.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},i.skip=function(){this.a.currentTime+=this.getRemainingTime()},i.pause=function(){return this.a.pause()},i.play=function(){return this.a.play()},i.getVolume=function(){return this.a.volume},i.setVolume=function(e){this.a.volume=e},i.isMuted=function(){return this.a.muted},i.resize=function(){},i.setMuted=function(e){this.a.muted=e},i.getSequenceLength=function(){var e=this.c.getAdPodInfo();return null==e?1:e.getTotalAds()},i.getPositionInSequence=function(){var e=this.c.getAdPodInfo();return null==e?1:e.getAdPosition()},i.release=function(){this.a=this.b=this.c=null},B("shaka.ads.ServerSideAd",dl),dl.prototype.release=dl.prototype.release,dl.prototype.getPositionInSequence=dl.prototype.getPositionInSequence,dl.prototype.getSequenceLength=dl.prototype.getSequenceLength,dl.prototype.setMuted=dl.prototype.setMuted,dl.prototype.resize=dl.prototype.resize,dl.prototype.isMuted=dl.prototype.isMuted,dl.prototype.setVolume=dl.prototype.setVolume,dl.prototype.getVolume=dl.prototype.getVolume,dl.prototype.play=dl.prototype.play,dl.prototype.pause=dl.prototype.pause,dl.prototype.skip=dl.prototype.skip,dl.prototype.canSkipNow=dl.prototype.canSkipNow,dl.prototype.getTimeUntilSkippable=dl.prototype.getTimeUntilSkippable,dl.prototype.isSkippable=dl.prototype.isSkippable,dl.prototype.isPaused=dl.prototype.isPaused,dl.prototype.getRemainingTime=dl.prototype.getRemainingTime,dl.prototype.getDuration=dl.prototype.getDuration,pl.prototype.stop=function(){this.c.reset(),this.l="",this.j=null},pl.prototype.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.c.onTimedMetadata(t)}},y(fl,Ue),(i=fl.prototype).setLocale=function(e){this.c=e},i.initClientSide=function(t,n){var i=this;if(!e.google||!google.ima||!google.ima.AdsLoader)throw new ye(2,10,1e4);this.b=new sl(t,n,this.c,(function(e){if(e&&e.type)switch(e.type){case"ads-loaded":i.f.a.push(e.loadTime);break;case"ad-started":i.f.c++;break;case"ad-complete":i.f.b++;break;case"ad-skipped":i.f.f++}i.dispatchEvent(e)}))},i.onAssetUnload=function(){this.b&&this.b.stop(),this.dispatchEvent(new De("ad-stopped")),this.f=new al},i.requestClientSideAds=function(e){if(!this.b)throw new ye(1,10,10001);var t=this.b;t.l=Date.now()/1e3,t.g.requestAds(e)},i.initServerSide=function(t,n){var i=this;if(!e.google||!google.ima||!google.ima.dai)throw new ye(2,10,10002);this.a=new pl(t,n,this.c,(function(e){if(e&&e.type)switch(e.type){case"ads-loaded":i.f.a.push(e.loadTime);break;case"ad-started":i.f.c++;break;case"ad-complete":i.f.b++;break;case"ad-skipped":i.f.f++}i.dispatchEvent(e)}))},i.requestServerSideStream=function(e,t){if(t=void 0===t?"":t,!this.a)throw new ye(1,10,10003);e.adTagParameters||(e.adTagParameters={});var n=e.adTagParameters;(n.mpt||n.mpv)&&G('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.adTagParameters.mpt="Shaka Player",e.adTagParameters.mpv="v3.0.6-master-3-gba4763ad";var i=t;return(n=this.a).g?n=Promise.reject(new ye(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(n.C=!0),n.g=new _e,n.c.requestStream(e),n.l=i||"",n.F=Date.now()/1e3,n=n.g),n},i.replaceServerSideAdTagParameters=function(e){if(!this.a)throw new ye(1,10,10003);(e.mpt||e.mpv)&&G('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.mpt="Shaka Player",e.mpv="v3.0.6-master-3-gba4763ad",this.a.c.replaceAdTagParameters(e)},i.getStats=function(){var e=this.f;return{loadTimes:e.a,started:e.c,playedCompletely:e.b,skipped:e.f}},i.onDashTimedMetadata=function(e){if(this.a&&"urn:google:dai:2018"==e.schemeIdUri){var t=e.schemeIdUri,n=e.eventElement?e.eventElement.getAttribute("messageData"):null;this.a.c.processMetadata(t,n,e.startTime)}},i.onHlsTimedMetadata=function(e,t){this.a&&this.a.c.processMetadata("ID3",e.data,t)},i.onCueMetadataChange=function(e){this.a&&this.a.onCueMetadataChange(e)},B("shaka.ads.AdManager",fl),fl.prototype.onCueMetadataChange=fl.prototype.onCueMetadataChange,fl.prototype.onHlsTimedMetadata=fl.prototype.onHlsTimedMetadata,fl.prototype.onDashTimedMetadata=fl.prototype.onDashTimedMetadata,fl.prototype.getStats=fl.prototype.getStats,fl.prototype.replaceServerSideAdTagParameters=fl.prototype.replaceServerSideAdTagParameters,fl.prototype.requestServerSideStream=fl.prototype.requestServerSideStream,fl.prototype.initServerSide=fl.prototype.initServerSide,fl.prototype.requestClientSideAds=fl.prototype.requestClientSideAds,fl.prototype.onAssetUnload=fl.prototype.onAssetUnload,fl.prototype.initClientSide=fl.prototype.initClientSide,fl.prototype.setLocale=fl.prototype.setLocale,fl.ADS_LOADED="ads-loaded",fl.AD_STARTED="ad-started",fl.AD_FIRST_QUARTILE="ad-first-quartile",fl.AD_MIDPOINT="ad-midpoint",fl.AD_THIRD_QUARTILE="ad-third-quartile",fl.AD_COMPLETE="ad-complete",fl.AD_STOPPED="ad-stopped",fl.AD_SKIPPED="ad-skipped",fl.AD_VOLUME_CHANGED="ad-volume-changed",fl.AD_MUTED="ad-muted",fl.AD_PAUSED="ad-paused",fl.AD_RESUMED="ad-resumed",fl.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",fl.CUEPOINTS_CHANGED="ad-cue-points-changed",fl.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",fl.AD_CLICKED="ad-clicked",fl.AD_PROGRESS="ad-progress",fl.AD_BUFFERING="ad-buffering",fl.AD_IMPRESSION="ad-impression",fl.AD_DURATION_CHANGED="ad-duration-changed",fl.AD_CLOSED="ad-closed",fl.AD_LOADED="ad-loaded",fl.ALL_ADS_COMPLETED="all-ads-completed",fl.AD_LINEAR_CHANGED="ad-linear-changed",fl.AD_METADATA="ad-metadata",fl.AD_RECOVERABLE_ERROR="ad-recoverable-error",fl.AD_BREAK_READY="ad-break-ready",fl.AD_INTERACTION="ad-interaction",rl=function(){return new fl};var yl="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),bl="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),gl=["loop","playbackRate"],kl=["pause","play"],wl={getAssetUri:2,getAudioLanguages:2,getAudioLanguagesAndRoles:2,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getPlaybackRate:2,getTextLanguages:2,getTextLanguagesAndRoles:2,getTextTracks:2,getStats:5,getVariantTracks:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10},_l={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},Sl=[["getConfiguration","configure"]],Tl=[["isTextTrackVisible","setTextTrackVisibility"]],xl="addTextTrack addTextTrackAsync cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay".split(" "),Ol=["attach","detach","load","unload"];function El(e,t,n,i,r,a){var o=this;this.S=e,this.f=new ge(t),this.X=n,this.l=!1,this.C=i,this.L=r,this.H=a,this.b=this.h=!1,this.J="",this.j=null,this.v=function(){return jl(o)},this.A=function(e,t){var n=vl(t);switch(n.type){case"event":var i=n.targetName;n=new De((n=n.event).type,n),o.C(i,n);break;case"update":for(var r in i=n.update)for(var a in n=o.a[r]||{},i[r])n[a]=i[r][a];o.l&&(o.X(),o.l=!1);break;case"asyncComplete":if(r=n.id,n=n.error,a=o.c[r],delete o.c[r],a)if(n){for(i in r=new ye(n.severity,n.category,n.code),n)r[i]=n[i];a.reject(r)}else a.resolve()}},this.a={video:{},player:{}},this.F=0,this.c={},this.g=null,Ul.add(this)}function Pl(e,t,n){Nl=n,n.addUpdateListener(e.v),n.addMessageListener("urn:x-cast:com.google.shaka.v2",e.A),jl(e),Ml(e,{type:"init",initState:t,appData:e.j}),e.g.resolve()}function Cl(e,t){var n=8003;switch(t.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}e.g.reject(new ye(2,8,n,t))}function Al(e,t){var n=e.H();e.g=new _e,e.l=!0,Pl(e,n,t)}function Il(e){var t=Nl;t.removeUpdateListener(e.v),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.A)}function jl(e){var t=!!Nl&&"connected"==Nl.status;if(e.b&&!t){for(var n in e.L(),e.a)e.a[n]={};Ll(e)}e.b=t,e.J=t?Nl.receiver.friendlyName:"",e.f.Xb()}function Ll(e){for(var t in e.c){var n=e.c[t];delete e.c[t],n.reject(new ye(1,7,7e3))}}function Ml(e,t){var n=ml(t),i=Nl;try{i.sendMessage("urn:x-cast:com.google.shaka.v2",n,(function(){}),Q)}catch(r){throw i=new De("error",{detail:n=new ye(2,8,8005,r)}),e.C("player",i),e.nb(),n}}(i=El.prototype).destroy=function(){return Ul.delete(this),Ll(this),Nl&&Il(this),this.f&&(this.f.stop(),this.f=null),this.L=this.C=null,this.b=this.h=!1,this.A=this.v=this.g=this.c=this.a=this.j=null,Promise.resolve()},i.ka=function(){return this.b},i.od=function(){return this.J},i.init=function(){if(e.chrome&&chrome.cast&&chrome.cast.isAvailable&&this.S.length){this.h=!0,this.f.Xb();var t=new chrome.cast.SessionRequest(this.S);t=new chrome.cast.ApiConfig(t,(function(e){for(var t=c(Ul),n=t.next();!n.done;n=t.next())Al(n.value,e)}),(function(e){for(var t=c(Ul),n=t.next();!n.done;n=t.next())n=n.value,Dl="available"==e,n.f.Xb()}),"origin_scoped"),chrome.cast.initialize(t,(function(){}),(function(){})),Dl&&this.f.R(Rl),(t=Nl)&&t.status!=chrome.cast.SessionStatus.STOPPED?Al(this,t):Nl=null}},i.vd=function(e){this.j=e,this.b&&Ml(this,{type:"appData",appData:this.j})},i.cast=function(e){var t=this;return M((function(n){if(!t.h)throw new ye(1,8,8e3);if(!Dl)throw new ye(1,8,8001);if(t.b)throw new ye(1,8,8002);return t.g=new _e,chrome.cast.requestSession((function(n){return Pl(t,e,n)}),(function(e){return Cl(t,e)})),w(n,t.g,0)}))},i.nb=function(){if(this.b){if(Ll(this),Nl){Il(this);try{Nl.stop((function(){}),(function(){}))}catch(Eh){}Nl=null}jl(this)}},i.get=function(e,t){var n=this;if("video"==e){if(kl.includes(t))return function(i){for(var r=[],a=0;a<arguments.length;++a)r[a]=arguments[a];return n.Wd.apply(n,[e,t].concat(d(r)))}}else if("player"==e){if(_l[t]&&!this.get("player","isLive")())return function(){};if(xl.includes(t))return function(i){for(var r=[],a=0;a<arguments.length;++a)r[a]=arguments[a];return n.Wd.apply(n,[e,t].concat(d(r)))};if(Ol.includes(t))return function(i){for(var r=[],a=0;a<arguments.length;++a)r[a]=arguments[a];return n.bf.apply(n,[e,t].concat(d(r)))};if(wl[t])return function(){return n.a[e][t]}}return this.a[e][t]},i.set=function(e,t,n){this.a[e][t]=n,Ml(this,{type:"set",targetName:e,property:t,value:n})},i.Wd=function(e,t,n){for(var i=[],r=2;r<arguments.length;++r)i[r-2]=arguments[r];Ml(this,{type:"call",targetName:e,methodName:t,args:i})},i.bf=function(e,t,n){for(var i=[],r=2;r<arguments.length;++r)i[r-2]=arguments[r];r=new _e;var a=this.F.toString();this.F++,this.c[a]=r;try{Ml(this,{type:"asyncCall",targetName:e,methodName:t,args:i,id:a})}catch(o){r.reject(o)}return r};var Rl=.02,Dl=!1,Nl=null,Ul=new Set;function Vl(e,t,n){Ue.call(this);var i=this;this.f=e,this.c=t,this.b=this.j=this.g=this.l=this.h=null,this.A=n,this.v=new Map,this.a=new El(n,(function(){return Hl(i)}),(function(){return zl(i)}),(function(e,t){return Wl(i,e,t)}),(function(){return ql(i)}),(function(){return Bl(i)})),function(e){e.a.init(),e.b=new rt;for(var t=c(yl),n=t.next();!n.done;n=t.next())e.b.m(e.f,n.value,(function(t){e.a.ka()||(t=new De(t.type,t),e.g.dispatchEvent(t))}));for(var i in Qs)e.b.m(e.c,Qs[i],(function(t){e.a.ka()||e.j.dispatchEvent(t)}));for(var r in e.h={},t={},e.f)t.Cb=r,Object.defineProperty(e.h,t.Cb,{configurable:!1,enumerable:!0,get:function(t){return function(){return Kl(e,t.Cb)}}(t),set:function(t){return function(n){var i=t.Cb;e.a.ka()?e.a.set("video",i,n):e.f[i]=n}}(t)}),t={Cb:t.Cb};e.l={},Fl(e,(function(t){Object.defineProperty(e.l,t,{configurable:!1,enumerable:!0,get:function(){return function(e,t){if(e.v.has(t)&&(t=e.v.get(t)),"addEventListener"==t)return function(t,n,i){return e.j.addEventListener(t,n,i)};if("removeEventListener"==t)return function(t,n,i){return e.j.removeEventListener(t,n,i)};if("getMediaElement"==t)return function(){return e.h};if("getSharedConfiguration"==t)return e.a.get("player","getConfiguration");if("getNetworkingEngine"==t)return function(){return e.c.Mb()};if("getAdManager"==t)return function(){return e.c.Ld()};if("setVideoContainer"==t)return function(t){return e.c.de(t)};if(e.a.ka()){if("getManifest"==t||"drmInfo"==t)return function(){return G(t+"() does not work while casting!"),null};if("attach"==t||"detach"==t)return function(){return G(t+"() does not work while casting!"),Promise.resolve()}}return e.a.ka()&&0==Object.keys(e.a.a.video).length&&wl[t]||!e.a.ka()?e.c[t].bind(e.c):e.a.get("player",t)}(e,t)}})})),function(e){var t=new Map;Fl(e,(function(n,i){if(t.has(i)){var r=t.get(i);n.length<r.length?e.v.set(n,r):e.v.set(r,n)}else t.set(i,n)}))}(e),e.g=new Ue,e.g.fc=e.h,e.j=new Ue,e.j.fc=e.l}(this)}function Fl(e,t){function n(e){return"constructor"!=e&&"function"==typeof i[e]&&!r.has(e)}var i=e.c,r=new Set;for(a in i)n(a)&&(r.add(a),t(a,i[a]));for(var a=Object.getPrototypeOf(i),o=Object.getPrototypeOf({});a&&a!=o;){for(var s=c(Object.getOwnPropertyNames(a)),l=s.next();!l.done;l=s.next())n(l=l.value)&&(r.add(l),t(l,i[l]));a=Object.getPrototypeOf(a)}}function Bl(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.c.Wc(),startTime:null};e.f.pause();for(var n=c(gl),i=n.next();!i.done;i=n.next())i=i.value,t.video[i]=e.f[i];for(e.f.ended||(t.startTime=e.f.currentTime),i=(n=c(Sl)).next();!i.done;i=n.next()){var r=i.value;i=r[1],r=e.c[r[0]](),t.player[i]=r}for(i=(n=c(Tl)).next();!i.done;i=n.next())i=(r=i.value)[1],r=e.c[r[0]](),t.playerAfterLoad[i]=r;return t}function Hl(e){var t=new De("caststatuschanged");e.dispatchEvent(t)}function zl(e){var t=new De(e.h.paused?"pause":"play");e.g.dispatchEvent(t)}function ql(e){for(var t=c(Sl),n=t.next();!n.done;n=t.next()){var i=n.value;n=i[1],i=e.a.get("player",i[0])(),e.c[n](i)}var r=e.a.get("player","getAssetUri")();n=e.a.get("video","ended"),t=Promise.resolve();var a=e.f.autoplay;i=null,n||(i=e.a.get("video","currentTime")),r&&(e.f.autoplay=!1,t=e.c.load(r,i));var o={};for(i=(n=c(gl)).next();!i.done;i=n.next())i=i.value,o[i]=e.a.get("video",i);t.then((function(){if(e.f){for(var t=c(gl),n=t.next();!n.done;n=t.next())n=n.value,e.f[n]=o[n];for(n=(t=c(Tl)).next();!n.done;n=t.next()){var i=n.value;n=i[1],i=e.a.get("player",i[0])(),e.c[n](i)}e.f.autoplay=a,r&&e.f.play()}}),(function(t){t=new De(js,{detail:t}),e.c.dispatchEvent(t)}))}function Kl(e,t){if("addEventListener"==t)return function(t,n,i){return e.g.addEventListener(t,n,i)};if("removeEventListener"==t)return function(t,n,i){return e.g.removeEventListener(t,n,i)};if(e.a.ka()&&0==Object.keys(e.a.a.video).length){var n=e.f[t];if("function"!=typeof n)return n}return e.a.ka()?e.a.get("video",t):("function"==typeof(n=e.f[t])&&(n=n.bind(e.f)),n)}function Wl(e,t,n){e.a.ka()&&("video"==t?e.g.dispatchEvent(n):"player"==t&&e.j.dispatchEvent(n))}function Xl(e,t,n,i){Ue.call(this);var r=this;this.a=e,this.c=t,this.b=new rt,this.J={video:e,player:t},this.C=n||function(){},this.L=i||function(e){return e},this.f=null,this.F=!1,this.j=!0,this.h=0,this.A=!1,this.v=!0,this.l=this.g=null,this.H=new ge((function(){$l(r)})),function(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return Gl(e)},t.onSenderDisconnected=function(){return Gl(e)},t.onSystemVolumeChanged=function(){var t=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();t&&tu(e,{type:"update",update:{video:{volume:t.level,muted:t.muted}}},e.g),tu(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.g)},e.l=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.l.onMessage=function(t){return function(e,t){var n=vl(t.data);switch(n.type){case"PLAY":e.a.play(),nu(e);break;case"PAUSE":e.a.pause(),nu(e);break;case"SEEK":var i=n.currentTime,r=n.resumeState;null!=i&&(e.a.currentTime=Number(i)),r&&"PLAYBACK_START"==r?(e.a.play(),nu(e)):r&&"PLAYBACK_PAUSE"==r&&(e.a.pause(),nu(e));break;case"STOP":e.c.Cd().then((function(){e.c&&nu(e)}));break;case"GET_STATUS":Zl(e,Number(n.requestId));break;case"VOLUME":i=(r=n.volume).level,r=r.muted;var a=e.a.volume,o=e.a.muted;null!=i&&(e.a.volume=Number(i)),null!=r&&(e.a.muted=r),a==e.a.volume&&o==e.a.muted||nu(e);break;case"LOAD":e.h=0,e.A=!1,e.v=!1,i=n.media,r=n.currentTime,a=e.L(i.contentId),o=n.autoplay||!0,e.C(i.customData),o&&(e.a.autoplay=!0),e.c.load(a,r).then((function(){e.c&&Zl(e)})).catch((function(t){var i="LOAD_FAILED";7==t.category&&7e3==t.code&&(i="LOAD_CANCELLED"),tu(e,{requestId:Number(n.requestId),type:i},e.l)}));break;default:tu(e,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.l)}}(e,t)},e.g=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.g.onMessage=function(t){return function(e,t){var n=vl(t.data);switch(n.type){case"init":e.h=0,e.A=!1,e.v=!0,function(e,t,n){var i,r,a,o,s,l,u,c,d;M((function(p){switch(p.a){case 1:for(i in t.player)r=t.player[i],e.c[i](r);return e.C(n),a=e.a.autoplay,t.manifest?(e.a.autoplay=!1,S(p,5),w(p,e.c.load(t.manifest,t.startTime),7)):w(p,Promise.resolve(),3);case 7:x(p,3);break;case 5:return o=O(p),s=new De(js,{detail:o}),e.c.dispatchEvent(s),p.return();case 3:if(!e.c)return p.return();for(l in t.video)u=t.video[l],e.a[l]=u;for(c in t.playerAfterLoad)d=t.playerAfterLoad[c],e.c[c](d);e.a.autoplay=a,t.manifest&&(e.a.play(),nu(e)),_(p)}}))}(e,n.initState,n.appData),$l(e);break;case"appData":e.C(n.appData);break;case"set":var i=n.targetName,r=n.property;if(n=n.value,"video"==i){var a=cast.receiver.CastReceiverManager.getInstance();if("volume"==r){a.setSystemVolumeLevel(n);break}if("muted"==r){a.setSystemVolumeMuted(n);break}}e.J[i][r]=n;break;case"call":(i=e.J[n.targetName])[n.methodName].apply(i,n.args);break;case"asyncCall":i=n.targetName,r=n.methodName,"player"==i&&"load"==r&&(e.h=0,e.A=!1);var o=n.id,s=t.senderId;n=(a=e.J[i])[r].apply(a,n.args),"player"==i&&"load"==r&&(n=n.then((function(){e.v=!0}))),n.then((function(){return eu(e,s,o,null)}),(function(t){return eu(e,s,o,t)}))}}(e,t)},t.start();for(var n=(t=c(yl)).next();!n.done;n=t.next())e.b.m(e.a,n.value,(function(t){return Ql(e,"video",t)}));for(var i in Qs)e.b.m(e.c,Qs[i],(function(t){return Ql(e,"player",t)}));cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?e.c.wd(3840,2160):e.c.wd(1920,1080),e.b.m(e.a,"loadeddata",(function(){e.A=!0})),e.b.m(e.c,"loading",(function(){e.j=!1,Yl(e)})),e.b.m(e.a,"playing",(function(){e.j=!1,Yl(e)})),e.b.m(e.a,"pause",(function(){Yl(e)})),e.b.m(e.c,"unloading",(function(){e.j=!0,Yl(e)})),e.b.m(e.a,"ended",(function(){new ge((function(){e.a&&e.a.ended&&(e.j=!0,Yl(e))})).R(ru)}))}(this)}function Gl(e){e.h=0,e.v=!0,e.F=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,Yl(e)}function Yl(e){var t;M((function(n){return 1==n.a?w(n,Promise.resolve(),2):e.c?(t=new De("caststatuschanged"),e.dispatchEvent(t),Jl(e)||nu(e),void _(n)):n.return()}))}function Ql(e,t,n){e.c&&($l(e),tu(e,{type:"event",targetName:t,event:n},e.g))}function $l(e){e.H.R(iu);for(var t={video:{},player:{}},n=c(bl),i=n.next();!i.done;i=n.next())i=i.value,t.video[i]=e.a[i];if(e.c.T())for(var r in _l)0==e.h%_l[r]&&(t.player[r]=e.c[r]());for(var a in wl)0==e.h%wl[a]&&(t.player[a]=e.c[a]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),e.A&&(e.h+=1),tu(e,{type:"update",update:t},e.g),Jl(e)}function Jl(e){return!(!e.v||!e.a.duration&&!e.c.T())&&(Zl(e),e.v=!1,!0)}function Zl(e,t){var n={contentId:e.c.Wc(),streamType:e.c.T()?"LIVE":"BUFFERED",contentType:""};e.c.T()||(n.duration=e.a.duration),e.f&&(n.metadata=e.f),nu(e,void 0===t?0:t,n)}function eu(e,t,n,i){e.c&&tu(e,{type:"asyncComplete",id:n,error:i},e.g,t)}function tu(e,t,n,i){e.F&&(e=ml(t),i?n.getCastChannel(i).send(e):n.broadcast(e))}function nu(e,t,n){n=void 0===n?null:n;var i={mediaSessionId:0,playbackRate:e.a.playbackRate,playerState:e.j?au:e.c.Yc()?su:e.a.paused?lu:ou,currentTime:e.a.currentTime,supportedMediaCommands:63,volume:{level:e.a.volume,muted:e.a.muted}};n&&(i.media=n),tu(e,{requestId:void 0===t?0:t,type:"MEDIA_STATUS",status:[i]},e.l)}e.__onGCastApiAvailable=function(e){if(e)for(var t=(e=c(Ul)).next();!t.done;t=e.next())t.value.init()},y(Vl,Ue),(i=Vl.prototype).destroy=function(e){return e&&this.a.nb(),this.b&&(this.b.release(),this.b=null),e=[],this.c&&(e.push(this.c.destroy()),this.c=null),this.a&&(e.push(this.a.destroy()),this.a=null),this.l=this.h=this.f=null,Promise.all(e)},i.Oe=function(){return this.h},i.He=function(){return this.l},i.ne=function(){return this.a.h&&Dl},i.ka=function(){return this.a.ka()},i.od=function(){return this.a.od()},i.cast=function(){var e,t=this;return M((function(n){return 1==n.a?(e=Bl(t),w(n,t.a.cast(e),2)):t.c?w(n,t.c.Cd(),0):n.return()}))},i.vd=function(e){this.a.vd(e)},i.pf=function(){!function(e){if(e.b){var t=e.H();chrome.cast.requestSession((function(n){return Pl(e,t,n)}),(function(t){return Cl(e,t)}))}}(this.a)},i.nb=function(){this.a.nb()},i.pe=function(e){var t=this;return M((function(n){if(1==n.a)return e==t.A?n.return():(t.A=e,t.a.nb(),w(n,t.a.destroy(),2));t.a=null,t.a=new El(e,(function(){return Hl(t)}),(function(){return zl(t)}),(function(e,n){return Wl(t,e,n)}),(function(){return ql(t)}),(function(){return Bl(t)})),t.a.init(),_(n)}))},B("shaka.cast.CastProxy",Vl),Vl.prototype.changeReceiverId=Vl.prototype.pe,Vl.prototype.forceDisconnect=Vl.prototype.nb,Vl.prototype.suggestDisconnect=Vl.prototype.pf,Vl.prototype.setAppData=Vl.prototype.vd,Vl.prototype.cast=Vl.prototype.cast,Vl.prototype.receiverName=Vl.prototype.od,Vl.prototype.isCasting=Vl.prototype.ka,Vl.prototype.canCast=Vl.prototype.ne,Vl.prototype.getPlayer=Vl.prototype.He,Vl.prototype.getVideo=Vl.prototype.Oe,Vl.prototype.destroy=Vl.prototype.destroy,y(Xl,Ue),(i=Xl.prototype).isConnected=function(){return this.F},i.Re=function(){return this.j},i.kf=function(e){this.f=e},i.se=function(){this.f=null},i.lf=function(e){this.f||(this.f={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.f.title=e},i.jf=function(e){this.f||(this.f={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.f.images=[{url:e}]},i.hf=function(e){this.f||(this.f={}),this.f.artist=e,this.f.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},i.destroy=function(){var e,t=this;return M((function(n){if(1==n.a)return t.b&&(t.b.release(),t.b=null),e=[],t.c&&(e.push(t.c.destroy()),t.c=null),t.H&&(t.H.stop(),t.H=null),t.a=null,t.J=null,t.C=null,t.F=!1,t.j=!0,t.g=null,t.l=null,w(n,Promise.all(e),2);cast.receiver.CastReceiverManager.getInstance().stop(),_(n)}))},B("shaka.cast.CastReceiver",Xl),Xl.prototype.destroy=Xl.prototype.destroy,Xl.prototype.setContentArtist=Xl.prototype.hf,Xl.prototype.setContentImage=Xl.prototype.jf,Xl.prototype.setContentTitle=Xl.prototype.lf,Xl.prototype.clearContentMetadata=Xl.prototype.se,Xl.prototype.setContentMetadata=Xl.prototype.kf,Xl.prototype.isIdle=Xl.prototype.Re,Xl.prototype.isConnected=Xl.prototype.isConnected;var iu=.5,ru=5,au="IDLE",ou="PLAYING",su="BUFFERING",lu="PAUSED";function uu(e){var t=this;this.a=[],this.b=[],this.data=[],(new Xi).box("moov",Gi).U("pssh",(function(e){if(!(1<e.version)){var n=Le(e.reader.O,-12,e.size);if(t.data.push(n),t.a.push(Jt(e.reader.Sa(16))),0<e.version){n=e.reader.I();for(var i=(n=c(te(n))).next();!i.done;i=n.next())i=Jt(e.reader.Sa(16)),t.b.push(i)}}})).parse(e)}function cu(e){var t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),n=e.length,i=t.length+16+n,r=new Uint8Array(i),a=Me(r),o=0;return a.setUint32(o,i),o+=4,a.setUint32(o,1886614376),o+=4,a.setUint32(o,0),o+=4,r.set(t,o),o+=t.length,a.setUint32(o,n),r.set(e,o+4),r}function du(e,t){var n=fu(e,t);return 1!=n.length?null:n[0]}function pu(e,t,n){return 1!=(e=hu(e,t,n)).length?null:e[0]}function fu(e,t){return Array.from(e.childNodes).filter((function(e){return e instanceof Element&&e.tagName==t}))}function hu(e,t,n){return Array.from(e.childNodes).filter((function(e){return e instanceof Element&&e.localName==n&&e.namespaceURI==t}))}function mu(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function vu(e){return Array.from(e.childNodes).every(yu)?e.textContent.trim():null}function yu(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}function bu(e,t,n,i){i=void 0===i?null:i;var r=null;return null!=(e=e.getAttribute(t))&&(r=n(e)),null==r?i:r}function gu(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:Math.floor(e/1e3)):null}function ku(e){return e&&(e=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(e))?(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null):null}function wu(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null}function _u(e){return 0===(e=Number(e))%1?e:null}function Su(e){return 0===(e=Number(e))%1&&0<e?e:null}function Tu(e){return 0===(e=Number(e))%1&&0<=e?e:null}function xu(e){return e=Number(e),isNaN(e)?null:e}function Ou(e){var t;return e=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e),isNaN(e)?null:e}function Eu(e,t){var n=new DOMParser,i=null,r=null;try{r=n.parseFromString(e,"text/xml")}catch(a){}return r&&r.documentElement.tagName==t&&(i=r.documentElement),i&&0<i.getElementsByTagName("parsererror").length?null:i}function Pu(e,t){try{return Eu(ut(e),t)}catch(n){return null}}function Cu(e,t){var n=function(e){for(var t=[],n=(e=c(e)).next();!n.done;n=e.next())(n=Au(n.value))&&t.push(n);return t}(e),i=null,r=[],a=[],o=new Set(n.map((function(e){return e.keyId})));if(o.delete(null),1<o.size)throw new ye(2,4,4010);if(t||(a=n.filter((function(e){return"urn:mpeg:dash:mp4protection:2011"!=e.Zd||(i=e.init||i,!1)}))).length&&(0==(r=function(e,t){for(var n=[],i=c(t),r=i.next();!r.done;r=i.next()){r=r.value;var a,o=Iu.get(r.Zd);if(o)(a=pu(r.node,"urn:microsoft:playready","pro"))?a=[{initData:cu(a=Qt(a.textContent)),initDataType:"cenc",keyId:r.keyId}]:a=null,a=Pt(o,r.init||e||a),(o=ju.get(o))&&(a.licenseServerUri=o(r)),n.push(a)}return n}(i,a)).length&&(r=[Pt("",i)])),n.length&&(t||!a.length))for(r=[],a=(n=c(Iu.values())).next();!a.done;a=n.next())"org.w3.clearkey"!=(a=a.value)&&r.push(Pt(a,i));if(o=Array.from(o)[0]||null)for(a=(n=c(r)).next();!a.done;a=n.next())for(var s=(a=c(a.value.initData)).next();!s.done;s=a.next())s.value.keyId=o;return{Gd:o,Wf:i,drmInfos:r,Kd:!0}}function Au(e){var t=e.getAttribute("schemeIdUri"),n=mu(e,"urn:mpeg:cenc:2013","default_KID"),i=hu(e,"urn:mpeg:cenc:2013","pssh").map(vu);if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new ye(2,4,4009);var r=[];try{r=i.map((function(e){return{initDataType:"cenc",initData:Qt(e),keyId:null}}))}catch(a){throw new ye(2,4,4007)}return{node:e,Zd:t,keyId:n,init:0<r.length?r:null}}var Iu=(new Map).set("urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b","org.w3.clearkey").set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine.alpha").set("urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95","com.microsoft.playready").set("urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95","com.microsoft.playready").set("urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb","com.adobe.primetime"),ju=(new Map).set("com.widevine.alpha",(function(e){return(e=pu(e.node,"urn:microsoft","laurl"))&&e.getAttribute("licenseUrl")||""})).set("com.microsoft.playready",(function(e){return(e=pu(e.node,"urn:microsoft:playready","pro"))&&(e=function(e){var t=0,n=Me(e),i=n.getUint32(t,!0);if(i!=e.byteLength)return[];e:{for(e=t+4+2,t=[];e<n.byteLength-1;){i=n.getUint16(e,!0),e+=2;var r=n.getUint16(e,!0);if(e+=2,0!=(1&r)||r+e>n.byteLength){n=[];break e}var a=Le(n,e,r);t.push({type:i,value:a}),e+=r}n=t}return n}(e=Qt(e.textContent)).filter((function(e){return 1===e.type}))[0])&&(e=Eu(e=ct(e.value,!0),"WRMHEADER"))?function(e){for(var t=(e=c(e.getElementsByTagName("DATA"))).next();!t.done;t=e.next())for(var n=(t=c(t.value.childNodes)).next();!n.done;n=t.next())if((n=n.value)instanceof Element&&"LA_URL"==n.tagName)return n.textContent;return""}(e):""}));function Lu(t,n,i,r,a){var o={RepresentationID:n,Number:i,Bandwidth:r,Time:a};return t.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(t,n,i,r){if("$$"==t)return"$";var a=o[n];if(null==a)return t;switch("RepresentationID"==n&&i&&(i=void 0),"Time"==n&&(a=Math.round(a)),r){case void 0:case"d":case"i":case"u":t=a.toString();break;case"o":t=a.toString(8);break;case"x":t=a.toString(16);break;case"X":t=a.toString(16).toUpperCase();break;default:t=a.toString()}return i=e.parseInt(i,10)||1,Array(Math.max(0,i-t.length)+1).join("0")+t}))}function Mu(e,t){var n=Ru(e,t,"timescale"),i=1;n&&(i=Su(n)||1),(n=Su((n=Ru(e,t,"duration"))||""))&&(n/=i);var r=Ru(e,t,"startNumber"),a=Number(Ru(e,t,"presentationTimeOffset"))||0,o=Tu(r||"");null!=r&&null!=o||(o=1);var s=Du(e,t,"SegmentTimeline");if(r=null,s){r=i;var l=e.N.duration||1/0,u=fu(s,"S");s=[];for(var d=-a,p=(u=c(ne(u))).next();!p.done;p=u.next()){var f=(p=p.value).item,h=p.next,m=bu(f,"t",Tu);p=bu(f,"d",Tu);var v=bu(f,"r",_u);if(null!=m&&(m-=a),!p)break;if(f=null!=m?m:d,0>(m=v||0))if(h){if(null==(h=bu(h,"t",Tu)))break;if(f>=h)break;m=Math.ceil((h-f)/p)-1}else{if(1/0==l)break;if(f/r>=l)break;m=Math.ceil((l*r-f)/p)-1}for(0<s.length&&f!=d&&(s[s.length-1].end=f/r),m=(h=c(te(m+1))).next();!m.done;m=h.next())d=f+p,s.push({start:f/r,end:d/r,uf:f}),f=d}r=s}return{timescale:i,ca:n,Ab:o,La:a/i||0,Dd:a,timeline:r}}function Ru(e,t,n){return[t(e.G),t(e.ea),t(e.ia)].filter(xt).map((function(e){return e.getAttribute(n)})).reduce((function(e,t){return e||t}))}function Du(e,t,n){return[t(e.G),t(e.ea),t(e.ia)].filter(xt).map((function(e){return du(e,n)})).reduce((function(e,t){return e||t}))}function Nu(e,t,n,i,r,a){if(a=void 0===a?0:a,mu(e,"http://www.w3.org/1999/xlink","href")){var o=function(e,t,n,i,r,a){for(var o=mu(e,"http://www.w3.org/1999/xlink","href"),s=mu(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",l=c(Array.from(e.attributes)),u=l.next();!u.done;u=l.next())"http://www.w3.org/1999/xlink"==(u=u.value).namespaceURI&&e.removeAttributeNS(u.namespaceURI,u.localName);if(5<=a)return Te(new ye(2,4,4028));if("onLoad"!=s)return Te(new ye(2,4,4027));var d=Et([i],[o]);return r.request(0,Ye(d,t)).W((function(i){if(!(i=Pu(i.data,e.tagName)))return Te(new ye(2,4,4001,o));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;i.childNodes.length;){var s=i.childNodes[0];i.removeChild(s),e.appendChild(s)}for(s=(i=c(Array.from(i.attributes))).next();!s.done;s=i.next())e.setAttributeNode(s.value.cloneNode(!1));return Nu(e,t,n,d[0],r,a+1)}))}(e,t,n,i,r,a);return n&&(o=o.W(void 0,(function(){return Nu(e,t,n,i,r,a)}))),o}o=[];for(var s=c(Array.from(e.childNodes)),l=s.next();!l.done;l=s.next())(l=l.value)instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==mu(l,"http://www.w3.org/1999/xlink","href")?e.removeChild(l):"SegmentTimeline"!=l.tagName&&o.push(Nu(l,t,n,i,r,a)));return Pe(o).W((function(){return e}))}function Uu(e,t,n,i,r,a,o){var s,l=(new Xi).U("sidx",(function(e){s=function(e,t,n,i,r,a,o){var s=[];o.reader.skip(4);var l=o.reader.I();if(0==l)throw new ye(2,3,3005);if(0==o.version)var u=o.reader.I(),d=o.reader.I();else u=o.reader.zb(),d=o.reader.zb();o.reader.skip(2);var p=o.reader.yb();for(e=e+o.size+d,p=c(te(p)),d=p.next();!d.done;d=p.next()){var f=o.reader.I();d=(2147483648&f)>>>31,f&=2147483647;var h=o.reader.I();if(o.reader.skip(4),1==d)throw new ye(2,3,3006);s.push(new xa(u/l+n,(u+h)/l+n,(function(){return a}),e,e+f-1,t,n,i,r)),u+=h,e+=f}return o.parser.stop(),s}(t,i,r,a,o,n,e)}));if(e&&l.parse(e),s)return s;throw new ye(2,3,3004)}function Vu(e){this.b=Me(e),this.a=new Ni(this.b,0)}function Fu(e){var t=Bu(e);if(7<t.length)throw new ye(2,3,3002);for(var n=0,i=(t=c(t)).next();!i.done;i=t.next())n=256*n+i.value;t=Bu(e);e:{for(var r=(i=c(Hu)).next();!r.done;r=i.next())if(Ae(t,new Uint8Array(r.value))){i=!0;break e}i=!1}if(i)t=e.b.byteLength-e.a.Z();else{if(8==t.length&&224&t[1])throw new ye(2,3,3001);i=0;for(var a=(r=c(ne(t))).next();!a.done;a=r.next()){var o=(a=a.value).item;i=0==a.ba?o&(1<<8-t.length)-1:256*i+o}t=i}return t=e.a.Z()+t<=e.b.byteLength?t:e.b.byteLength-e.a.Z(),i=Me(e.b,e.a.Z(),t),e.a.skip(t),new zu(n,i)}function Bu(e){var t=e.a.Z(),n=e.a.V();if(0==n)throw new ye(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.a.skip(n-1),Le(e.b,t,n)}Vu.prototype.ga=function(){return this.a.ga()};var Hu=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function zu(e,t){this.id=e,this.a=t}function qu(e){if(8<e.a.byteLength)throw new ye(2,3,3002);if(8==e.a.byteLength&&224&e.a.getUint8(0))throw new ye(2,3,3001);for(var t=0,n=c(te(e.a.byteLength)),i=n.next();!i.done;i=n.next())t=256*t+(i=e.a.getUint8(i.value));return t}function Ku(e){var t=new Vu(e.a);if(179!=(e=Fu(t)).id)throw new ye(2,3,3013);if(e=qu(e),183!=(t=Fu(t)).id)throw new ye(2,3,3012);t=new Vu(t.a);for(var n=0;t.ga();){var i=Fu(t);if(241==i.id){n=qu(i);break}}return{vf:e,af:n}}function Wu(e,t){var n=Du(e,t,"Initialization");if(!n)return null;var i=e.G.ra,r=n.getAttribute("sourceURL");r&&(i=Et(e.G.ra,[r])),r=0;var a=null;return(n=bu(n,"range",wu))&&(r=n.start,a=n.end),new Ta((function(){return i}),r,a)}function Xu(e,t){var n=Number(Ru(e,Yu,"presentationTimeOffset"))||0,i=Ru(e,Yu,"timescale"),r=1;i&&(r=Su(i)||1);var a=n/r||0,o=Wu(e,Yu);!function(e,t){if($u(e,t),!Qu(e))throw new ye(2,4,4002)}(e,o);var s=Fe(e);return{ob:function(){var e=Du(s,Yu,"RepresentationIndex"),n=s.G.ra;return e&&(e=e.getAttribute("sourceURL"))&&(n=Et(s.G.ra,[e])),e=Qu(s),Gu(s,t,o,n,e.start,e.end,a)}}}function Gu(e,t,n,i,r,a,o){var s,l,u,c,d,p,f,h,m,v,y,b,g,k,_;return M((function(S){if(1==S.a)return s=e.presentationTimeline,l=!e.Va||!e.N.Pd,u=e.N.start,c=e.N.duration,d=e.G.mimeType.split("/")[1],f=null,h=[(p=t)(i,r,a),"webm"==d?p(n.a(),n.da,n.Y):null],p=null,w(S,Promise.all(h),2);if(m=S.b,v=m[0],y=m[1]||null,null,g=u-o,k=u,_=c?u+c:1/0,"mp4"==d)var T=Uu(v,r,i,n,g,k,_);else{if(440786851!=Fu(T=new Vu(y)).id)throw new ye(2,3,3008);var x=Fu(T);if(408125543!=x.id)throw new ye(2,3,3009);T=x.a.byteOffset,x=new Vu(x.a);for(var O=null;x.ga();){var E=Fu(x);if(357149030==E.id){O=E;break}}if(!O)throw new ye(2,3,3010);for(O=new Vu(O.a),E=1e6,x=null;O.ga();){var P=Fu(O);if(2807729==P.id)E=qu(P);else if(17545==P.id)if(4==P.a.byteLength)x=P.a.getFloat32(0);else{if(8!=P.a.byteLength)throw new ye(2,3,3003);x=P.a.getFloat64(0)}}if(null==x)throw new ye(2,3,3011);if(x*=O=E/1e9,475249515!=(E=Fu(new Vu(v))).id)throw new ye(2,3,3007);T=function(e,t,n,i,r,a,o,s,l){function u(){return r}var c=[];e=new Vu(e.a);for(var d=null,p=null;e.ga();){var f=Fu(e);if(187==f.id){var h=Ku(f);h&&(f=n*h.vf,h=t+h.af,null!=d&&c.push(new xa(d+o,f+o,u,p,h-1,a,o,s,l)),d=f,p=h)}}return null!=d&&c.push(new xa(d+o,i+o,u,p,null,a,o,s,l)),c}(E,T,O,x,i,n,g,k,_)}return b=T,s.vb(b),f=new Wa(b),l&&f.Pa(k,_),S.return(f)}))}function Yu(e){return e.Ub}function Qu(e){var t=Du(e,Yu,"RepresentationIndex");return e=wu((e=Ru(e,Yu,"indexRange"))||""),t&&(e=bu(t,"range",wu,e)),e}function $u(e,t){var n=e.G.mimeType.split("/")[1];if("text"!=e.G.contentType&&"mp4"!=n&&"webm"!=n)throw new ye(2,4,4006);if("webm"==n&&!t)throw new ye(2,4,4005)}function Ju(e,t){var n=Wu(e,Zu),i=function(e){var t=function(e){return[e.G.Ta,e.ea.Ta,e.ia.Ta].filter(xt).map((function(e){return fu(e,"SegmentURL")})).reduce((function(e,t){return 0<e.length?e:t})).map((function(t){return t.getAttribute("indexRange")&&!e.Nd&&(e.Nd=!0),{Te:t.getAttribute("media"),start:(t=bu(t,"mediaRange",wu,{start:0,end:null})).start,end:t.end}}))}(e),n=(e=Mu(e,Zu)).Ab;0==n&&(n=1);var i=0;return e.ca?i=e.ca*(n-1):e.timeline&&0<e.timeline.length&&(i=e.timeline[0].start),{ca:e.ca,startTime:i,Ab:n,La:e.La,timeline:e.timeline,sb:t}}(e);if(!i.ca&&!i.timeline&&1<i.sb.length)throw new ye(2,4,4002);if(!i.ca&&!e.N.duration&&!i.timeline&&1==i.sb.length)throw new ye(2,4,4002);if(i.timeline&&0==i.timeline.length)throw new ye(2,4,4002);var r=null,a=null;return e.ia.id&&e.G.id&&(a=e.ia.id+","+e.G.id,r=t[a]),n=function(e,t,n,i,r){var a=i.sb.length;i.timeline&&i.timeline.length!=i.sb.length&&(a=Math.min(i.timeline.length,i.sb.length));for(var o=e-i.La,s=t?e+t:1/0,l=[],u=i.startTime,d={},p=(a=c(te(a))).next();!p.done;d={Fc:d.Fc},p=a.next()){p=p.value;var f=i.sb[p];d.Fc=Et(n,[f.Te]);var h=void 0;h=null!=i.ca?u+i.ca:i.timeline?i.timeline[p].end:u+t,l.push(new xa(e+u,e+h,function(e){return function(){return e.Fc}}(d),f.start,f.end,r,o,e,s)),u=h}return l}(e.N.start,e.N.duration,e.G.ra,i,n),r?(r.tb(n),r.Wa(e.presentationTimeline.qb())):(e.presentationTimeline.vb(n),r=new Wa(n),a&&e.Va&&(t[a]=r)),e.Va&&e.N.Pd||r.Pa(e.N.start,e.N.duration?e.N.start+e.N.duration:1/0),{ob:function(){return Promise.resolve(r)}}}function Zu(e){return e.Ta}function ec(e,t,n,i,r){var a=function(e){var t=Ru(e,tc,"initialization");if(!t)return null;var n=e.G.id,i=e.bandwidth||null,r=e.G.ra;return new Ta((function(){var e=Lu(t,n,null,i,null);return Et(r,[e])}),0,null)}(e),o=function(e){var t=Mu(e,tc),n=Ru(e,tc,"media");return e=Ru(e,tc,"index"),{ca:t.ca,timescale:t.timescale,Ab:t.Ab,La:t.La,Dd:t.Dd,timeline:t.timeline,fd:n,Qb:e}}(e);!function(e){var t=e.Qb?1:0;if(t+=e.timeline?1:0,0==(t+=e.ca?1:0))throw new ye(2,4,4002);if(1!=t&&(e.Qb&&(e.timeline=null),e.ca=null),!e.Qb&&!e.fd)throw new ye(2,4,4002)}(o);var s=Fe(e);if(o.Qb)return $u(e,a),{ob:function(){var e=Lu(o.Qb,s.G.id,null,s.bandwidth||null,null);return e=Et(s.G.ra,[e]),Gu(s,t,a,e,0,null,o.La)}};if(o.ca)return i||(e.presentationTimeline.gd(o.ca),e.presentationTimeline.hd(e.N.start)),{ob:function(){return function(e,t,n,i){function r(e){var n=(e-p)*d,r=n+t.La;return new xa(n+=s,Math.min(n+d,u),(function(){var t=Lu(h,v,e,m,r*f);return Et(y,[t])}),0,null,i,b,s,u)}function a(){var e=[Math.max(o.qb(),s),Math.min(o.Ya(),u)].map((function(e){return e-s}));return[Math.ceil(e[0]/d),Math.ceil(e[1]/d)-1].map((function(e){return e+p}))}var o=e.presentationTimeline,s=e.N.start,l=e.N.duration,u=l?s+l:1/0,d=t.ca,p=t.Ab,f=t.timescale,h=t.fd,m=e.bandwidth||null,v=e.G.id,y=e.G.ra,b=s-t.La,g=a();l=g[1];var k=[];for(e=e.Va?Math.max(g[0],g[1]-n+1):g[0];e<=l;++e)n=r(e),k.push(n);var w=new Wa(k);if(o.Ya()<u){var _=l+1;w.yc(d,(function(){w.Wa(o.qb());var e=c(a());e.next(),e=e.next().value;for(var t=[];_<=e;){var n=r(_);t.push(n),_++}return t}))}return Promise.resolve(w)}(s,o,r,a)}};var l=null;i=null,e.ia.id&&e.G.id&&(i=e.ia.id+","+e.G.id,l=n[i]);var u=function(e,t,n){var i=e.N.start,r=e.N.duration,a=i-t.La;r=r?i+r:1/0;for(var o=[],s={},l=c(ne(t.timeline)),u=l.next();!u.done;s={Hc:s.Hc,Kc:s.Kc,Dc:s.Dc,Lc:s.Lc},u=l.next()){var d=(u=u.value).item,p=d.start,f=d.uf;d=d.end,s.Kc=u.ba+t.Ab,s.Lc=f+t.Dd,s.Hc=e.G.id,s.Dc=e.bandwidth||null,o.push(new xa(i+p,i+d,function(n){return function(){var i=Lu(t.fd,n.Hc,n.Kc,n.Dc||null,n.Lc);return Et(e.G.ra,[i]).map((function(e){return e.toString()}))}}(s),0,null,n,a,i,r))}return o}(s,o,a),d=e.N.start,p=e.N.duration?e.N.start+e.N.duration:1/0,f=1/0!=p;return l?(f&&new Wa(u).Pa(d,p),l.tb(u),l.Wa(e.presentationTimeline.qb())):(e.presentationTimeline.vb(u),l=new Wa(u),i&&e.Va&&(n[i]=l)),f&&l.Pa(d,p),{ob:function(){return Promise.resolve(l)}}}function tc(e){return e.Vb}function nc(){this.f=[],this.a=[],this.b=[],this.c=[],this.g=new Set}function ic(e,t,n){var i,r,a,o,s,l,u,d,p,f,h,m,v,y,b,g,k,S,T,x,O,E,P,C,A,I,j,L;return M((function(M){switch(M.a){case 1:if(i=Ct,function(e){for(var t=(e=c(e)).next();!t.done;t=e.next()){for(var n=[],i=c((t=t.value).kc),r=i.next();!r.done;r=i.next()){r=r.value;for(var a=!1,o=c(n),s=o.next();!s.done;s=o.next())s=s.value,r.id!=s.id&&r.channelsCount==s.channelsCount&&r.language==s.language&&r.bandwidth==s.bandwidth&&ze(r.roles,s.roles)&&r.audioSamplingRate==s.audioSamplingRate&&r.primary==s.primary&&(a=!0);a||n.push(r)}t.kc=n}}(t),function(e){for(var t=(e=c(e)).next();!t.done;t=e.next()){for(var n=[],i=c((t=t.value).Ac),r=i.next();!r.done;r=i.next()){r=r.value;for(var a=!1,o=c(n),s=o.next();!s.done;s=o.next())s=s.value,r.id!=s.id&&r.width==s.width&&r.frameRate==s.frameRate&&ze(r.roles,s.roles)&&jt(r.closedCaptions,s.closedCaptions)&&r.bandwidth==s.bandwidth&&(a=!0);a||n.push(r)}t.Ac=n}}(t),function(e){for(var t=(e=c(e)).next();!t.done;t=e.next()){for(var n=[],i=c((t=t.value).textStreams),r=i.next();!r.done;r=i.next()){r=r.value;for(var a=!1,o=c(n),s=o.next();!s.done;s=o.next())s=s.value,r.id!=s.id&&r.language==s.language&&ze(r.roles,s.roles)&&(a=!0);a||n.push(r)}t.textStreams=n}}(t),!n&&1==t.length){r=t[0],e.a=r.kc,e.b=r.Ac,e.c=r.textStreams,M.s(2);break}for(a=-1,o=c(ne(t)),s=o.next();!s.done;s=o.next())l=s.value,u=l.ba,d=l.item,e.g.has(d.id)||(e.g.add(d.id),-1==a&&(a=u));if(-1==a)return M.return();for(p=t.map((function(e){return e.kc})),f=t.map((function(e){return e.Ac})),h=t.map((function(e){return e.textStreams})),m=c(h),v=m.next();!v.done;v=m.next())v.value.push({id:0,originalId:"",createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Wa([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",label:null,type:"text",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,closedCaptions:null});return w(M,ac(e.a,p,a,sc,uc),3);case 3:return w(M,ac(e.b,f,a,sc,uc),4);case 4:return w(M,ac(e.c,h,a,sc,uc),2);case 2:if(y=0,b=[],e.b.length&&e.a.length)for(O=c(e.a),E=O.next();!E.done;E=O.next())for(P=E.value,C=c(e.b),A=C.next();!A.done;A=C.next())I=A.value,j=yn(P.drmInfos,I.drmInfos),P.drmInfos.length&&I.drmInfos.length&&!j.length||(L=y++,b.push({id:L,language:P.language,primary:P.primary,audio:P,video:I,bandwidth:(P.bandwidth||0)+(I.bandwidth||0),drmInfos:j,allowedByApplication:!0,allowedByKeySystem:!0}));else for(g=e.b.concat(e.a),k=c(g),S=k.next();!S.done;S=k.next())T=S.value,x=y++,b.push({id:x,language:T.language,primary:T.primary,audio:T.type==i.kb?T:null,video:T.type==i.Ga?T:null,bandwidth:T.bandwidth||0,drmInfos:T.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0});e.f=b,_(M)}}))}function rc(e){var t,n,i,r,a,o,s,l,u,d,p,f,h,m,v,y,b,g,k,_;return M((function(S){switch(S.a){case 1:if(t=Ct,1==e.length)return S.return(e[0]);for(n=e.map((function(e){return e.filter((function(e){return e.type==t.kb}))})),i=e.map((function(e){return e.filter((function(e){return e.type==t.Ga}))})),r=e.map((function(e){return e.filter((function(e){return e.type==t.$}))})),a=c(r),o=a.next();!o.done;o=a.next())o.value.push({id:0,originalId:"",primary:!1,type:"text",mimeType:"",codecs:"",language:"",label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,closedCaptions:null});return w(S,ac([],n,0,lc,cc),2);case 2:return s=S.b,w(S,ac([],i,0,lc,cc),3);case 3:return l=S.b,w(S,ac([],r,0,lc,cc),4);case 4:if(u=S.b,d=0,l.length&&s.length)for(m=c(s),v=m.next();!v.done;v=m.next())for(y=v.value,b=c(l),g=b.next();!g.done;g=b.next())k=g.value,_=d++,k.variantIds.push(_),y.variantIds.push(_);else for(p=l.concat(s),f=c(p),h=f.next();!h.done;h=f.next())h.value.variantIds=[d++];return S.return(l.concat(s,u))}}))}function ac(e,t,n,i,r){var a,o,s,l,u,d,p,f,h,m,v,y,b,g,k,_,S,T,x;return M((function(O){switch(O.a){case 1:for(a=Ct,o=[],s=c(ne(t)),l=s.next();!l.done;l=s.next())u=l.value,d=u.ba,p=u.item,d>=n?o.push(new Set(p)):o.push(new Set);f=c(e),h=f.next();case 2:if(h.done){O.s(4);break}return w(O,function(e,t,n,i,r){var a;return M((function(o){return 1==o.a?(a=dc(t,e))?w(o,Promise.all(a.map((function(e){return e.createSegmentIndex()}))),2):o.return(!1):(oc(e,a,n,i,r),o.return(!0))}))}(h.value,t,n,r,o),5);case 5:if(!O.b)throw new ye(2,4,4037);h=f.next(),O.s(2);break;case 4:m=c(o),v=m.next();case 6:if(v.done){O.s(8);break}y=v.value,b=c(y),g=b.next();case 9:if(g.done){v=m.next(),O.s(6);break}return w(O,function(e,t,n,i,r){var a,o;return M((function(s){return 1==s.a?(a=n(e),(o=dc(t,a))?a.createSegmentIndex?w(s,Promise.all(o.map((function(e){return e.createSegmentIndex()}))),2):s.s(2):s.return(null)):(oc(a,o,0,i,r),s.return(a))}))}(g.value,t,i,r,o),12);case 12:(k=O.b)&&e.push(k),g=b.next(),O.s(9);break;case 8:for(_=c(o),v=_.next();!v.done;v=_.next())for(S=v.value,T={},x=c(S),g=x.next();!g.done;T={jb:T.jb},g=x.next())if(T.jb=g.value,(T.jb.type!=a.$||T.jb.language)&&e.some(function(e){return function(t){return t.mimeType==e.jb.mimeType&&Rt(t.codecs)[0]==Rt(e.jb.codecs)[0]}}(T)))throw new ye(2,4,4037);return O.return(e)}}))}function oc(e,t,n,i,r){for(var a=(t=c(ne(t))).next();!a.done;a=t.next()){var o=a.value;if(a=o.ba,o=o.item,a>=n){i(e,o);var s=!0;"audio"==e.type&&0==Hr(e.language,o.language)&&(s=!1),s&&r[a].delete(o)}}}function sc(e){return(e=Object.assign({},e)).originalId=null,e.createSegmentIndex=function(){return Promise.resolve()},e.segmentIndex=new Ya,e.emsgSchemeIdUris=[],e.keyIds=new Set,e.closedCaptions=null,e.trickModeVideo=null,e}function lc(e){return(e=Object.assign({},e)).keyIds=new Set,e.segments=[],e.variantIds=[],e.closedCaptions=null,e}function uc(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles))),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=Array.from(new Set(e.emsgSchemeIdUris.concat(t.emsgSchemeIdUris))));var n=t.keyIds;if(n=new Set(d(e.keyIds).concat(d(n))),e.keyIds=n,null==e.originalId?e.originalId=t.originalId:e.originalId+=","+(t.originalId||""),n=yn(e.drmInfos,t.drmInfos),t.drmInfos.length&&e.drmInfos.length&&!n.length)throw new ye(2,4,4038);if(e.drmInfos=n,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map);for(var i=(n=c(t.closedCaptions)).next();!i.done;i=n.next()){var r=c(i.value);i=r.next().value,r=r.next().value,e.closedCaptions.set(i,r)}}e.segmentIndex.f.push(t.segmentIndex),t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=sc(t.trickModeVideo),e.trickModeVideo.segmentIndex=e.segmentIndex.clone()),uc(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&uc(e.trickModeVideo,t)}function cc(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles)));var n=t.keyIds;if(n=new Set(d(e.keyIds).concat(d(n))),e.keyIds=n,e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,d(t.segments)),t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map);for(var i=(n=c(t.closedCaptions)).next();!i.done;i=n.next()){var r=c(i.value);i=r.next().value,r=r.next().value,e.closedCaptions.set(i,r)}}}function dc(e,t){for(var n=[],i=c(e),r=i.next();!r.done;r=i.next()){for(var a=t,o={audio:pc,video:pc,text:fc}[a.type],s={audio:hc,video:mc,text:vc}[a.type],l=null,u=(r=c(r.value)).next();!u.done;u=r.next())!o(a,u=u.value)||l&&!s(a,l,u)||(l=u);if(!(a=l))return null;n.push(a)}return n}function pc(e,t){var n;if(!(n=t.mimeType!=e.mimeType||Rt(t.codecs)[0]!=Rt(e.codecs)[0])&&(n=e.drmInfos)){n=e.drmInfos;var i=t.drmInfos;n=!(!n.length||!i.length||0<yn(n,i).length)}return!n}function fc(e,t){return!!e.language&&(!t.language||0!=Hr(e.language,t.language)&&t.kind==e.kind)}function hc(e,t,n){if(e.id==n.id)return!0;var i=Hr(e.language,t.language),r=Hr(e.language,n.language);return r>i||!(r<i)&&(!(t.primary||!n.primary)||!(t.primary&&!n.primary)&&(e.roles.length?(i=t.roles.filter((function(t){return e.roles.includes(t)})),(r=n.roles.filter((function(t){return e.roles.includes(t)}))).length>i.length||!(r.length<i.length)&&n.roles.length<t.roles.length):(i=yc(e.channelsCount,t.channelsCount,n.channelsCount))==gc||i!=wc&&((i=yc(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate))==gc||i!=wc&&!(!e.bandwidth||bc(e.bandwidth,t.bandwidth,n.bandwidth)!=gc))))}function mc(e,t,n){if(e.id==n.id)return!0;var i=yc(e.width*e.height,t.width*t.height,n.width*n.height);if(i==gc)return!0;if(i==wc)return!1;if(e.frameRate){if((i=yc(e.frameRate,t.frameRate,n.frameRate))==gc)return!0;if(i==wc)return!1}return!(!e.bandwidth||bc(e.bandwidth,t.bandwidth,n.bandwidth)!=gc)}function vc(e,t,n){if(e.id==n.id)return!0;var i=Hr(e.language,t.language),r=Hr(e.language,n.language);if(r>i)return!0;if(r<i)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(e.roles.length){if(i=t.roles.filter((function(t){return e.roles.includes(t)})),(r=n.roles.filter((function(t){return e.roles.includes(t)}))).length>i.length)return!0;if(r.length<i.length)return!1}return n.mimeType==e.mimeType&&n.codecs==e.codecs&&(t.mimeType!=e.mimeType||t.codecs!=e.codecs)}function yc(e,t,n){if(t==e&&e!=n)return wc;if(n==e&&e!=t)return gc;if(t>e){if(n<=e||n-e<t-e)return gc;if(n-e>t-e)return wc}else{if(n>e)return wc;if(e-n<e-t)return gc;if(e-n>e-t)return wc}return kc}function bc(e,t,n){return t=Math.abs(e-t),(e=Math.abs(e-n))<t?gc:t<e?wc:kc}nc.prototype.release=function(){for(var e=c(this.a.concat(this.b,this.c)),t=e.next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();this.a=[],this.b=[],this.c=[],this.f=[]};var gc=1,kc=0,wc=-1;function _c(){var e=this;this.o=this.i=null,this.b=[],this.u=null,this.A=1,this.g={},this.a=new nc,this.l=0,this.v=new H(5),this.j=new ge((function(){e.Sb()})),this.f=new Ke,this.c=1/0,this.h=!1}function Sc(e){var t,n,i,r,a,o,s;return M((function(l){return 1==l.a?(t=Ye(e.b,e.i.retryParameters),n=e.o.networkingEngine,i=Date.now(),r=n.request(0,t),We(e.f,r),w(l,r.promise,2)):3!=l.a?(a=l.b,e.o?(a.uri&&!e.b.includes(a.uri)&&e.b.unshift(a.uri),w(l,function(e,t,n){var i,r,a,o;return M((function(s){if(1==s.a){if(!(i=Pu(t,"MPD")))throw new ye(2,4,4001,n);return r=e.i.dash.xlinkFailGracefully,a=Nu(i,e.i.retryParameters,r,n,e.o.networkingEngine),We(e.f,a),w(s,a.promise,2)}return o=s.b,s.return(function(e,t,n){var i,r,a,o,s,l,u,d,p,f,h,m,v,y,b,g,k,_,T,E,P,C,A;return M((function(I){switch(I.a){case 1:i=[n],0<(r=fu(t,"Location").map(vu).filter(xt)).length&&(a=Et(i,r),i=e.b=a),o=fu(t,"BaseURL"),s=o.map(vu),l=Et(i,s),u=0,o&&o.length&&(u=bu(o[0],"availabilityTimeOffset",xu)||0),d=e.i.dash.ignoreMinBufferTime,p=0,d||(p=bu(t,"minBufferTime",ku)||0),e.l=bu(t,"minimumUpdatePeriod",ku,-1),f=bu(t,"availabilityStartTime",gu),h=bu(t,"timeShiftBufferDepth",ku),m=e.i.dash.ignoreSuggestedPresentationDelay,v=null,m||(v=bu(t,"suggestedPresentationDelay",ku)),y=bu(t,"maxSegmentDuration",ku),b=t.getAttribute("type")||"static",e.u?g=e.u.presentationTimeline:(k=e.i.defaultPresentationDelay||1.5*p,g=new Oa(f,null!=v?v:k,e.i.dash.autoCorrectDrift)),_={Va:"static"!=b,presentationTimeline:g,ia:null,N:null,ea:null,G:null,bandwidth:0,Nd:!1,lb:u};for(var j=bu(t,"mediaPresentationDuration",ku),L=[],R=0,D=fu(t,"Period"),N=(D=c(ne(D))).next();!N.done;N=D.next()){var U=N.value;N=U.item,U=U.next,R=bu(N,"start",ku,R);var V=bu(N,"duration",ku),F=null;if(U){var B=bu(U,"start",ku);null!=B&&(F=B-R)}else null!=j&&(F=j-R);if(null==F&&(F=V),N=Tc(e,_,l,{start:R,duration:F,node:N,Pd:null==F||!U}),L.push(N),null==F){R=null;break}R+=F}return E=(T=null!=j?{periods:L,duration:j,Id:!1}:{periods:L,duration:R,Id:!0}).duration,P=T.periods,g.Wb("static"==b),"static"!=b&&T.Id||g.Da(E||1/0),e.c&&!e.h&&e.o.isAutoLowLatencyMode()&&(e.o.enableLowLatencyMode(),e.h=e.o.isLowLatencyMode()),e.h?g.ae(e.c):e.c&&G("Low-latency DASH live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),g.T()&&!isNaN(e.i.availabilityWindowOverride)&&(h=e.i.availabilityWindowOverride),null==h&&(h=1/0),g.yd(h),g.gd(y||1),w(I,ic(e.a,P,_.Va),2);case 2:if(e.u){e.u.variants=e.a.f,e.u.textStreams=e.a.c,I.s(3);break}if(e.u={presentationTimeline:g,variants:e.a.f,textStreams:e.a.c,offlineSessionIds:[],minBufferTime:p||0},!g.fe()){I.s(3);break}return C=fu(t,"UTCTiming"),w(I,function(e,t,n){var i,r,a,o,s,l,u,d;return M((function(p){switch(p.a){case 1:i=n.map((function(e){return{scheme:e.getAttribute("schemeIdUri"),value:e.getAttribute("value")}})),r=e.i.dash.clockSyncUri,!i.length&&r&&i.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:r}),a=c(i),o=a.next();case 2:if(o.done){p.s(4);break}switch(s=o.value,S(p,5),l=s.scheme,u=s.value,l){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return p.s(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return p.s(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return d=Date.parse(u),p.return(isNaN(d)?0:d-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":G("NTP UTCTiming scheme is not supported");break;default:G("Unrecognized scheme in UTCTiming element",l)}p.s(9);break;case 7:return w(p,Pc(e,t,u,"HEAD"),10);case 10:return p.return(p.b);case 8:return w(p,Pc(e,t,u,"GET"),11);case 11:return p.return(p.b);case 9:x(p,3);break;case 5:O(p);case 3:o=a.next(),p.s(2);break;case 4:return G("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),p.return(0)}}))}(e,l,C),5);case 5:if(A=I.b,!e.o)return I.return();g.be(A);case 3:return e.o.makeTextStreamsForClosedCaptions(e.u),w(I,e.o.filter(e.u),0)}}))}(e,o,n))}))}(e,a.data,a.uri),3)):l.return(0)):(o=Date.now(),s=(o-i)/1e3,z(e.v,1,s),l.return(s))}))}function Tc(e,t,n,i){t.ia=Ec(i.node,null,n),t.N=i,t.ia.lb=t.lb,t.ia.id||(t.ia.id="__shaka_period_"+i.start);for(var r=(n=c(n=fu(i.node,"EventStream"))).next();!r.done;r=n.next())Cc(e,i.start,i.duration,r.value);if(n=fu(i.node,"AdaptationSet").map((function(n){return function(e,t,n){if(t.ea=Ec(n,t.ia,null),"image"==t.ea.contentType)return null;var i=!1,r=fu(n,"Role"),a=r.map((function(e){return e.getAttribute("value")})).filter(xt),o=void 0,s="text"==t.ea.contentType;s&&(o="subtitle");for(var l=(r=c(r)).next();!l.done;l=r.next()){var u=(l=l.value).getAttribute("schemeIdUri");if(null==u||"urn:mpeg:dash:role:2011"==u)switch(l=l.getAttribute("value"),l){case"main":i=!0;break;case"caption":case"subtitle":o=l}}u=fu(n,"EssentialProperty"),r=null,l=!1;for(var p=(u=c(u)).next();!p.done;p=u.next())"http://dashif.org/guidelines/trickmode"==(p=p.value).getAttribute("schemeIdUri")?r=p.getAttribute("value"):l=!0;u=fu(n,"Accessibility");var f=new Map;for(u=c(u),p=u.next();!p.done;p=u.next()){var h=p.value;if(p=h.getAttribute("schemeIdUri"),h=h.getAttribute("value"),"urn:scte:dash:cc:cea-608:2015"==p)if(p=1,null!=h)for(var m=c(h=h.split(";")),v=m.next();!v.done;v=m.next()){var y=v.value,b=v=void 0;y.includes("=")?(v=(y=y.split("="))[0].startsWith("CC")?y[0]:"CC"+y[0],b=y[1]):(v="CC"+p,2==h.length?p+=2:p++,b=y),f.set(v,Br(b))}else f.set("CC1","und");else if("urn:scte:dash:cc:cea-708:2015"==p)if(p=1,null!=h)for(v=(h=c(h.split(";"))).next();!v.done;v=h.next())y=m=void 0,(v=v.value).includes("=")?(m="svc"+(v=v.split("="))[0],y=v[1].split(",")[0].split(":").pop()):(m="svc"+p,p++,y=v),f.set(m,Br(y));else f.set("svc1","und");else"urn:mpeg:dash:role:2011"==p&&null!=h&&(a.push(h),"captions"==h&&(o="caption"))}if(l)return null;var g=Cu(l=fu(n,"ContentProtection"),e.i.dash.ignoreDrmInfo),k=Br(n.getAttribute("lang")||"und"),S=n.getAttribute("label");if((l=fu(n,"Label"))&&l.length&&((l=l[0]).textContent&&(S=l.textContent)),l=fu(n,"Representation"),0==(n=l.map((function(n){return function(e,t,n,i,r,a,o,s,l,u){if(t.G=Ec(u,t.ea,null),e.c=Math.min(e.c,t.G.lb),!function(e){var t=e.Ub?1:0;return t+=e.Ta?1:0,0==(t+=e.Vb?1:0)?"text"==e.contentType||"application"==e.contentType:(1!=t&&(e.Ub&&(e.Ta=null),e.Vb=null),!0)}(t.G))return null;var c=t.N.start;t.bandwidth=bu(u,"bandwidth",Su)||0;var d=t.G.contentType;d="text"==d||"application"==d;try{var p=function(t,n,i){return function(e,t,n,i){var r,a,o,s,l;return M((function(u){return 1==u.a?(r=Ze,a=ao(t,n,i,e.i.retryParameters),o=e.o.networkingEngine,s=o.request(r,a),We(e.f,s),w(u,s.promise,2)):(l=u.b,u.return(l.data))}))}(e,t,n,i)};if(t.G.Ub)var f=Xu(t,p);else if(t.G.Ta)f=Ju(t,e.g);else if(t.G.Vb)f=ec(t,p,e.g,!!e.u,e.i.dash.initialSegmentLimit);else{var h=t.G.ra,m=t.N.duration||0;f={ob:function(){return Promise.resolve(Xa(c,m,h))}}}}catch(g){if(d&&4002==g.code)return null;throw g}p=function(e,t,n){var i=Cu(e,n);if(t.Kd)e=1==t.drmInfos.length&&!t.drmInfos[0].keySystem,n=0==i.drmInfos.length,(0==t.drmInfos.length||e&&!n)&&(t.drmInfos=i.drmInfos),t.Kd=!1;else if(0<i.drmInfos.length&&(t.drmInfos=t.drmInfos.filter((function(e){return i.drmInfos.some((function(t){return t.keySystem==e.keySystem}))})),0==t.drmInfos.length))throw new ye(2,4,4008);return i.Gd||t.Gd}(p=fu(u,"ContentProtection"),n,e.i.dash.ignoreDrmInfo),p=new Set(p?[p]:[]),fu(u,"SupplementalProperty").some((function(e){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==e.getAttribute("schemeIdUri")&&"JOC"==e.getAttribute("value")}))&&(t.G.mimeType="audio/eac3-joc"),u=!1,d&&(u=s.includes("forced_subtitle"));var v={id:e.A++,originalId:t.G.id,createSegmentIndex:function(){var e;return M((function(t){if(1==t.a)return v.segmentIndex?t.s(0):(e=v,w(t,f.ob(),3));e.segmentIndex=t.b,_(t)}))},segmentIndex:null,mimeType:t.G.mimeType,codecs:t.G.codecs,frameRate:t.G.frameRate,pixelAspectRatio:t.G.pixelAspectRatio,bandwidth:t.bandwidth,width:t.G.width,height:t.G.height,kind:i,encrypted:0<n.drmInfos.length,drmInfos:n.drmInfos,keyIds:p,language:r,label:a,type:t.ea.contentType,primary:o,trickModeVideo:null,emsgSchemeIdUris:t.G.emsgSchemeIdUris,roles:s,forced:u,channelsCount:t.G.jd,audioSamplingRate:t.G.audioSamplingRate,closedCaptions:l};return v}(e,t,g,o,k,S,i,a,f,n)})).filter((function(e){return!!e}))).length){if(e.i.dash.ignoreEmptyAdaptationSet||s)return null;throw new ye(2,4,4003)}if(!t.ea.contentType||"application"==t.ea.contentType)for(t.ea.contentType=Ac(n[0].mimeType,n[0].codecs),s=c(n),u=s.next();!u.done;u=s.next())u.value.type=t.ea.contentType;for(s=c(n),u=s.next();!u.done;u=s.next())for(u=u.value,h=(p=c(g.drmInfos)).next();!h.done;h=p.next())(h=h.value).keyIds=h.keyIds&&u.keyIds?new Set(d(h.keyIds).concat(d(u.keyIds))):h.keyIds||u.keyIds;return s=l.map((function(e){return e.getAttribute("id")})).filter(xt),{id:t.ea.id||"__fake__"+e.A++,contentType:t.ea.contentType,language:k,Xf:i,streams:n,drmInfos:g.drmInfos,Bd:r,df:s}}(e,t,n)})).filter(xt),t.Va){i=[];for(var a=(r=c(n)).next();!a.done;a=r.next())for(var o=(a=c(a.value.df)).next();!o.done;o=a.next())i.push(o.value);if(i.length!=new Set(i).size)throw new ye(2,4,4018)}for(i=n.filter((function(e){return!e.Bd})),r=(n=c(n=n.filter((function(e){return e.Bd})))).next();!r.done;r=n.next()){a=(r=r.value).Bd;for(var s=(o=c(i)).next();!s.done;s=o.next()){var l=s.value;if(l.id==a){s={};for(var u=(l=c(l.streams)).next();!u.done;s={Yb:s.Yb,dc:s.dc},u=l.next())s.dc=u.value,s.Yb=Lt,s.dc.trickModeVideo=r.streams.find(function(e){return function(t){return e.Yb.a(e.dc.codecs)==e.Yb.a(t.codecs)}}(s))}}}if(r=e.i.disableAudio?[]:xc(i,"audio"),a=e.i.disableVideo?[]:xc(i,"video"),n=e.i.disableText?[]:xc(i,"text"),!a.length&&!r.length)throw new ye(2,4,4004);for(i=[],o=(r=c(r)).next();!o.done;o=r.next())i.push.apply(i,d(o.value.streams));for(r=[],o=(a=c(a)).next();!o.done;o=a.next())r.push.apply(r,d(o.value.streams));for(a=[],o=(n=c(n)).next();!o.done;o=n.next())a.push.apply(a,d(o.value.streams));return{id:t.ia.id,kc:i,Ac:r,textStreams:a}}function xc(e,t){return e.filter((function(e){return e.contentType==t}))}function Oc(e,t){0>e.l||e.j.R(Math.max(3,e.l-t,q(e.v)))}function Ec(e,t,n){t=t||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,jd:null,audioSamplingRate:null,lb:0},n=n||t.ra;for(var i=fu(e,"BaseURL"),r=i.map(vu),a=e.getAttribute("contentType")||t.contentType,o=e.getAttribute("mimeType")||t.mimeType,s=e.getAttribute("codecs")||t.codecs,l=bu(e,"frameRate",Ou)||t.frameRate,u=e.getAttribute("sar")||t.pixelAspectRatio,d=fu(e,"InbandEventStream"),p=t.emsgSchemeIdUris.slice(),f=(d=c(d)).next();!f.done;f=d.next())f=f.value.getAttribute("schemeIdUri"),p.includes(f)||p.push(f);d=function(e){for(var t=(e=c(e)).next();!t.done;t=e.next()){var n=t.value;if((t=n.getAttribute("schemeIdUri"))&&(n=n.getAttribute("value")))switch(t){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(t=parseInt(n,10)))continue;return t;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(t=parseInt(n,16)){for(e=0;t;)1&t&&++e,t>>=1;return e}}}return null}(d=fu(e,"AudioChannelConfiguration"))||t.jd,f=bu(e,"audioSamplingRate",Tu)||t.audioSamplingRate,a||(a=Ac(o,s));var h=du(e,"SegmentBase"),m=du(e,"SegmentTemplate"),v=h&&bu(h,"availabilityTimeOffset",xu)||0,y=m&&bu(m,"availabilityTimeOffset",xu)||0;return i=i&&i.length&&bu(i[0],"availabilityTimeOffset",xu)||0,i=t.lb+i+v+y,{ra:Et(n,r),Ub:h||t.Ub,Ta:du(e,"SegmentList")||t.Ta,Vb:m||t.Vb,width:bu(e,"width",Tu)||t.width,height:bu(e,"height",Tu)||t.height,contentType:a,mimeType:o,codecs:s,frameRate:l,pixelAspectRatio:u,emsgSchemeIdUris:p,id:e.getAttribute("id"),jd:d,audioSamplingRate:f,lb:i}}function Pc(e,t,n,i){var r,a,o,s,l,u;return M((function(c){if(1==c.a)return r=Et(t,[n]),(a=Ye(r,e.i.retryParameters)).method=i,o=e.o.networkingEngine.request(4,a),We(e.f,o),w(c,o.promise,2);if(s=c.b,"HEAD"==i){if(!s.headers||!s.headers.date)return c.return(0);l=s.headers.date}else l=ut(s.data);return u=Date.parse(l),isNaN(u)?c.return(0):c.return(u-Date.now())}))}function Cc(e,t,n,i){for(var r=i.getAttribute("schemeIdUri")||"",a=i.getAttribute("value")||"",o=bu(i,"timescale",Tu)||1,s=(i=c(fu(i,"Event"))).next();!s.done;s=i.next()){var l=bu(s=s.value,"presentationTime",Tu)||0,u=bu(s,"duration",Tu)||0;u=(l=l/o+t)+u/o,null!=n&&(l=Math.min(l,t+n),u=Math.min(u,t+n)),s={schemeIdUri:r,value:a,startTime:l,endTime:u,id:s.getAttribute("id")||"",eventElement:s},e.o.onTimelineRegionAdded(s)}}function Ac(e,t){return gr(Mt(e,t))?"text":e.split("/")[0]}function Ic(e,t,n,i){this.a=e,this.type=t,this.P=n,this.segments=i||null}function jc(e,t,n,i){this.id=e,this.name=t,this.a=n,this.value=void 0===i?null:i}function Lc(e,t,n){return(e=e.getAttribute(t))?e.value:n||null}function Mc(e,t){var n=e.getAttribute(t);if(!n)throw new ye(2,4,4023,t);return n.value}function Rc(e,t,n){n=void 0===n?[]:n,this.P=t,this.a=e,this.b=n}function Dc(e,t){this.name=e,this.value=t}function Nc(e,t){return e.filter((function(e){return e.name==t}))}function Uc(e,t){return e.filter((function(e){return Mc(e,"TYPE")==t}))}function Vc(e,t){var n=Nc(e,t);return n.length?n[0]:null}function Fc(e,t,n){return n=void 0===n?0:n,(e=Vc(e,t))?Number(e.value):n}function Bc(e){this.b=e,this.a=0}function Hc(e){zc(e,/[ \t]+/gm)}function zc(e,t){t.lastIndex=e.a;var n=t.exec(e.b);return n=null==n?null:{position:n.index,length:n[0].length,results:n},e.a==e.b.length||null==n||n.position!=e.a?null:(e.a+=n.length,n.results)}function qc(e){return e.a==e.b.length?null:(e=zc(e,/[^ \t\n]*/gm))?e[0]:null}function Kc(){this.a=0}function Wc(e,t,n){var i=(t=(t=ut(t)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(i[0]))throw new ye(2,4,4015);t=0;for(var r=!0,a=c(i),o=a.next();!o.done;o=a.next())if(o=o.value,/^#(?!EXT)/m.test(o)||r)r=!1;else{if(o=Xc(e.a++,o),--e.a,Gc.includes(o.name)){t=1;break}"EXT-X-STREAM-INF"==o.name&&(r=!0)}a=[],r=!0;for(var s=(o=c(ne(i))).next();!s.done;s=o.next()){var l=s.value;s=l.ba;var u=l.item;if(l=l.next,/^#(?!EXT)/m.test(u)||r)r=!1;else{if(u=Xc(e.a++,u),Yc.includes(u.name)){if(1!=t)throw new ye(2,4,4017);l=i.splice(s,i.length-s),i=n,r=[],o=[],s=[],u=null;for(var d=(l=c(l)).next();!d.done;d=l.next())d=d.value,/^(#EXT)/.test(d)?(d=Xc(e.a++,d),Gc.includes(d.name)?a.push(d):"EXT-X-MAP"==d.name?u=d:"EXT-X-PART"==d.name?s.push(d):"EXT-X-PRELOAD-HINT"==d.name?"PART"==Lc(d,"TYPE")?s.push(d):"MAP"==Lc(d,"TYPE")&&(d.name="EXT-X-MAP",u=d):o.push(d)):/^#(?!EXT)/m.test(d)||(d=Et([i],[d.trim()])[0],u&&o.push(u),r.push(new Rc(d,o,s)),o=[],s=[]);return s.length&&(u&&o.push(u),r.push(new Rc("",o,s))),new Ic(n,t,a,r)}a.push(u),"EXT-X-STREAM-INF"==u.name&&(u.a.push(new Dc("URI",l)),r=!0)}}return new Ic(n,t,a)}function Xc(e,t){var n=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new ye(2,4,4016,t);var i,r=n[1],a=n[2];if(n=[],a){var o;(o=zc(a=new Bc(a),/^([^,=]+)(?:,|$)/g))&&(i=o[1]);for(var s=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;o=zc(a,s);)n.push(new Dc(o[1],o[2]||o[3]))}return new jc(e,r,n,i)}(i=_c.prototype).configure=function(e){this.i=e},i.start=function(e,t){var n,i=this;return M((function(r){if(1==r.a)return i.h=t.isLowLatencyMode(),i.b=[e],i.o=t,w(r,Sc(i),2);if(n=r.b,i.o&&Oc(i,n),!i.o)throw new ye(2,7,7001);return r.return(i.u)}))},i.stop=function(){for(var e=c(Object.values(this.g)),t=e.next();!t.done;t=e.next())t.value.release();return this.a&&this.a.release(),this.i=this.o=null,this.b=[],this.u=null,this.g={},this.a=null,null!=this.j&&(this.j.stop(),this.j=null),this.f.destroy()},i.update=function(){var e,t=this;return M((function(n){return 1==n.a?(S(n,2),w(n,Sc(t),4)):2!=n.a?x(n,0):(e=O(n),t.o&&e?(t.o.onError(e),void _(n)):n.return())}))},i.onExpirationUpdated=function(){},i.Sb=function(){var e,t,n=this;return M((function(i){switch(i.a){case 1:return e=0,S(i,2),w(i,Sc(n),4);case 4:e=i.b,x(i,3);break;case 2:t=O(i),n.o&&(t.severity=1,n.o.onError(t));case 3:if(!n.o)return i.return();Oc(n,e),_(i)}}))},B("shaka.dash.DashParser",_c),Sa.mpd=function(){return new _c},_a["application/dash+xml"]=function(){return new _c},_a["video/vnd.mpeg.dash.mpd"]=function(){return new _c},jc.prototype.toString=function(){var e="#"+this.name,t=this.a?this.a.map((function(e){return e.name+"="+(isNaN(Number(e.value))?'"'+e.value+'"':e.value)})):[];return this.value&&t.unshift(this.value),0<t.length&&(e+=":"+t.join(",")),e},jc.prototype.getAttribute=function(e){var t=this.a.filter((function(t){return t.name==e}));return t.length?t[0]:null};var Gc="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP".split(" "),Yc="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP".split(" ");function Qc(){}function $c(e){try{var t=Jc(e);return Oe({uri:e,Ud:e,data:t.data,headers:{"content-type":t.contentType}})}catch(n){return Te(n)}}function Jc(t){var n=t.split(":");if(2>n.length||"data"!=n[0])throw new ye(2,1,1004,t);if(2>(n=n.slice(1).join(":").split(",")).length)throw new ye(2,1,1004,t);var i=n[0];t=e.decodeURIComponent(n.slice(1).join(",")),n=i.split(";"),i=n[0];var r=!1;return 1<n.length&&"base64"==n[n.length-1]&&(r=!0,n.pop()),{data:r?Qt(t):pt(t),contentType:i}}function Zc(){var e=this;this.i=this.o=null,this.Ua=1,this.l=new Map,this.h=new Map,this.xa=new Set,this.a=new Map,this.b=null,this.H="",this.S=new Kc,this.wa=0,this.j=new ge((function(){e.Sb()})),this.f=_d,this.u=null,this.ha=0,this.v=1/0,this.L=this.Oa=0,this.A=new Ke,this.va=[],this.F=new Map,this.Na=!1,this.g=new Map,this.J=null,this.X=new Map,this.C=new Map,this.c=!1}function ed(e,t){var n,i,r,a,o,s,l,u,c,d,p,f;return M((function(h){if(1==h.a)return n=xd,i=t.ke,r=new re(i),e.c&&se(r,new ve("_HLS_skip=YES")),w(h,yd(e,Ye([r.toString()],e.i.retryParameters),0),2);if(3!=h.a){if(a=h.b,1!=(o=Wc(e.S,a.data,a.uri)).type)throw new ye(2,4,4017);return s=Nc(o.P,"EXT-X-DEFINE"),l=td(e,s),u=t.stream,w(h,cd(e,t.zc,o,u.mimeType,t.ed,l),3)}c=h.b,u.segmentIndex.tb(c),c.length&&(d=Fc(o.P,"EXT-X-MEDIA-SEQUENCE",0),p=t.ed.get(d),u.segmentIndex.Wa(p)),f=c[c.length-1],Vc(o.P,"EXT-X-ENDLIST")&&(vd(e,n.ie),e.b.Da(f.endTime)),_(h)}))}function td(e,t){for(var n=new Map,i=c(t),r=i.next();!r.done;r=i.next()){var a=r.value;r=Lc(a,"NAME");var o=Lc(a,"VALUE");a=Lc(a,"IMPORT"),r&&o&&n.set(r,o),a&&(r=e.l.get(a))&&n.set(a,r)}return n}function nd(e,t){var n=[];e.i.disableVideo||n.push("avc1.42E01E"),e.i.disableAudio||n.push("mp4a.40.2");var i=Lc(t,"CODECS",n.join(",")).split(/\s*,\s*/);n=new Set;for(var r=[],a=(i=c(i)).next();!a.done;a=i.next()){var o=Rt(a=a.value)[0];n.has(o)||(r.push(a),n.add(o))}return r}function id(e){return Br(e=Lc(e,"LANGUAGE")||"und")}function rd(e,t){var n,i,r,a,o,s,l,u,c,d,p,f;return M((function(h){if(1==h.a){n=Mc(t,"GROUP-ID"),i="";var m=Mc(t,"TYPE").toLowerCase();return"subtitles"==m&&(m="text"),"text"!=(r=m)&&n&&e.g.has(n)&&(i=e.g.get(n)),a=md(Mc(t,"URI"),e.l),e.a.has(a)?h.return(e.a.get(a)):(o=id(t),s=Lc(t,"NAME"),l=t.getAttribute("DEFAULT"),u="YES"==l,m="audio"==r&&(m=Lc(t,"CHANNELS"))?parseInt(m.split("/")[0],10):null,c=m,d=Lc(t,"CHARACTERISTICS"),p=Lc(t,"FORCED"),w(h,ad(e,a,i,r,o,u,s,c,null,d,"YES"==p),2))}return f=h.b,e.h.has(n)?e.h.get(n).push(f):e.h.set(n,[f]),null==f?h.return(null):e.a.has(a)?h.return(e.a.get(a)):(e.a.set(a,f),h.return(f))}))}function ad(e,t,n,i,r,a,o,s,l,u,p){var f,h,m,v,y,b,g,k,_,T,E,P,C,A,I,j,L,R,D,N,U,V,F,B,H,z,q,K,W,X,Y,Q,$,J,Z,ee;return M((function(te){switch(te.a){case 1:return f=Et([e.H],[t])[0],w(te,yd(e,Ye([f],e.i.retryParameters),0),2);case 2:if(h=te.b,f=h.uri,1!=(m=Wc(e.S,h.data,f)).type)throw new ye(2,4,4017);if(v=[],m.segments)for(y=c(m.segments),b=y.next();!b.done;b=y.next())g=b.value,k=Nc(g.P,"EXT-X-KEY"),v.push.apply(v,d(k));for(_=!1,T=[],E=new Set,P=c(v),C=P.next();!C.done;C=P.next())if(A=C.value,"NONE"!=(I=Mc(A,"METHOD"))){if(_=!0,"AES-128"==I)return e.Na=!0,te.return(null);if(j=Mc(A,"KEYFORMAT"),R=(L=wd[j])?L(A):null){if(R.keyIds)for(D=c(R.keyIds),N=D.next();!N.done;N=D.next())U=N.value,E.add(U);T.push(R)}}if(_&&!T.length)throw new ye(2,4,4026);return V=Nc(m.P,"EXT-X-DEFINE"),F=td(e,V),function(e,t){var n=Vc(t.P,"EXT-X-PLAYLIST-TYPE"),i=Vc(t.P,"EXT-X-ENDLIST");if(i=n&&"VOD"==n.value||i,n=n&&"EVENT"==n.value&&!i,n=!i&&!n,i)vd(e,_d);else{if(vd(e,n?Td:Sd),!(i=Vc(t.P,"EXT-X-TARGETDURATION")))throw new ye(2,4,4024,"EXT-X-TARGETDURATION");i=Number(i.value),n=Vc(t.P,"EXT-X-PART-INF"),e.c&&n?(e.Oa=Number(Mc(n,"PART-TARGET")),e.v=Math.min(e.Oa,e.v)):e.v=Math.min(i,e.v),e.ha=Math.max(i,e.ha),e.c&&(i=Vc(t.P,"EXT-X-SERVER-CONTROL"),e.L=i?Number(Mc(i,"PART-HOLD-BACK")):0)}}(e,m),w(te,function(e,t,n,i,r){var a,o,s,l,u,c,d,p,f,h;return M((function(m){if(1==m.a)return a=Ct,o=Ze,s=md(i.segments[0].a,r),l=new re(s),u=l.oa.split(".").pop(),c=kd[t],(d=c[u])?m.return(d):t==a.$?n&&"vtt"!=n&&"wvtt"!=n?m.return("application/mp4"):m.return("text/vtt"):((p=Ye([s],e.i.retryParameters)).method="HEAD",w(m,yd(e,p,o),2));if(f=m.b,!(h=f.headers["content-type"]))throw new ye(2,4,4021,u);return m.return(h.split(";")[0])}))}(e,i,n,m,F),3);case 3:return B=te.b,gd.includes(B)&&(n=""),H=new Map,S(te,4),w(te,cd(e,t,m,B,H,F),6);case 6:z=te.b,x(te,5);break;case 4:if(4035==(q=O(te)).code)return G("Skipping unsupported HLS stream",B,t),te.return(null);throw q;case 5:if(K=z[0].startTime,W=z[z.length-1].endTime,X=new Wa(z),Y="text"==i?"subtitle":void 0,Q=[],u)for($=c(u.split(",")),J=$.next();!J.done;J=$.next())Z=J.value,Q.push(Z);return ee={id:e.Ua++,originalId:o,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:X,mimeType:B,codecs:n,kind:Y,encrypted:_,drmInfos:T,keyIds:E,language:r,label:o,type:i,primary:a,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:Q,forced:p,channelsCount:s,audioSamplingRate:null,closedCaptions:l},te.return({stream:ee,zc:t,ke:f,Qd:K,Se:W,ed:H})}}))}function od(e,t,n,i){return(n=Vc(n,"EXT-X-MAP"))?(t=[i=md(Et([t],[Mc(n,"URI")])[0],i),Lc(n,"BYTERANGE","")].join("-"),e.X.has(t)||(n=function(e,t){var n=0,i=null,r=Lc(t,"BYTERANGE");return r&&(n=r.split("@"),i=Number(n[0]),n=Number(n[1]),i=n+i-1),new Ta((function(){return[e]}),n,i)}(i,n),e.X.set(t,n)),e.X.get(t)):null}function sd(e,t,n,i,r,a,o,s){var l=i.P,u=md(i.a,o),d=Vc(l,"EXTINF"),p=o=0,f=null,h=[];if(e.c&&i.b.length){e={};for(var m=(i=c(ne(i.b))).next();!m.done;e={Gc:e.Gc},m=i.next()){var v=(m=m.value).ba;m=m.item;var y=0==v?n:h[h.length-1];v=0==v?r:y.endTime;var b=Number(Lc(m,"DURATION"));b=v+b;var g=0,k=null;"EXT-X-PRELOAD-HINT"==m.name?g=(y=Lc(m,"BYTERANGE-START"))?Number(y):0:(g=(y=c(ld(y,g=Lc(m,"BYTERANGE")))).next().value,k=y.next().value),m=Lc(m,"URI"),e.Gc=Et([s],[m])[0],h.push(new xa(v,b,function(e){return function(){return[e.Gc]}}(e),g,k,t,a,0,1/0))}}else if(!d)throw new ye(2,4,4024,"EXTINF");return o=d?r+Number(d.value.split(",")[0]):h[h.length-1].endTime,(s=Vc(l,"EXT-X-BYTERANGE"))?(p=(n=c(ld(n,s.value))).next().value,f=n.next().value):h.length&&(p=h[0].da,f=h[h.length-1].Y),new xa(r,o,(function(){return u.length?[u]:[]}),p,f,t,a,0,1/0,h)}function ld(e,t){var n=0,i=null;return t&&(n=t.split("@"),i=Number(n[0]),i=(n=n[1]?Number(n[1]):e.Y+1)+i-1),[n,i]}function ud(e){if(e.b){for(var t=c(e.va),n=t.next();!n.done;n=t.next())e.b.vb(n.value);e.va=[]}}function cd(e,t,n,i,r,a){var o,s,l,u,d,p,f,h,m,v,y,b,g,k,_,S,T,x,O,E;return M((function(P){switch(P.a){case 1:if(o=n.segments,l=Fc(n.P,"EXT-X-MEDIA-SEQUENCE",0),d=(u=Vc(n.P,"EXT-X-SKIP"))?Number(Lc(u,"SKIPPED-SEGMENTS")):0,p=l+d,e.f!=_d&&r.has(p)){f=r.get(p),P.s(2);break}if(null!=e.J){P.s(3);break}return s=od(e,n.a,o[0].P,a),h=e,w(P,pd(e,t,s,i,p,!1,o[0],a),4);case 4:h.J=P.b;case 3:f=e.J;case 2:o[0].a.split("/").pop(),m=Fc(n.P,"EXT-X-DISCONTINUITY-SEQUENCE"),v=e.C.get(m)||0,y=[],b=c(function(e){return ne(e)}(o)),g=b.next();case 5:if(g.done){P.s(7);break}if(k=g.value,_=k.ba,S=k.item,T=y[y.length-1],x=0==_?f:T.endTime,p=l+d+_,r.set(p,x),s=od(e,n.a,S.P,a),!Vc(S.P,"EXT-X-DISCONTINUITY")){P.s(8);break}return m++,w(P,function(e,t,n,i,r,a,o,s,l){var u,c;return M((function(d){return 1==d.a?(u=0,e.C.has(t)?(u=e.C.get(t),d.s(2)):w(d,pd(e,n,i,r,a,!0,o,s),3)):(2!=d.a&&(c=d.b,u=l-c,e.C.set(t,u)),d.return(u))}))}(e,m,t,s,i,p,S,a,x),9);case 9:v=P.b;case 8:!e.c&&e.o.isAutoLowLatencyMode()&&(e.o.enableLowLatencyMode(),e.c=e.o.isLowLatencyMode()),O=Vc(S.P,"EXTINF"),e.c||O?(E=sd(e,s,T,S,x,v,a,n.a),y.push(E)):e.c||G("Low-latency HLS live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),g=b.next(),P.s(5);break;case 7:return e.va.push(y),ud(e),P.return(y)}}))}function dd(e,t){var n,i,r,a,o,s;return M((function(l){switch(l.a){case 1:return n=Ze,i=ao(t.a(),t.da,t.Y,e.i.retryParameters),e.i.hls.useFullSegmentsForStartTime?l.return(yd(e,i,n)):(r=ao(t.a(),t.da,t.da+2048-1,e.i.retryParameters),S(l,2),w(l,yd(e,r,n),4));case 4:return a=l.b,l.return(a);case 2:if(7001==(o=O(l)).code)throw o;return G("Unable to fetch the starting part of HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",r.uris[0]),w(l,yd(e,i,n),5);case 5:return s=l.b,l.return(s)}}))}function pd(e,t,n,i,r,a,o,s){var l,u,c,d,p,f,h,m;return M((function(v){switch(v.a){case 1:if(l=sd(e,n,null,o,0,0,s,""),e.u&&!a&&(u=e.a.get(t),void 0!=(c=u.ed.get(r))))return v.return(c);if(i=i.toLowerCase(),gd.includes(i))throw G("Raw formats are not yet supported.  Skipping "+i),new ye(1,4,4035);if("video/webm"==i)throw G("WebM in HLS is not yet supported.  Skipping."),new ye(1,4,4035);if("video/mp4"!=i&&"audio/mp4"!=i){v.s(2);break}return d=[dd(e,l)],n&&d.push(dd(e,n)),w(v,Promise.all(d),3);case 3:return p=v.b,f=p[0],h=p[1]||p[0],v.return(function(e,t,n,i){var r=0;if((new Xi).box("moov",Gi).box("trak",Gi).box("mdia",Gi).U("mdhd",(function(e){r=ir(e.reader,e.version).timescale,e.parser.stop()})).parse(i,!0),!r)throw new ye(2,4,4030,e,t);var a=0,o=!1;if((new Xi).box("moof",Gi).box("traf",Gi).U("tfdt",(function(e){a=nr(e.reader,e.version).Uc/r,o=!0,e.parser.stop()})).parse(n,!0),!o)throw new ye(2,4,4030,e,t);return a}(t,f.uri,f.data,h.data));case 2:if("video/mp2t"!=i){v.s(4);break}return w(v,dd(e,l),5);case 5:return m=v.b,v.return(function(e,t,n){function i(){a.seek(o+188),71!=(s=a.V())&&(a.seek(o+192),s=a.V()),71!=s&&(a.seek(o+204),s=a.V()),71!=s&&r(),a.Xd(1)}function r(){throw new ye(2,4,4030,e,t)}for(var a=new Ni(n,0),o=0,s=0;;)if(o=a.Z(),71!=(s=a.V())&&r(),8191==(8191&(n=a.yb())))i();else if(16384&n){if(0!=(n=(48&a.V())>>4)&&2!=n||r(),3==n&&(n=a.V(),a.skip(n)),1==a.I()>>8)return a.skip(3),0!=(n=a.V()>>6)&&1!=n||r(),0==a.V()&&r(),(1073741824*((14&(n=a.V()))>>1)+((65534&a.yb())<<14|(65534&a.yb())>>1))/9e4;i()}else i()}(t,m.uri,m.data));case 4:throw new ye(2,4,4030,t)}}))}function fd(e,t){if(1==t.length)return t[0];var n=hd(e,t);if(null!=n)return n;throw new ye(2,4,4025,t)}function hd(e,t){for(var n=c(bd[e]),i=n.next();!i.done;i=n.next()){i=i.value;for(var r=c(t),a=r.next();!a.done;a=r.next())if(a=a.value,i.test(a.trim()))return a.trim()}return"text"==e?"":null}function md(e,t){var n=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}"),i=n.match(/{\$\w*}/g);if(i)for(var r=(i=c(i)).next();!r.done;r=i.next()){var a=(r=r.value).slice(2,r.length-1),o=t.get(a);if(!o)throw new ye(2,4,4039,a);n=n.replace(r,o)}return n}function vd(e,t){e.f=t,e.b&&e.b.Wb(e.f==_d),e.f!=_d||e.j.stop()}function yd(e,t,n){if(!e.A)throw new ye(2,7,7001);return t=e.o.networkingEngine.request(n,t),We(e.A,t),t.promise}B("shaka.net.DataUriPlugin",Qc),Qc.parse=$c,Ge("data",$c),(i=Zc.prototype).configure=function(e){this.i=e},i.start=function(e,t){var n,i,r=this;return M((function(a){return 1==a.a?(r.o=t,r.c=t.isLowLatencyMode(),w(a,yd(r,Ye([e],r.i.retryParameters),0),2)):3!=a.a?(n=a.b,r.H=n.uri,w(a,function(e,t){var n,i,r,a,o,s,l,u,d,p,f,h,m,v,y,b,g,k,_,T,x,E,P,C;return M((function(A){switch(A.a){case 1:if(0!=(n=Wc(e.S,t,e.H)).type)throw new ye(2,4,4022);for(var I=c(Nc(n.P,"EXT-X-DEFINE")),j=I.next();!j.done;j=I.next()){var L=j.value;j=Lc(L,"NAME"),L=Lc(L,"VALUE"),j&&L&&(e.l.has(j)||e.l.set(j,L))}for(i=Nc(n.P,"EXT-X-MEDIA"),j=(I=c(r=Nc(n.P,"EXT-X-STREAM-INF"))).next();!j.done;j=I.next()){var R=j.value;L=Lc(R,"AUDIO"),j=Lc(R,"VIDEO");var D=Lc(R,"SUBTITLES");if(R=nd(e,R),D){var N=hd("text",R);e.g.set(D,N),He(R,N)}L&&(D=fd("audio",R),e.g.set(L,D)),j&&(L=fd("video",R),e.g.set(j,L))}for(a=Nc(n.P,"EXT-X-SESSION-DATA"),o=c(a),s=o.next();!s.done;s=o.next())l=s.value,u=Lc(l,"DATA-ID"),d=Lc(l,"URI"),p=Lc(l,"LANGUAGE"),f=Lc(l,"VALUE"),h={id:u},d&&(h.uri=Et([e.H],[d])[0]),p&&(h.language=p),f&&(h.value=f),m=new De("sessiondata",h),e.o&&e.o.onEvent(m);return w(A,function(e,t){var n;return M((function(i){return 1==i.a?(t=t.filter((function(e){var t=Lc(e,"URI")||"";return"SUBTITLES"!=Lc(e,"TYPE")&&""!=t}))).length?w(i,rd(e,t[0]),2):i.s(2):(n=t.slice(1).map((function(t){return rd(e,t)})),w(i,Promise.all(n),0))}))}(e,i),2);case 2:for(j=(I=c(I=Uc(i,"CLOSED-CAPTIONS"))).next();!j.done;j=I.next())j=id(D=j.value),L=Mc(D,"GROUP-ID"),D=Mc(D,"INSTREAM-ID"),e.F.get(L)||e.F.set(L,new Map),e.F.get(L).set(D,j);return w(A,function(e,t){var n,i,r;return M((function(a){return 1==a.a?(n=t.map((function(t){var n,i,r,a,o,s,l;return M((function(u){return 1==u.a?(n=Lc(t,"FRAME-RATE"),i=Number(Mc(t,"BANDWIDTH")),r=Lc(t,"RESOLUTION"),a=c(r?r.split("x"):[null,null]),o=a.next().value,s=a.next().value,w(u,function(e,t,n,i){var r,a,o,s,l,u,d,p,f,h,m,v,y,b;return M((function(g){if(1==g.a)return r=Ct,a=nd(e,t),o=Lc(t,"AUDIO"),s=Lc(t,"VIDEO"),u=(l=o||s)&&e.h.has(l)?e.h.get(l):[],d={audio:o?u:[],video:s?u:[]},f=!1,h=Mc(t,"URI"),m=d.audio.find((function(e){return e&&e.zc==h})),v=hd(r.Ga,a),y=n||i||v,1!=a.length||y?!u.length&&1<a.length?(p=r.Ga,a=[a.join(",")]):d.audio.length&&m?(p=r.kb,f=!0):p=d.video.length?r.kb:r.Ga:p=r.kb,f?g.s(2):w(g,function(e,t,n,i){var r,a,o,s;return M((function(l){if(1==l.a){if(r=md(Mc(t,"URI"),e.l),e.a.has(r))return l.return(e.a.get(r));var u=Lc(t,"CLOSED-CAPTIONS");return a="video"==i&&u&&"NONE"!=u?e.F.get(u):null,o=fd(i,n),w(l,ad(e,r,o,i,"und",!1,null,null,a,null,!1),2)}return null==(s=l.b)?l.return(null):e.a.has(r)?l.return(e.a.get(r)):(e.a.set(r,s),l.return(s))}))}(e,t,a,p),3);if(2!=g.a&&(b=g.b),b)d[b.stream.type]=[b];else if(null===b)return g.return(null);return function(e){for(var t=(e=c(e.audio.concat(e.video))).next();!t.done;t=e.next())if(t=t.value){var n=t.stream.codecs.split(",");n=n.filter((function(e){return"mp4a.40.34"!=e})),t.stream.codecs=n.join(",")}}(d),g.return(d)}))}(e,t,r,n),2)):(l=u.b)?u.return(function(e,t,n,i,r,a,o){for(var s=c(n),l=s.next();!l.done;l=s.next()){var u=a,d=o;(l=l.value.stream)&&(l.width=Number(r)||void 0,l.height=Number(u)||void 0,l.frameRate=Number(d)||void 0)}r=e.i.disableAudio,(!t.length||r)&&(t=[null]);r=e.i.disableVideo,(!n.length||r)&&(n=[null]);for(r=[],t=c(t),a=t.next();!a.done;a=t.next())for(a=a.value,s=(o=c(n)).next();!s.done;s=o.next()){var p=s.value;s=a?a.stream:null,l=p?p.stream:null,u=a?a.stream.drmInfos:null,d=p?p.stream.drmInfos:null,p=(p?p.zc:"")+" - "+(a?a.zc:""),s&&l&&u.length&&d.length&&!(0<yn(u,d).length)||e.xa.has(p)||(s={id:e.Ua++,language:s?s.language:"und",primary:!!s&&s.primary||!!l&&l.primary,audio:s,video:l,bandwidth:i,allowedByApplication:!0,allowedByKeySystem:!0},r.push(s),e.xa.add(p))}return r}(e,l.audio,l.video,i,o,s,n)):u.return([])}))})),w(a,Promise.all(n),2)):(i=a.b,r=(r=i.reduce(St,[])).filter((function(e){return null!=e})),a.return(r))}))}(e,r),3);case 3:return v=A.b,w(A,function(e,t){var n,i,r,a,o,s,l,u,d,p,f;return M((function(h){if(1==h.a)return n=Uc(t,"SUBTITLES"),i=n.map((function(t){var n,i;return M((function(r){if(1==r.a)return e.i.disableText?r.return(null):(S(r,2),w(r,rd(e,t),4));if(2!=r.a)return n=r.b,r.return(n.stream);if(i=O(r),e.i.hls.ignoreTextStreamFailures)return r.return(null);throw i}))})),w(h,Promise.all(i),2);for(r=h.b,a=c(n),o=a.next();!o.done;o=a.next())if(s=o.value,l=Mc(s,"GROUP-ID"),(u=e.g.get(l))&&(d=e.h.get(l)))for(p=c(d),f=p.next();!f.done;f=p.next())f.value.stream.codecs=u;return h.return(r.filter((function(e){return e})))}))}(e,i),4);case 4:if(y=A.b,!e.o)throw new ye(2,7,7001);if(e.Na&&0==v.length)throw new ye(2,4,4034);for(g=b=1/0,k=c(e.a.values()),_=k.next();!_.done;_=k.next())T=_.value,b=Math.min(b,T.Qd),"text"!=T.stream.type&&(g=Math.min(g,T.Se-T.Qd));if(e.f!=_d?(e.b=new Oa(0,e.i.defaultPresentationDelay?e.i.defaultPresentationDelay:e.L?e.L:3*e.ha),e.b.Wb(!1)):(e.b=new Oa(null,0),e.b.Wb(!0)),ud(e),e.f!=_d)e.wa=e.v,x=xd,e.f==x.he&&(E=e.b.vc,isNaN(e.i.availabilityWindowOverride)||(E=e.i.availabilityWindowOverride),e.b.yd(E));else for(e.b.Da(g),e.b.offset(-b),P=c(e.a.values()),_=P.next();!_.done;_=P.next())(C=_.value).stream.segmentIndex.offset(-b),C.stream.segmentIndex.Pa(0,g);return e.u={presentationTimeline:e.b,variants:v,textStreams:y,offlineSessionIds:[],minBufferTime:0},e.o.makeTextStreamsForClosedCaptions(e.u),w(A,e.o.filter(e.u),0)}}))}(r,n.data),3)):(0<(i=r.wa)&&r.j.R(i),a.return(r.u))}))},i.stop=function(){this.j&&(this.j.stop(),this.j=null);var e=[];return this.A&&(e.push(this.A.destroy()),this.A=null),this.i=this.o=null,this.xa.clear(),this.u=null,this.a.clear(),this.h.clear(),this.g.clear(),this.l.clear(),Promise.all(e)},i.update=function(){var e,t,n,i=this;return M((function(r){if(1==r.a)return i.f==_d?r.return():(e=[],i.J=null,(t=Array.from(i.a.values())).length?w(r,ed(i,t[0]),2):r.s(2));for(n=1;n<t.length;n++)e.push(ed(i,t[n]));return w(r,Promise.all(e),0)}))},i.onExpirationUpdated=function(){},i.Sb=function(){var e,t,n=this;return M((function(i){return 1==i.a?n.o?(S(i,2),w(i,n.update(),4)):i.return():2!=i.a?(e=n.wa,n.j.R(e),x(i,0)):(t=O(i),n.o?(t.severity=1,n.o.onError(t),n.j.R(.1),void _(i)):i.return())}))},B("shaka.hls.HlsParser",Zc);var bd={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},gd=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"],kd={audio:{mp4:"audio/mp4",mp4a:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},video:{mp4:"video/mp4",mp4v:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}},wd={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=Mc(e,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)?(t=Pt("com.widevine.alpha",[{initDataType:"cenc",initData:t=Le((t=Jc(t=Mc(e,"URI"))).data)}]),(e=Lc(e,"KEYID"))&&(t.keyIds=new Set([e.toLowerCase().substr(2)])),t):null},"com.microsoft.playready":function(e){var t=Mc(e,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)?Pt("com.microsoft.playready",[{initDataType:"cenc",initData:e=cu(e=Le((e=Jc(e=Mc(e,"URI"))).data))}]):null}},_d="VOD",Sd="EVENT",Td="LIVE",xd={ie:_d,Bf:Sd,he:Td};function Od(e,t,n,i,r,a){if(200<=n&&299>=n&&202!=n)return{uri:r||i,Ud:i,data:t,headers:e,fromCache:!!e["x-shaka-from-cache"]};r=null;try{r=dt(t)}catch(o){}throw new ye(401==n||403==n?2:1,1,1001,i,n,r,e,a)}function Ed(){}function Pd(e,t,n,i){var r=new Ld;At(t.headers).forEach((function(e,t){r.append(t,e)}));var a=new Id,o={Ed:!1,ee:!1};if(e=new Se(e=function(e,t,n,i,r,a){var o,s,l,u,c,d,p,f,h,m,v,y;return M((function(b){switch(b.a){case 1:return o=Ad,s=jd,d=c=0,p=Date.now(),S(b,2),w(b,o(e,n),4);case 4:return l=b.b,f=l.clone().body.getReader(),m=(h=l.headers.get("Content-Length"))?parseInt(h,10):0,new s({start:function(e){function t(){var n,i;return M((function(o){switch(o.a){case 1:return S(o,2),w(o,f.read(),4);case 4:n=o.b,x(o,3);break;case 2:return O(o),o.return();case 3:n.done||(c+=n.value.byteLength,a&&a(n.value)),(100<(i=Date.now())-p||n.done)&&(r(i-p,c-d,m-c),d=c,p=i),n.done?e.close():(e.enqueue(n.value),t()),_(o)}}))}t()}}),w(b,l.arrayBuffer(),5);case 5:u=b.b,x(b,3);break;case 2:if(v=O(b),i.Ed)throw new ye(1,1,7001,e,t);if(i.ee)throw new ye(1,1,1003,e,t);throw new ye(1,1,1002,e,v,t);case 3:return y={},l.headers.forEach((function(e,t){y[t.trim()]=e})),b.return(Od(y,u,l.status,e,l.url,t))}}))}(e,n,{body:t.body||void 0,headers:r,method:t.method,signal:a.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},o,i,t.streamDataCallback),(function(){return o.Ed=!0,a.abort(),Promise.resolve()})),t=t.retryParameters.timeout){var s=new ge((function(){o.ee=!0,a.abort()}));s.R(t/1e3),e.finally((function(){s.stop()}))}return e}function Cd(){if(!e.ReadableStream)return!1;try{new ReadableStream({})}catch(Eh){return!1}return!(!e.fetch||!e.AbortController)}Sa.m3u8=function(){return new Zc},_a["application/x-mpegurl"]=function(){return new Zc},_a["application/vnd.apple.mpegurl"]=function(){return new Zc},B("shaka.net.HttpFetchPlugin",Ed),Ed.isSupported=Cd,Ed.parse=Pd;var Ad=e.fetch,Id=e.AbortController,jd=e.ReadableStream,Ld=e.Headers;function Md(){}function Rd(e,t,n,i){var r=new Dd,a=Date.now(),o=0;return new Se(new Promise((function(s,l){for(var u in r.open(t.method,e,!0),r.responseType="arraybuffer",r.timeout=t.retryParameters.timeout,r.withCredentials=t.allowCrossSiteCredentials,r.onabort=function(){l(new ye(1,1,7001,e,n))},r.onload=function(t){for(var i=(t=t.target).getAllResponseHeaders().trim().split("\r\n"),r={},a=(i=c(i)).next();!a.done;a=i.next())r[(a=a.value.split(": "))[0].toLowerCase()]=a.slice(1).join(": ");try{var o=Od(r,t.response,t.status,e,t.responseURL,n);s(o)}catch(u){l(u)}},r.onerror=function(t){l(new ye(1,1,1002,e,t,n))},r.ontimeout=function(){l(new ye(1,1,1003,e,n))},r.onprogress=function(e){var t=Date.now();(100<t-a||e.lengthComputable&&e.loaded==e.total)&&(i(t-a,e.loaded-o,e.total-e.loaded),o=e.loaded,a=t)},t.headers)r.setRequestHeader(u.toLowerCase(),t.headers[u]);r.send(t.body)})),(function(){return r.abort(),Promise.resolve()}))}Cd()&&(Ge("http",Pd,2),Ge("https",Pd,2)),B("shaka.net.HttpXHRPlugin",Md),Md.parse=Rd;var Dd=e.XMLHttpRequest;function Nd(){this.a=this.f=this.b=0,this.c=new Map,this.g=0}function Ud(e){var t=this;this.M=e,this.a=new Map,this.D=new nt((function(){var e=Array.from(t.a.values());return Promise.all(e.map((function(e){return e.catch((function(){}))})))})),this.b=[],this.Td=function(){},this.Sd=function(){},this.Jb=new Nd}function Vd(e){var t=e.b.map((function(e){return e()}));return e.b=[],Promise.all(t)}function Fd(e,t,n,i,r,a){it(e.D);var o=function(e,t){e.b+=t;var n=e.g;return e.g++,e.c.set(n,t),n}(e.Jb,i);return i=(e.a.get(t)||Promise.resolve()).then((function(){var t,i,s,l,u,c,d;return M((function(p){if(1==p.a)return w(p,function(e,t){var n,i,r,a;return M((function(o){return 1==o.a?(n=Ze,i=e.M.request(n,t),r=function(){return i.abort()},e.b.push(r),w(o,i.promise,2)):(a=o.b,He(e.b,r),o.return(a.data))}))}(e,n),2);if(t=p.b,e.D.a)throw new ye(2,9,7001);if(r)for(l in i=Le(t),(s=new uu(i)).data)u=Number(l),c=s.data[u],d=s.a[u],e.Sd(c,d);e.Jb.close(o,t.byteLength);var f=e.Jb;return e.Td(0==f.b?0:f.f/f.b,e.Jb.a),p.return(a(t))}))})),e.a.set(t,i),i}function Bd(e,t){var n=this;this.c=e,this.b=e.objectStore(t),this.a=new _e,e.onabort=function(e){e.preventDefault(),n.a.reject()},e.onerror=function(e){e.preventDefault(),n.a.reject()},e.oncomplete=function(){n.a.resolve()}}function Hd(e,t){return new Promise((function(n,i){var r=e.b.openCursor();r.onerror=i,r.onsuccess=function(){var e;return M((function(i){if(1==i.a)return null==r.result?(n(),i.return()):(e=r.result,w(i,t(e.key,e.value,e),2));e.continue(),_(i)}))}}))}function zd(e){this.b=e,this.a=[]}function qd(e,t){return Kd(e,t,"readwrite")}function Kd(e,t,n){var i=new Bd(n=e.b.transaction([t],n),t);return e.a.push(i),i.promise().then((function(){He(e.a,i)}),(function(){He(e.a,i)})),i}function Wd(e,t,n){this.b=new zd(e),this.c=t,this.a=n}function Xd(e){return Promise.reject(new ye(2,9,9011,"Cannot add new value to "+e))}function Gd(e,t,n,i){t=(e=qd(e.b,t)).store();for(var r={},a=(n=c(n)).next();!a.done;r={bc:r.bc},a=n.next())r.bc=a.value,t.delete(r.bc).onsuccess=function(e){return function(){return i(e.bc)}}(r);return e.promise()}function Yd(e,t,n){var i,r,a,o,s,l,u;return M((function(d){if(1==d.a){for(i=Kd(e.b,t,"readonly"),r=i.store(),a={},o=[],s={},l=c(n),u=l.next();!u.done;s={Fb:s.Fb,Db:s.Db},u=l.next())s.Db=u.value,s.Fb=r.get(s.Db),s.Fb.onsuccess=function(e){return function(){void 0==e.Fb.result&&o.push(e.Db),a[e.Db]=e.Fb.result}}(s);return w(d,i.promise(),2)}if(o.length)throw new ye(2,9,9012,"Could not find values for "+o);return d.return(n.map((function(e){return a[e]})))}))}function Qd(e){this.a=new zd(e)}function $d(){this.a=new Map}function Jd(e,t,n){if(!(e=e.a.get(t)))throw new ye(2,9,9013,"Could not find mechanism with name "+t);if(!(t=e.getCells().get(n)))throw new ye(2,9,9013,"Could not find cell with name "+n);return t}function Zd(e,t){ep.set(e,t)}Ge("http",Rd,1),Ge("https",Rd,1),Nd.prototype.close=function(e,t){if(this.c.has(e)){var n=this.c.get(e);this.c.delete(e),this.f+=n,this.a+=t}},Ud.prototype.destroy=function(){return this.D.destroy()},Bd.prototype.abort=function(){var e=this;return M((function(t){if(1==t.a){try{e.c.abort()}catch(n){}return S(t,2),w(t,e.a,4)}if(2!=t.a)return x(t,0);O(t),_(t)}))},Bd.prototype.store=function(){return this.b},Bd.prototype.promise=function(){return this.a},zd.prototype.destroy=function(){return Promise.all(this.a.map((function(e){return e.abort()})))},(i=Wd.prototype).destroy=function(){return this.b.destroy()},i.hasFixedKeySpace=function(){return!0},i.addSegments=function(){return Xd(this.c)},i.removeSegments=function(e,t){return Gd(this,this.c,e,t)},i.getSegments=function(e){var t,n=this;return M((function(i){return 1==i.a?w(i,Yd(n,n.c,e),2):(t=i.b,i.return(t.map((function(e){return n.Fd(e)}))))}))},i.addManifests=function(){return Xd(this.a)},i.updateManifestExpiration=function(e,t){var n=qd(this.b,this.a),i=n.store();return i.get(e).onsuccess=function(n){(n=n.target.result)&&(n.expiration=t,i.put(n,e))},n.promise()},i.removeManifests=function(e,t){return Gd(this,this.a,e,t)},i.getManifests=function(e){var t,n=this;return M((function(i){return 1==i.a?w(i,Yd(n,n.a,e),2):(t=i.b,i.return(Promise.all(t.map((function(e){return n.Ib(e)})))))}))},i.getAllManifests=function(){var e,t,n=this;return M((function(i){return 1==i.a?(e=Kd(n.b,n.a,"readonly"),t=new Map,w(i,Hd(e,(function(e,i){var r;return M((function(a){if(1==a.a)return w(a,n.Ib(i),2);r=a.b,t.set(e,r),_(a)}))})),2)):3!=i.a?w(i,e.promise(),3):i.return(t)}))},i.Fd=function(e){return e},i.Ib=function(e){return Promise.resolve(e)},i.add=function(e,t){var n,i,r,a,o,s,l,u=this;return M((function(d){if(1==d.a){for(n=qd(u.b,e),i=n.store(),r=[],a={},o=c(t),s=o.next();!s.done;a={cc:a.cc},s=o.next())l=s.value,a.cc=i.add(l),a.cc.onsuccess=function(e){return function(){r.push(e.cc.result)}}(a);return w(d,n.promise(),2)}return d.return(r)}))},Qd.prototype.destroy=function(){return this.a.destroy()},Qd.prototype.getAll=function(){var e,t,n=this;return M((function(i){return 1==i.a?(e=Kd(n.a,"session-ids","readonly"),t=[],w(i,Hd(e,(function(e,n){t.push(n)})),2)):3!=i.a?w(i,e.promise(),3):i.return(t)}))},Qd.prototype.add=function(e){for(var t=qd(this.a,"session-ids"),n=t.store(),i=(e=c(e)).next();!i.done;i=e.next())n.add(i.value);return t.promise()},Qd.prototype.remove=function(e){var t,n=this;return M((function(i){return 1==i.a?w(i,Hd(t=qd(n.a,"session-ids"),(function(t,n,i){e.includes(n.sessionId)&&i.delete()})),2):w(i,t.promise(),0)}))},$d.prototype.destroy=function(){for(var e=[],t=c(this.a.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.a.clear(),Promise.all(e)},$d.prototype.init=function(){var e=this;ep.forEach((function(t,n){var i=t();i&&e.a.set(n,i)}));for(var t=[],n=c(this.a.values()),i=n.next();!i.done;i=n.next())t.push(i.value.init());return Promise.all(t)},B("shaka.offline.StorageMuxer",$d),$d.unregister=function(e){ep.delete(e)},$d.register=Zd,$d.prototype.destroy=$d.prototype.destroy;var ep=new Map;function tp(){Wd.apply(this,arguments)}function np(e,t){!function(e){var t=e.streams.filter((function(e){return"audio"==e.contentType}));if(e=e.streams.filter((function(e){return"video"==e.contentType})),!t.every((function(e){return e.variantIds}))||!e.every((function(e){return e.variantIds}))){for(var n=c(t),i=n.next();!i.done;i=n.next())i.value.variantIds=[];for(i=(n=c(e)).next();!i.done;i=n.next())i.value.variantIds=[];if(n=0,e.length&&!t.length){var r=n++,a=c(e);for(i=a.next();!i.done;i=a.next())i.value.variantIds.push(r)}if(!e.length&&t.length)for(r=n++,i=(a=c(t)).next();!i.done;i=a.next())i.value.variantIds.push(r);if(e.length&&t.length)for(i=(t=c(t)).next();!i.done;i=t.next())for(i=i.value,a=(r=c(e)).next();!a.done;a=r.next()){a=a.value;var o=n++;i.variantIds.push(o),a.variantIds.push(o)}}}(e);for(var n=c(e.streams),i=n.next();!i.done;i=n.next());return e.streams.map((function(n){return function(e,t,n){var i=e.initSegmentUri?ip(e.initSegmentUri):null,r=t+e.presentationTimeOffset,a=t+n;return{id:e.id,originalId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,initSegmentKey:i,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(e){var n=ip(e.uri);return{startTime:t+e.startTime,endTime:t+e.endTime,dataKey:n,initSegmentKey:i,appendWindowStart:t,appendWindowEnd:a,timestampOffset:r}})),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,closedCaptions:null}}(n,e.startTime,t)}))}function ip(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new ye(2,9,9004,"Could not parse uri "+e)}function rp(){Wd.apply(this,arguments)}function ap(e,t,n){return{id:e.id,originalId:e.originalId,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(i){return{startTime:t+i.startTime,endTime:t+i.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:n,timestampOffset:t-e.presentationTimeOffset,dataKey:i.dataKey}})),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,closedCaptions:null}}function op(){Wd.apply(this,arguments)}function sp(){this.h=this.f=this.c=this.b=this.a=this.g=null}function lp(e,t,n,i){this.a=e,this.g=t,this.f=n,this.c=i,this.b=["offline:",e,"/",t,"/",n,"/",i].join("")}function up(e){if(null==(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e)))return null;var t=e[1];if("manifest"!=t&&"segment"!=t)return null;var n=e[2];if(!n)return null;var i=e[3];return i&&null!=t?new lp(t,n,i,Number(e[4])):null}function cp(e,t){this.b=e,this.a=t}function dp(e,t){var n=new Oa(null,0);n.Da(t.duration);var i=t.streams.filter((function(e){return"audio"==e.type})),r=t.streams.filter((function(e){return"video"==e.type}));i=function(e,t,n,i){for(var r=new Set,a=c(t),o=a.next();!o.done;o=a.next()){var s=c(o.value.variantIds);for(o=s.next();!o.done;o=s.next())r.add(o.value)}for(a=c(n),o=a.next();!o.done;o=a.next())for(o=(s=c(o.value.variantIds)).next();!o.done;o=s.next())r.add(o.value);for(a=new Map,r=c(r),o=r.next();!o.done;o=r.next())o=o.value,a.set(o,{id:o,language:"",primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0});for(t=c(t),r=t.next();!r.done;r=t.next())for(o=pp(e,r=r.value,i),r=(s=c(r.variantIds)).next();!r.done;r=s.next())(r=a.get(r.value)).language=o.language,r.primary=r.primary||o.primary,r.audio=o;for(n=c(n),t=n.next();!t.done;t=n.next())for(t=pp(e,r=t.value,i),r=(o=c(r.variantIds)).next();!r.done;r=o.next())(r=a.get(r.value)).primary=r.primary||t.primary,r.video=t;return a}(e,i,r,n),r=t.streams.filter((function(e){return"text"==e.type})).map((function(t){return pp(e,t,n)}));var a=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var o=c(i.values()),s=o.next();!s.done;s=o.next())(s=s.value).audio&&s.audio.encrypted&&(s.audio.drmInfos=a),s.video&&s.video.encrypted&&(s.video.drmInfos=a);return{presentationTimeline:n,minBufferTime:2,offlineSessionIds:t.sessionIds,variants:Array.from(i.values()),textStreams:r}}function pp(e,t,n){var i=t.segments.map((function(t){return function(e,t){var n=new lp("segment",e.b,e.a,t.dataKey);return new xa(t.startTime,t.endTime,(function(){return[n.toString()]}),0,null,null!=t.initSegmentKey?function(e,t){var n=new lp("segment",e.b,e.a,t);return new Ta((function(){return[n.toString()]}),0,null)}(e,t.initSegmentKey):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd)}(e,t)}));return n.vb(i),{id:t.id,originalId:t.originalId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Wa(i),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:t.roles,forced:t.forced,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,closedCaptions:t.closedCaptions}}function fp(){this.a=null}function hp(){}function mp(e){var t=up(e);return t&&"manifest"==t.a?e=Oe(e={uri:e,Ud:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}}):e=t&&"segment"==t.a?function(e,t){var n=new $d;return Oe(void 0).W((function(){return n.init()})).W((function(){return Jd(n,t.Ba(),t.fa())})).W((function(e){return e.getSegments([t.key()])})).W((function(e){return{uri:t,data:e[0].data,headers:{}}})).finally((function(){return n.destroy()}))}(t.key(),t):Te(new ye(2,1,9004,e)),e}function vp(e,t,n){var i,r,a,o,s,l;return M((function(u){switch(u.a){case 1:i=[];for(var d=[],p=c(n),f=p.next();!f.done;f=p.next()){f=f.value;for(var h=!1,m=c(d),v=m.next();!v.done;v=m.next())if(yp((v=v.value).info,f)){v.sessionIds.push(f.sessionId),h=!0;break}h||d.push({info:f,sessionIds:[f.sessionId]})}r=c(d),a=r.next();case 2:if(a.done){u.s(4);break}return o=a.value,s=function(e,t,n){var i,r;return M((function(a){switch(a.a){case 1:return i=new en({ub:t,onError:function(){},sc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),S(a,2),i.configure(e),w(a,function(e,t,n,i,r,a){var o=new Map;return(r={audioCapabilities:r,videoCapabilities:a,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:t}).drmInfos=[{keySystem:t,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:i,initData:null,keyIds:null}],o.set(t,r),cn(e,o)}(i,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:x(a,3);break;case 2:return O(a),w(a,i.destroy(),5);case 5:return a.return([]);case 3:return S(a,6),w(a,rn(i),8);case 8:x(a,7);break;case 6:return O(a),w(a,i.destroy(),9);case 9:return a.return([]);case 7:return r=[],w(a,Promise.all(n.sessionIds.map((function(e){return M((function(t){return 1==t.a?(S(t,2),w(t,function(e,t){var n,i,r;return M((function(a){return 1==a.a?w(a,dn(e,t),2):(n=a.b)?(i=[],(r=e.f.get(n))&&(r.Ea=new _e,i.push(r.Ea)),i.push(n.remove()),w(a,Promise.all(i),0)):a.return()}))}(i,e),4)):2!=t.a?(r.push(e),x(t,0)):(O(t),void _(t))}))}))),10);case 10:return w(a,i.destroy(),11);case 11:return a.return(r)}}))}(e,t,o),w(u,s,5);case 5:l=u.b,i=i.concat(l),a=r.next(),u.s(2);break;case 4:return u.return(i)}}))}function yp(e,t){function n(e,t){return e.robustness==t.robustness&&e.contentType==t.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&ze(e.audioCapabilities,t.audioCapabilities,n)&&ze(e.videoCapabilities,t.videoCapabilities,n)}function bp(e,t){var n=dp(new cp(e.Ba(),e.fa()),t),i=t.appMetadata||{};return n=gp(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:i}}function gp(e){for(var t=[],n=function(e){return e.filter((function(e){return ea(e)}))}(e.variants),i=(n=c(n)).next();!i.done;i=n.next())t.push(Yr(i.value));for(n=(e=c(e.textStreams)).next();!n.done;n=e.next())t.push(Qr(n.value));return t}function kp(){this.a={}}function wp(e,t){var n=e.a[t];return null==n&&(n=0),n}function _p(e){var t=this;if(e&&e.constructor!=Xo)throw new ye(2,9,9008);this.M=this.i=null,e?(this.i=e.i,this.M=e.Mb()):(this.i=Uo(),this.M=new Xe),this.xc=[],this.Tb=[],this.md=[],this.a=new Map,this.a.set(null,Promise.resolve(null)),this.b=new Map;var n=!e;this.D=new nt((function(){var e,i,r,a,o;return M((function(s){switch(s.a){case 1:return w(s,Promise.all(t.md.map((function(e){return Vd(e)}))),2);case 2:for(e=function(){},i=[],r=c(t.Tb),a=r.next();!a.done;a=r.next())o=a.value,i.push(o.then(e,e));return w(s,Promise.all(i),3);case 3:if(!n){s.s(4);break}return w(s,t.M.destroy(),4);case 4:t.i=null,t.M=null,_(s)}}))}))}function Sp(){if(Nt())e:{for(var e=c(ep.values()),t=e.next();!t.done;t=e.next())if(t=(t=t.value)()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}function Tp(e,t){for(var n=[],i=c(e.streams),r=i.next();!r.done;r=i.next())r=r.value,t&&"video"==r.type?n.push({contentType:Mt(r.mimeType,r.codecs),robustness:e.drmInfo.videoRobustness}):t||"audio"!=r.type||n.push({contentType:Mt(r.mimeType,r.codecs),robustness:e.drmInfo.audioRobustness});return n}function xp(e,t,n){return M((function(i){return w(i,function(e,t,n,i){var r,a,o;return M((function(s){return 1==s.a?i.drmInfo?(r=function(e){var t=Array.from(e.a.keys());if(!t.length)throw new ye(2,9,9e3,"No supported storage mechanisms found");return e.a.get(t[0]).getEmeSessionCell()}(n),a=i.sessionIds.map((function(e){return{sessionId:e,keySystem:i.drmInfo.keySystem,licenseUri:i.drmInfo.licenseServerUri,serverCertificate:i.drmInfo.serverCertificate,audioCapabilities:Tp(i,!1),videoCapabilities:Tp(i,!0)}})),w(s,vp(t,e,a),2)):s.return():3!=s.a?(o=s.b,w(s,r.remove(o),3)):w(s,r.add(a.filter((function(e){return!o.includes(e.sessionId)}))),0)}))}(e.M,e.i.drm,n,t),0)}))}function Op(e,t,n){function i(){}var r=function(e){for(var t=[],n=(e=c(e.streams)).next();!n.done;n=e.next())for(var i=(n=c(n.value.segments)).next();!i.done;i=n.next())null!=(i=i.value).initSegmentKey&&t.push(i.initSegmentKey),t.push(i.dataKey);return t}(n);return bp(t,n),Promise.all([e.removeSegments(r,i),e.removeManifests([t.key()],i)])}function Ep(e,t,n,i,r,a,o){var s={id:a.id,originalId:a.originalId,primary:a.primary,type:a.type,mimeType:a.mimeType,codecs:a.codecs,frameRate:a.frameRate,pixelAspectRatio:a.pixelAspectRatio,kind:a.kind,language:a.language,label:a.label,width:a.width||null,height:a.height||null,encrypted:a.encrypted,keyIds:a.keyIds,segments:[],variantIds:[],roles:a.roles,forced:a.forced,channelsCount:a.channelsCount,audioSamplingRate:a.audioSamplingRate,closedCaptions:a.closedCaptions},l=a.id;return function(e,t,n){if(null!=(t=e.segmentIndex.find(t)))for(var i=e.segmentIndex.get(t);i;)n(i),i=e.segmentIndex.get(++t)}(a,r.presentationTimeline.qb(),(function(r){var u=function(e,t,n,i,r,a,o,s){return e.a.has(o)?e.a.get(o):(s=ao(o.a(),o.da,o.Y,s.streaming.retryParameters),t=Fd(t,n,s,.5*wp(a,i),!0,(function(t){var n;return M((function(i){return 1==i.a?w(i,r.addSegments([{data:t}]),2):(n=i.b,e.xc.push(n[0]),i.return(n[0]))}))})),e.a.set(o,t),t)}(e,t,l,a.id,n,i,r.c,o),c=function(e,t,n,i,r,a,o,s){var l=[o.a()[0],o.da,o.Y].join("-");return e.b.has(l)?e.b.get(l):(s=ao(o.a(),o.da,o.Y,s.streaming.retryParameters),t=Fd(t,n,s,function(e,t,n){return n=n.endTime-n.startTime,wp(e,t)*n}(a,i,o),!1,(function(t){var n;return M((function(i){return 1==i.a?w(i,r.addSegments([{data:t}]),2):(n=i.b,e.xc.push(n[0]),i.return(n[0]))}))})),e.b.set(l,t),t)}(e,t,l,a.id,n,i,r,o);!function(e,t,n){it(e.D);var i=(e.a.get(t)||Promise.resolve()).then((function(){return M((function(e){return w(e,n(),0)}))}));e.a.set(t,i)}(t,l,(function(){var e,t;return M((function(n){return 1==n.a?w(n,u,2):3!=n.a?(e=n.b,w(n,c,3)):(t=n.b,s.segments.push({initSegmentKey:e,startTime:r.startTime,endTime:r.endTime,appendWindowStart:r.appendWindowStart,appendWindowEnd:r.appendWindowEnd,timestampOffset:r.timestampOffset,dataKey:t}),void _(n))}))}))})),s}function Pp(e){if(e.D.a)throw new ye(2,9,7001)}function Cp(){if(!Sp())throw new ye(2,9,9e3)}function Ap(e,t){return M((function(n){return 1==n.a?(e.Tb.push(t),T(n),w(n,t,4)):2!=n.a?n.return(n.b):(E(n),He(e.Tb,t),P(n,0))}))}function Ip(e){for(var t=new Set,n=c(e.textStreams),i=n.next();!i.done;i=n.next())t.add(i.value);for(n=(e=c(e.variants)).next();!n.done;n=e.next())(n=n.value).audio&&t.add(n.audio),n.video&&t.add(n.video);return t}y(tp,Wd),tp.prototype.updateManifestExpiration=function(e,t){var n,i,r,a=this;return M((function(o){return n=qd(a.b,a.a),i=n.store(),r=new _e,i.get(e).onsuccess=function(n){(n=n.target.result)?(n.expiration=t,i.put(n),r.resolve()):r.reject(new ye(2,9,9012,"Could not find values for "+e))},w(o,Promise.all([n.promise(),r]),0)}))},tp.prototype.Ib=function(e){var t,n,i,r,a,o;return M((function(s){if(1==s.a){for(t=[],n=0;n<e.periods.length;++n)i=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,r=i-e.periods[n].startTime,a=np(e.periods[n],r),t.push(a);return w(s,rc(t),2)}return o=s.b,s.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:null==e.expiration?1/0:e.expiration,streams:o,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata})}))},tp.prototype.Fd=function(e){return{data:e.data}},y(rp,Wd),rp.prototype.Ib=function(e){var t,n,i,r,a,o;return M((function(s){if(1==s.a){for(t=[],n=0;n<e.periods.length;++n){i=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,r=i-e.periods[n].startTime;for(var l=e.periods[n],u=[],d=c(l.streams),p=d.next();!p.done;p=d.next())0!=(p=p.value).variantIds.length&&u.push(ap(p,l.startTime,l.startTime+r));a=u,t.push(a)}return w(s,rc(t),2)}return o=s.b,s.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:null==e.expiration?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:o})}))},y(op,Wd),op.prototype.hasFixedKeySpace=function(){return!1},op.prototype.addSegments=function(e){return this.add(this.c,e)},op.prototype.addManifests=function(e){return this.add(this.a,e)},op.prototype.Ib=function(e){return null==e.expiration&&(e.expiration=1/0),Promise.resolve(e)},(i=sp.prototype).init=function(){var t=this,n=new _e,i=e.indexedDB.open("shaka_offline_db",5);return i.onsuccess=function(){var e=i.result;t.g=e;var r=e.objectStoreNames;r=r.contains("manifest")&&r.contains("segment")?new tp(e,"segment","manifest"):null,t.a=r,r=(r=e.objectStoreNames).contains("manifest-v2")&&r.contains("segment-v2")?new rp(e,"segment-v2","manifest-v2"):null,t.b=r,r=(r=e.objectStoreNames).contains("manifest-v3")&&r.contains("segment-v3")?new rp(e,"segment-v3","manifest-v3"):null,t.c=r,r=(r=e.objectStoreNames).contains("manifest-v5")&&r.contains("segment-v5")?new op(e,"segment-v5","manifest-v5"):null,t.f=r,e=e.objectStoreNames.contains("session-ids")?new Qd(e):null,t.h=e,n.resolve()},i.onupgradeneeded=function(){for(var e=i.result,t=c(["segment-v5","manifest-v5","session-ids"]),n=t.next();!n.done;n=t.next())n=n.value,e.objectStoreNames.contains(n)||e.createObjectStore(n,{autoIncrement:!0})},i.onerror=function(e){n.reject(new ye(2,9,9001,i.error)),e.preventDefault()},n},i.destroy=function(){var e=this;return M((function(t){switch(t.a){case 1:if(!e.a){t.s(2);break}return w(t,e.a.destroy(),2);case 2:if(!e.b){t.s(4);break}return w(t,e.b.destroy(),4);case 4:if(!e.c){t.s(6);break}return w(t,e.c.destroy(),6);case 6:if(!e.f){t.s(8);break}return w(t,e.f.destroy(),8);case 8:if(!e.h){t.s(10);break}return w(t,e.h.destroy(),10);case 10:e.g&&e.g.close(),_(t)}}))},i.getCells=function(){var e=new Map;return this.a&&e.set("v1",this.a),this.b&&e.set("v2",this.b),this.c&&e.set("v3",this.c),this.f&&e.set("v5",this.f),e},i.getEmeSessionCell=function(){return this.h},i.erase=function(){var t=this;return M((function(n){switch(n.a){case 1:if(!t.a){n.s(2);break}return w(n,t.a.destroy(),2);case 2:if(!t.b){n.s(4);break}return w(n,t.b.destroy(),4);case 4:if(!t.c){n.s(6);break}return w(n,t.c.destroy(),6);case 6:if(!t.f){n.s(8);break}return w(n,t.f.destroy(),8);case 8:return t.g&&t.g.close(),w(n,function(){var t=new _e,n=e.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){},n.onsuccess=function(){t.resolve()},n.onerror=function(e){t.reject(new ye(2,9,9001,n.error)),e.preventDefault()},t}(),10);case 10:return t.g=null,t.a=null,t.b=null,t.c=null,t.f=null,w(n,t.init(),0)}}))},Zd("idb",(function(){return zt("CrKey")||!e.indexedDB?null:new sp})),lp.prototype.Ba=function(){return this.g},lp.prototype.fa=function(){return this.f},lp.prototype.key=function(){return this.c},lp.prototype.toString=function(){return this.b},(i=fp.prototype).configure=function(){},i.start=function(e,t){var n,i,r,a,o,s,l=this;return M((function(u){switch(u.a){case 1:if(n=up(e),l.a=n,null==n||"manifest"!=n.a)throw new ye(2,1,9004,e);return i=new $d,T(u),w(u,i.init(),4);case 4:return w(u,Jd(i,n.Ba(),n.fa()),5);case 5:return w(u,u.b.getManifests([n.key()]),6);case 6:return r=u.b,a=r[0],o=new cp(n.Ba(),n.fa()),s=dp(o,a),t.makeTextStreamsForClosedCaptions(s),u.return(s);case 2:return E(u),w(u,i.destroy(),7);case 7:P(u,0)}}))},i.stop=function(){return Promise.resolve()},i.update=function(){},i.onExpirationUpdated=function(e,t){var n,i,r,a,o,s,l,u=this;return M((function(c){switch(c.a){case 1:return n=u.a,i=new $d,S(c,2,3),w(c,i.init(),5);case 5:return w(c,Jd(i,n.Ba(),n.fa()),6);case 6:return w(c,(r=c.b).getManifests([n.key()]),7);case 7:if(a=c.b,o=a[0],s=o.sessionIds.includes(e),l=void 0==o.expiration||o.expiration>t,!s||!l){c.s(3);break}return w(c,r.updateManifestExpiration(n.key(),t),3);case 3:return E(c),w(c,i.destroy(),10);case 10:P(c,0);break;case 2:O(c),c.s(3)}}))},_a["application/x-offline-manifest"]=function(){return new fp},B("shaka.offline.OfflineScheme",hp),hp.plugin=mp,Ge("offline",mp),(i=_p.prototype).destroy=function(){return this.D.destroy()},i.configure=function(e,t){return 2==arguments.length&&"string"==typeof e&&(e=Do(e,t)),e.manifest&&e.manifest.dash&&"defaultPresentationDelay"in e.manifest.dash&&(gt("manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),e.manifest.defaultPresentationDelay=e.manifest.dash.defaultPresentationDelay,delete e.manifest.dash.defaultPresentationDelay),Vo(this.i,e)},i.getConfiguration=function(){var e=Uo();return Vo(e,this.i,Uo()),e},i.Mb=function(){return this.M},i.store=function(e,t,n){var i=this,r=this.getConfiguration(),a=new Ud(this.M);this.md.push(a);var o=new Se(t=function(e,t,n,i,r,a){var o,s,l,u,d,p,f,h,m,v;return M((function(y){switch(y.a){case 1:return Cp(),s=o=null,l=new $d,d=u=null,S(y,2,3),w(y,i(),5);case 5:return o=y.b,w(y,function(e,t,n,i){var r,a,o,s,l;return M((function(u){if(1==u.a)return r=null,a=e.M,o={networkingEngine:a,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(e){r=e},isLowLatencyMode:function(){return!1},isAutoLowLatencyMode:function(){return!1},enableLowLatencyMode:function(){}},n.configure(i.manifest),Pp(e),w(u,n.start(t,o),2);if(3!=u.a)return s=u.b,Pp(e),l=Ip(s),w(u,Promise.all(ee(l,(function(e){return e.createSegmentIndex()}))),3);if(Pp(e),r)throw r;return u.return(s)}))}(e,t,o,r),6);case 6:if(p=y.b,Pp(e),!(!p.presentationTimeline.T()&&!p.presentationTimeline.ab()))throw new ye(2,9,9005,t);return w(y,function(e,t,n,i){var r;return M((function(a){switch(a.a){case 1:return(r=new en({ub:e.M,onError:n,sc:function(){},onExpirationUpdated:function(){},onEvent:function(){}})).configure(i.drm),w(a,function(e,t,n){return e.v=[],e.A=n,nn(e,t)}(r,t.variants,i.offline.usePersistentLicense),2);case 2:return w(a,rn(r),3);case 3:return w(a,an(r),4);case 4:return a.return(r)}}))}(e,p,(function(e){d=d||e}),r),7);case 7:if(s=y.b,Pp(e),d)throw d;return w(y,e.mb(p,s,r),8);case 8:return w(y,l.init(),9);case 9:return Pp(e),w(y,function(e){var t=null;if(e.a.forEach((function(e,n){e.getCells().forEach((function(e,i){e.hasFixedKeySpace()||t||(t={path:{Ba:n,fa:i},fa:e})}))})),t)return t;throw new ye(2,9,9013,"Could not find a cell that supports add-operations")}(l),10);case 10:return u=y.b,Pp(e),w(y,function(e,t,n,i,r,a,o,s){var l,u,d,p,f,h,m,v,y,b;return M((function(g){switch(g.a){case 1:return l=function(e,t,n){return{offlineUri:null,originalManifestUri:e,duration:t.presentationTimeline.getDuration(),size:0,expiration:1/0,tracks:t=gp(t),appMetadata:n}}(r,i,a),u=o.offline.progressCallback,function(e,t,n){e.Td=t,e.Sd=n}(s,(function(e,t){l.size=t,u(l,e)}),(function(e,t){f&&o.offline.usePersistentLicense&&h==t&&on(n,"cenc",e)})),d=i.variants.some((function(e){var t=e.audio&&e.audio.encrypted;return e.video&&e.video.encrypted||t})),p=i.variants.some((function(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]).some((function(e){return e.initData&&e.initData.length}))})),h=null,(f=d&&!p)&&(m=n.c,h=jp.get(m.keySystem)),T(g),y=v=function(e,t,n,i,r,a,o,s){for(var l=new kp,u=c(r.variants),d=u.next();!d.done;d=u.next()){var p=l,f=(d=d.value).audio,h=d.video;if(f&&!h&&(p.a[f.id]=f.bandwidth||d.bandwidth),!f&&h&&(p.a[h.id]=h.bandwidth||d.bandwidth),f&&h){var m=f.bandwidth||393216,v=h.bandwidth||d.bandwidth-m;0>=v&&(v=d.bandwidth),p.a[f.id]=m,p.a[h.id]=v}}for(u=c(r.textStreams),p=u.next();!p.done;p=u.next())l.a[p.value.id]=52;for(p=Ip(r),u=new Map,p=c(p),d=p.next();!d.done;d=p.next())f=Ep(e,t,n,l,r,d=d.value,s),u.set(d.id,f);for(e=c(r.variants),d=e.next();!d.done;d=e.next())(t=d.value).audio&&u.get(t.audio.id).variantIds.push(t.id),t.video&&u.get(t.video.id).variantIds.push(t.id);return e=Array.from(u.values()),s=s.offline.usePersistentLicense,(t=i.c)&&s&&(t.initData=[]),{creationTime:Date.now(),originalManifestUri:a,duration:r.presentationTimeline.getDuration(),size:0,expiration:i.Lb(),streams:e,sessionIds:s?un(i):[],drmInfo:t,appMetadata:o}}(e,s,t,n,i,r,a,o),w(g,function(e){return M((function(t){return 1==t.a?w(t,Promise.all(e.a.values()),2):t.return(e.Jb.a)}))}(s),4);case 4:if(y.size=g.b,v.expiration=n.Lb(),b=un(n),v.sessionIds=o.offline.usePersistentLicense?b:[],d&&o.offline.usePersistentLicense&&!b.length)throw new ye(2,9,9007);return g.return(v);case 2:return E(g),w(g,s.destroy(),5);case 5:P(g,0)}}))}(e,u.fa,s,p,t,n,r,a),11);case 11:if(f=y.b,Pp(e),d)throw d;return w(y,u.fa.addManifests([f]),12);case 12:return h=y.b,Pp(e),m=new lp("manifest",u.path.Ba,u.path.fa,h[0]),y.return(bp(m,f));case 3:return E(y),e.xc=[],w(y,l.destroy(),13);case 13:if(!o){y.s(14);break}return w(y,o.stop(),14);case 14:if(!s){y.s(16);break}return w(y,s.destroy(),16);case 16:P(y,0);break;case 2:if(v=O(y),!u){y.s(18);break}return w(y,u.fa.removeSegments(e.xc,(function(){})),18);case 18:throw d||v}}))}(this,e,t||{},(function(){var t;return M((function(a){return 1==a.a?w(a,ga(e,i.M,r.manifest.retryParameters,n||null),2):(t=a.b,a.return(Ot(t)))}))}),r,a),(function(){return Vd(a)}));return o.finally((function(){He(i.md,a)})),o.then=function(e){return gt("shaka.offline.Storage.store.then","Storage operations now return a shaka.util.AbortableOperation, rather than a promise.  Please update to conform to this new API; you can use the |chain| method instead."),o.promise.then(e)},function(e,t){var n=t.promise;return e.Tb.push(n),t.finally((function(){He(e.Tb,n)}))}(this,o)},i.Le=function(){return gt("shaka.offline.Storage.getStoreInProgress","Multiple concurrent downloads are now supported."),!1},i.mb=function(e,t,n){var i,r,a,o,s,l,u,d,p,f,h,m,v,y,b;return M((function(g){if(1==g.a){for(i={width:1/0,height:1/0},function(e,t,n){e.variants=e.variants.filter((function(e){return Xr(e,t,n)}))}(e,n.restrictions,i),function(e){e.variants=e.variants.filter((function(e){var t=!0;return e.audio&&(t=t&&Sr(e.audio)),e.video&&(t=t&&Sr(e.video)),t}))}(e),function(e,t){e.variants=e.variants.filter((function(e){return vn(t,e)}))}(e,t),r=[],a=n.preferredAudioChannelCount,Wr(e,a),o=c(e.variants),s=o.next();!s.done;s=o.next())l=s.value,r.push(Yr(l));for(u=c(e.textStreams),d=u.next();!d.done;d=u.next())p=d.value,r.push(Qr(p));return w(g,n.offline.trackSelectionCallback(r),2)}for(f=g.b,h=new Set,m=new Set,v=c(f),y=v.next();!y.done;y=v.next())"variant"==(b=y.value).type&&h.add(b.id),"text"==b.type&&m.add(b.id);e.variants=e.variants.filter((function(e){return h.has(e.id)})),e.textStreams=e.textStreams.filter((function(e){return m.has(e.id)})),function(e){e.variants.map((function(e){return e.video}));var t=new Set(e.variants.map((function(e){return e.audio})));e=e.textStreams;for(var n=c(t),i=n.next();!i.done;i=n.next())for(var r=(i=c(t)).next();!r.done;r=i.next());for(t=c(e),n=t.next();!n.done;n=t.next())for(i=(n=c(e)).next();!i.done;i=n.next());}(e),_(g)}))},i.remove=function(e){return Ap(this,function(e,t){var n,i,r,a,o,s;return M((function(l){switch(l.a){case 1:if(Cp(),null==(n=up(t))||"manifest"!=n.a)throw new ye(2,9,9004,t);return i=n,r=new $d,T(l),w(l,r.init(),4);case 4:return w(l,Jd(r,i.Ba(),i.fa()),5);case 5:return w(l,(a=l.b).getManifests([i.key()]),6);case 6:return o=l.b,s=o[0],w(l,Promise.all([xp(e,s,r),Op(a,i,s)]),2);case 2:return E(l),w(l,r.destroy(),8);case 8:P(l,0)}}))}(this,e))},i.cf=function(){return Ap(this,function(e){var t,n,i,r,a,o,s,l,u,d;return M((function(p){switch(p.a){case 1:return Cp(),t=e.M,n=e.i.drm,i=new $d,r=!1,T(p),w(p,i.init(),4);case 4:a=[],function(e,t){e.a.forEach((function(e){t(e.getEmeSessionCell())}))}(i,(function(e){return a.push(e)})),o=c(a),s=o.next();case 5:if(s.done){p.s(2);break}return w(p,(l=s.value).getAll(),8);case 8:return u=p.b,w(p,vp(n,t,u),9);case 9:return d=p.b,w(p,l.remove(d),10);case 10:d.length!=u.length&&(r=!0),s=o.next(),p.s(5);break;case 2:return E(p),w(p,i.destroy(),11);case 11:P(p,3);break;case 3:return p.return(!r)}}))}(this))},i.list=function(){return Ap(this,M((function(i){switch(i.a){case 1:return Cp(),e=[],t=new $d,T(i),w(i,t.init(),4);case 4:return n=Promise.resolve(),function(e,t){e.a.forEach((function(e,n){e.getCells().forEach((function(e,i){t({Ba:n,fa:i},e)}))}))}(t,(function(t,i){n=n.then((function(){return M((function(n){if(1==n.a)return w(n,i.getAllManifests(),2);n.b.forEach((function(n,i){var r=bp(new lp("manifest",t.Ba,t.fa,i),n);e.push(r)})),_(n)}))}))})),w(i,n,2);case 2:return E(i),w(i,t.destroy(),6);case 6:P(i,3);break;case 3:return i.return(e)}})));var e,t,n},B("shaka.offline.Storage",_p),_p.deleteAll=function(){var e;return M((function(t){return 1==t.a?(e=new $d,T(t),w(t,function(e){var t,n;return M((function(i){return 1==i.a?(t=Array.from(e.a.values()),(n=0<t.length)||ep.forEach((function(e){(e=e())&&t.push(e)})),w(i,Promise.all(t.map((function(e){return e.erase()}))),2)):n?i.s(0):w(i,Promise.all(t.map((function(e){return e.destroy()}))),0)}))}(e),2)):5!=t.a?(E(t),w(t,e.destroy(),5)):P(t,0)}))},_p.prototype.list=_p.prototype.list,_p.prototype.removeEmeSessions=_p.prototype.cf,_p.prototype.remove=_p.prototype.remove,_p.prototype.getStoreInProgress=_p.prototype.Le,_p.prototype.store=_p.prototype.store,_p.prototype.getNetworkingEngine=_p.prototype.Mb,_p.prototype.getConfiguration=_p.prototype.getConfiguration,_p.prototype.configure=_p.prototype.configure,_p.prototype.destroy=_p.prototype.destroy,_p.support=Sp;var jp=(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb");function Lp(){}function Mp(e,t){for(var n={priority:t||0,me:e},i=c(ne(Rp)),r=i.next();!r.done;r=i.next()){var a=(r=r.value).ba;if(r.item.priority<n.priority)return void Rp.splice(a,0,n)}Rp.push(n)}il.offline=Sp,B("shaka.polyfill",Lp),Lp.register=Mp,Lp.installAll=function(){for(var e=c(Rp),t=e.next();!t.done;t=e.next()){t=t.value;try{t.me()}catch(n){G("Error installing polyfill!",n)}}};var Rp=[];function Dp(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"===typeof Event)var n=new Event(t,e);else(n=document.createEvent("Event")).initEvent(t,e.bubbles,e.cancelable);e.target.dispatchEvent(n)}function Np(e,t,n){if("input"==e)switch(this.type){case"range":e="change"}HTMLInputElement.prototype.originalAddEventListener.call(this,e,t,n)}function Up(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(t){for(var n=[],i=0;i<arguments.length;++i)n[i]=arguments[i];return(n=e.apply(this,n)).abort=function(){},n}}function Vp(){Ue.call(this),this.type="",this.angle=0}function Fp(e,t){try{var n=new zp(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}}function Bp(e){var t=this.mediaKeys;return t&&t!=e&&Kp(t,null),delete this.mediaKeys,(this.mediaKeys=e)?Kp(e,this):Promise.resolve()}function Hp(e){if(Me(e=Le(e.initData)).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=pt(e=ct(e.subarray(4),!0));var t=new Event("encrypted");t.initDataType="skd",t.initData=je(e),this.dispatchEvent(t)}function zp(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(var n=c(t),i=n.next();!i.done;i=n.next()){var r=i.value;if("required"==r.persistentState)i=null;else{i={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label};var a=!1,o=!1;if(r.audioCapabilities)for(var s=c(r.audioCapabilities),l=s.next();!l.done;l=s.next())(l=l.value).contentType&&(a=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,l.contentType.split(";")[0])&&(i.audioCapabilities.push(l),o=!0));if(r.videoCapabilities)for(l=(r=c(r.videoCapabilities)).next();!l.done;l=r.next())(s=l.value).contentType&&(a=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,s.contentType.split(";")[0])&&(i.videoCapabilities.push(s),o=!0));a||(o=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),i=o?i:null}if(i)return void(this.a=i)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function qp(e){this.a=new WebKitMediaKeys(e),this.b=new rt}function Kp(e,t){if(e.b.cb(),!t)return Promise.resolve();e.b.m(t,"webkitneedkey",Hp);try{return ja(t,HTMLMediaElement.HAVE_METADATA,e.b,(function(){t.webkitSetMediaKeys(e.a)})),Promise.resolve()}catch(n){return Promise.reject(n)}}function Wp(e){Ue.call(this),this.f=null,this.g=e,this.c=this.a=null,this.b=new rt,this.sessionId="",this.expiration=NaN,this.closed=new _e,this.keyStatuses=new Gp}function Xp(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,n=new De("keystatuseschange"),e.dispatchEvent(n)}function Gp(){this.size=0,this.a=void 0}function Yp(e,t){try{var n=new $p(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}}function Qp(e){if(e.initData){var t=document.createEvent("CustomEvent");t.initCustomEvent("encrypted",!1,!1,null),t.initDataType="cenc",t.initData=je(function(e){if(!e)return e;var t=new uu(e);if(1>=t.data.length)return e;e=[];for(var n={},i=(t=c(t.data)).next();!i.done;n={$b:n.$b},i=t.next())n.$b=i.value,e.some(function(e){return function(t){return Ae(t,e.$b)}}(n))||e.push(n.$b);return Zt.apply(Xt,d(e))}(e.initData)),this.dispatchEvent(t)}}function $p(e,t){this.keySystem=e;for(var n=!1,i=c(t),r=i.next();!r.done;r=i.next()){var a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(r=r.value).initDataTypes,sessionTypes:["temporary"],label:r.label},o=!1;if(r.audioCapabilities)for(var s=c(r.audioCapabilities),l=s.next();!l.done;l=s.next())(l=l.value).contentType&&(o=!0,MSMediaKeys.isTypeSupported(this.keySystem,l.contentType.split(";")[0])&&(a.audioCapabilities.push(l),n=!0));if(r.videoCapabilities)for(l=(s=c(r.videoCapabilities)).next();!l.done;l=s.next())(l=l.value).contentType&&(o=!0,MSMediaKeys.isTypeSupported(this.keySystem,l.contentType.split(";")[0])&&(a.videoCapabilities.push(l),n=!0));if(o||(n=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==r.persistentState&&(n=!1),n)return void(this.a=a)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Jp(e){var t=this.mediaKeys;return t&&t!=e&&ef(t,null),delete this.mediaKeys,(this.mediaKeys=e)?ef(e,this):Promise.resolve()}function Zp(e){this.a=new MSMediaKeys(e),this.b=new rt}function ef(e,t){if(e.b.cb(),!t)return Promise.resolve();e.b.m(t,"msneedkey",Qp);try{return ja(t,HTMLMediaElement.HAVE_METADATA,e.b,(function(){t.msSetMediaKeys(e.a)})),Promise.resolve()}catch(n){return Promise.reject(n)}}function tf(e){Ue.call(this),this.f=null,this.g=e,this.c=this.a=null,this.b=new rt,this.sessionId="",this.expiration=NaN,this.closed=new _e,this.keyStatuses=new rf}function nf(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,n=new De("keystatuseschange"),e.dispatchEvent(n)}function rf(){this.size=0,this.a=void 0}function af(){return Promise.reject(Error("The key system specified is not supported."))}function of(e){return null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function sf(){throw new TypeError("Illegal constructor.")}function lf(){throw this.keySystem="",new TypeError("Illegal constructor.")}function uf(e){return wf?wf+e.charAt(0).toUpperCase()+e.slice(1):e}function cf(e,t){try{var n=new pf(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}}function df(e){var t=this.mediaKeys;return t&&t!=e&&hf(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&hf(e,this),Promise.resolve()}function pf(e,t){this.a=this.keySystem=e;var n=!1;"org.w3.clearkey"==e&&(this.a="webkit-org.w3.clearkey",n=!1);var i=!1,r=document.getElementsByTagName("video");r=r.length?r[0]:document.createElement("video");for(var a=c(t),o=a.next();!o.done;o=a.next()){var s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(o=o.value).initDataTypes,sessionTypes:["temporary"],label:o.label},l=!1;if(o.audioCapabilities)for(var u=c(o.audioCapabilities),d=u.next();!d.done;d=u.next())(d=d.value).contentType&&(l=!0,r.canPlayType(d.contentType.split(";")[0],this.a)&&(s.audioCapabilities.push(d),i=!0));if(o.videoCapabilities)for(d=(u=c(o.videoCapabilities)).next();!d.done;d=u.next())(d=d.value).contentType&&(l=!0,r.canPlayType(d.contentType,this.a)&&(s.videoCapabilities.push(d),i=!0));if(l||(i=r.canPlayType("video/mp4",this.a)||r.canPlayType("video/webm",this.a)),"required"==o.persistentState&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):i=!1),i)return void(this.b=s)}throw n="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(n="None of the requested configurations were supported."),(n=Error(n)).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function ff(e){this.g=e,this.a=null,this.b=new rt,this.c=[],this.f=new Map}function hf(e,t){e.a=t,e.b.cb();var n=wf;t&&(e.b.m(t,n+"needkey",(function(t){var n=document.createEvent("CustomEvent");n.initCustomEvent("encrypted",!1,!1,null),n.initDataType="cenc",n.initData=je(t.initData),e.a.dispatchEvent(n)})),e.b.m(t,n+"keymessage",(function(t){var n=mf(e,t.sessionId);n&&(t=new De("message",{messageType:void 0==n.keyStatuses.a?"licenserequest":"licenserenewal",message:t.message}),n.b&&(n.b.resolve(),n.b=null),n.dispatchEvent(t))})),e.b.m(t,n+"keyadded",(function(t){(t=mf(e,t.sessionId))&&(gf(t,"usable"),t.a&&t.a.resolve(),t.a=null)})),e.b.m(t,n+"keyerror",(function(t){var n=mf(e,t.sessionId);n&&n.handleError(t)})))}function mf(e,t){var n=e.f.get(t);return n||((n=e.c.shift())?(n.sessionId=t,e.f.set(t,n),n):null)}function vf(e,t,n){Ue.call(this),this.f=e,this.h=!1,this.a=this.b=null,this.c=t,this.g=n,this.sessionId="",this.expiration=NaN,this.closed=new _e,this.keyStatuses=new kf}function yf(e,t,n){if(e.h)return Promise.reject(Error("The session is already initialized."));e.h=!0;try{if("persistent-license"==e.g)if(n)var i=Le(pt("LOAD_SESSION|"+n));else{var r=pt("PERSISTENT|");i=Zt(r,t)}else i=Le(t)}catch(o){return Promise.reject(o)}e.b=new _e;var a=uf("generateKeyRequest");try{e.f[a](e.c,i)}catch(o){if("InvalidStateError"!=o.name)return e.b=null,Promise.reject(o);new ge((function(){try{e.f[a](e.c,i)}catch(t){e.b.reject(t),e.b=null}})).R(.01)}return e.b}function bf(e,t,n){if(e.a)e.a.then((function(){return bf(e,t,n)})).catch((function(){return bf(e,t,n)}));else{if(e.a=t,"webkit-org.w3.clearkey"==e.c){var i=ut(n),r=JSON.parse(i);"oct"!=r.keys[0].kty&&(e.a.reject(Error("Response is not a valid JSON Web Key Set.")),e.a=null),i=Qt(r.keys[0].k),r=Qt(r.keys[0].kid)}else i=Le(n),r=null;var a=uf("addKey");try{e.f[a](e.c,i,r,e.sessionId)}catch(o){e.a.reject(o),e.a=null}}}function gf(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,n=new De("keystatuseschange"),e.dispatchEvent(n)}function kf(){this.size=0,this.a=void 0}Mp((function(){Oh()}),-1),Mp((function(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,(t=Document.prototype).exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Dp),document.addEventListener("webkitfullscreenerror",Dp),document.addEventListener("mozfullscreenchange",Dp),document.addEventListener("mozfullscreenerror",Dp),document.addEventListener("MSFullscreenChange",Dp),document.addEventListener("MSFullscreenError",Dp)}})),Mp((function(){zt("Trident/")&&!HTMLInputElement.prototype.originalAddEventListener&&(HTMLInputElement.prototype.originalAddEventListener=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=Np)})),Mp((function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})})),Mp((function(){})),Mp((function(){var t=Ht();e.MediaSource&&(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType?function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */);return n.shift(),n.some((function(e){return e.startsWith("codecs=")}))?cast.__platform__.canDisplayType(t):e(t)}}():t?(function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"mp2t"!=t.split(/ *; */)[0].split("/")[1].toLowerCase()&&e(t)}}(),12>=t?(Up(),function(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}()):Up()):(zt("Tizen 2")||zt("Tizen 3")||zt("Tizen 4"))&&function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"opus"!=Rt(t)[0]&&e(t)}}()),e.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */),i=n.findIndex((function(e){return e.startsWith("codecs=")}));if(0>i)return e(t);var r=n[i].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),a=r.findIndex((function(e){return e.startsWith("vp09")}));return 0<=a&&(r[a]="vp9",n[i]='codecs="'+r.join(",")+'"',t=n.join("; ")),e(t)}}()})),y(Vp,Ue),Vp.prototype.lock=function(e){function t(e){return screen.lockOrientation?screen.lockOrientation(e):screen.mozLockOrientation?screen.mozLockOrientation(e):!!screen.msLockOrientation&&screen.msLockOrientation(e)}var n=!1;switch(e){case"natural":n=t("default");break;case"any":n=!0,this.unlock();break;default:n=t(e)}return n?Promise.resolve():((e=Error("screen.orientation.lock() is not available on this device")).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},Vp.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},Mp((function(){screen.orientation||void 0!=e.orientation&&function(){function t(){switch(e.orientation){case-90:n.type="landscape-secondary",n.angle=270;break;case 0:n.type="portrait-primary",n.angle=0;break;case 90:n.type="landscape-primary",n.angle=90;break;case 180:n.type="portrait-secondary",n.angle=180}}var n=new Vp;screen.orientation=n,t(),e.addEventListener("orientationchange",(function(){t();var e=new De("change",{});n.dispatchEvent(e)}))}()})),zp.prototype.createMediaKeys=function(){var e=new qp(this.keySystem);return Promise.resolve(e)},zp.prototype.getConfiguration=function(){return this.a},qp.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new Wp(this.a,e)},qp.prototype.setServerCertificate=function(){return Promise.resolve(!1)},y(Wp,Ue),(i=Wp.prototype).generateRequest=function(e,t){var n=this;this.a=new _e;try{var i=this.g.createSession("video/mp4",Le(t));this.f=i,this.sessionId=i.sessionId||"",this.b.m(this.f,"webkitkeymessage",(function(e){n.a&&(n.a.resolve(),n.a=null),e=new De("message",{messageType:void 0==n.keyStatuses.a?"license-request":"license-renewal",message:je(e.message)}),n.dispatchEvent(e)})),this.b.m(i,"webkitkeyadded",(function(){n.c&&(Xp(n,"usable"),n.c.resolve(),n.c=null)})),this.b.m(i,"webkitkeyerror",(function(){var e=Error("EME PatchedMediaKeysApple key error");if(e.errorCode=n.f.error,null!=n.a)n.a.reject(e),n.a=null;else if(null!=n.c)n.c.reject(e),n.c=null;else switch(n.f.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Xp(n,"output-not-allowed");break;default:Xp(n,"internal-error")}})),Xp(this,"status-pending")}catch(r){this.a.reject(r)}return this.a},i.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},i.update=function(e){this.c=new _e;try{this.f.update(Le(e))}catch(t){this.c.reject(t)}return this.c},i.close=function(){try{this.f.close(),this.closed.resolve(),this.b.cb()}catch(Eh){this.closed.reject(Eh)}return this.closed},i.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(i=Gp.prototype).forEach=function(e){this.a&&e(this.a,Sn.value())},i.get=function(e){if(this.has(e))return this.a},i.has=function(e){var t=Sn.value();return!(!this.a||!Ae(e,t))},i.entries=function(){},i.keys=function(){},i.values=function(){},Mp((function(){e.HTMLVideoElement&&e.WebKitMediaKeys&&(delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Bp,e.MediaKeys=qp,e.MediaKeySystemAccess=zp,navigator.requestMediaKeySystemAccess=Fp)})),$p.prototype.createMediaKeys=function(){var e=new Zp(this.keySystem);return Promise.resolve(e)},$p.prototype.getConfiguration=function(){return this.a},Zp.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new tf(this.a,e)},Zp.prototype.setServerCertificate=function(){return Promise.resolve(!1)},y(tf,Ue),(i=tf.prototype).generateRequest=function(e,t){var n=this;this.a=new _e;try{this.f=this.g.createSession("video/mp4",Le(t),null),this.b.m(this.f,"mskeymessage",(function(e){n.a&&(n.a.resolve(),n.a=null),e=new De("message",{messageType:void 0==n.keyStatuses.a?"license-request":"license-renewal",message:je(e.message)}),n.dispatchEvent(e)})),this.b.m(this.f,"mskeyadded",(function(){n.a?(nf(n,"usable"),n.a.resolve(),n.a=null):n.c&&(nf(n,"usable"),n.c.resolve(),n.c=null)})),this.b.m(this.f,"mskeyerror",(function(){var e=Error("EME PatchedMediaKeysMs key error");if(e.errorCode=n.f.error,null!=n.a)n.a.reject(e),n.a=null;else if(null!=n.c)n.c.reject(e),n.c=null;else switch(n.f.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:nf(n,"output-not-allowed");break;default:nf(n,"internal-error")}})),nf(this,"status-pending")}catch(i){this.a.reject(i)}return this.a},i.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},i.update=function(e){this.c=new _e;try{this.f.update(Le(e))}catch(t){this.c.reject(t)}return this.c},i.close=function(){try{this.f.close(),this.closed.resolve(),this.b.cb()}catch(Eh){this.closed.reject(Eh)}return this.closed},i.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(i=rf.prototype).forEach=function(e){this.a&&e(this.a,Sn.value())},i.get=function(e){if(this.has(e))return this.a},i.has=function(e){var t=Sn.value();return!(!this.a||!Ae(e,t))},i.entries=function(){},i.keys=function(){},i.values=function(){},Mp((function(){!e.HTMLVideoElement||!e.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,e.MediaKeys=Zp,e.MediaKeySystemAccess=$p,navigator.requestMediaKeySystemAccess=Yp,HTMLMediaElement.prototype.setMediaKeys=Jp)})),sf.prototype.createSession=function(){},sf.prototype.setServerCertificate=function(){},lf.prototype.getConfiguration=function(){},lf.prototype.createMediaKeys=function(){},Mp((function(){!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=af,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=of,e.MediaKeys=sf,e.MediaKeySystemAccess=lf)}),-10),pf.prototype.createMediaKeys=function(){var e=new ff(this.a);return Promise.resolve(e)},pf.prototype.getConfiguration=function(){return this.b},ff.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary")&&"persistent-license"!=e)throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.a||document.createElement("video");return t.src||(t.src="about:blank"),e=new vf(t,this.g,e),this.c.push(e),e},ff.prototype.setServerCertificate=function(){return Promise.resolve(!1)},y(vf,Ue),(i=vf.prototype).handleError=function(e){var t=Error("EME v0.1b key error"),n=e.errorCode;n.systemCode=e.systemCode,t.errorCode=n,!e.sessionId&&this.b?(45==e.systemCode&&(t.message="Unsupported session type."),this.b.reject(t),this.b=null):e.sessionId&&this.a?(this.a.reject(t),this.a=null):(t=e.systemCode,e.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?gf(this,"output-restricted"):gf(this,1==t?"expired":"internal-error"))},i.generateRequest=function(e,t){return yf(this,t,null)},i.load=function(e){return"persistent-license"==this.g?yf(this,null,e):Promise.reject(Error("Not a persistent session."))},i.update=function(e){var t=new _e;return bf(this,t,e),t},i.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=uf("cancelKeyRequest");try{this.f[e](this.c,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},i.remove=function(){return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()},(i=kf.prototype).forEach=function(e){this.a&&e(this.a,Sn.value())},i.get=function(e){if(this.has(e))return this.a},i.has=function(e){var t=Sn.value();return!(!this.a||!Ae(e,t))},i.entries=function(){},i.keys=function(){},i.values=function(){};var wf="";function _f(e){if("picture-in-picture"==(e=e.target).webkitPresentationMode){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function Sf(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function Tf(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function xf(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function Of(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function Ef(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function Pf(t,n,i){return new e.TextTrackCue(t,n,i)}function Cf(t,n,i){return new e.TextTrackCue(t+"-"+n+"-"+i,t,n,i)}function Af(){}function If(e,t,n,i,r,a,o,s,l,u){var d=e.parentNode;if(e.nodeType==Node.TEXT_NODE){var p=document.createElement("span");p.textContent=e.textContent,e=p}if(p=/\S/.test(e.textContent),!(e.hasAttribute("begin")||e.hasAttribute("end")||e.hasAttribute("dur")||p||"br"==e.tagName||l&&!s))return null;var f=Vf(e,n);for(p=f.start,f=f.end;d&&d.nodeType==Node.ELEMENT_NODE&&"tt"!=d.tagName;)p=(f=Uf(d,n,p,f)).start,f=f.end,d=d.parentNode;if(null==p&&(p=0),p+=t,f=null==f?1/0:f+t,"br"==e.tagName)return(r=new Tn(p,f,"")).spacer=!0,r;var h="";if(d=[],Array.from(e.childNodes).every((function(e){return e.nodeType==Node.TEXT_NODE})))h=e.textContent,s&&(h=(h=h.trim()).replace(/\s+/g," "));else for(var m=c(e.childNodes),v=m.next();!v.done;v=m.next())(v=If(v.value,t,n,i,r,a,o,s,!0,u))&&d.push(v);if((t=new Tn(p,f,h)).nestedCues=d,u&&(t.cellResolution=u),(a=Nf(e,"region",a,"")[0])&&a.getAttribute("xml:id")){var y=a.getAttribute("xml:id");t.region=o.filter((function(e){return e.id==y}))[0]}return function(e,t,n,i,r,a,o){"rtl"==Lf(t,n,r,"direction",a=a||o)&&(e.direction="rtl"),"tb"==(o=Lf(t,n,r,"writingMode",a))||"tblr"==o?e.writingMode="vertical-lr":"tbrl"==o?e.writingMode="vertical-rl":"rltb"==o||"rl"==o?e.direction="rtl":o&&(e.direction=In),(o=Lf(t,n,r,"textAlign",a))?(e.positionAlign=nh[o],e.lineAlign=th[o],e.textAlign=Pn[o.toUpperCase()]):e.textAlign="start",(o=Lf(t,n,r,"displayAlign",a))&&(e.displayAlign=An[o.toUpperCase()]);(o=Lf(t,n,r,"color",a))&&(e.color=o);(o=Lf(t,n,r,"backgroundColor",a))&&(e.backgroundColor=o);(o=Lf(t,n,r,"border",a))&&(e.border=o);(o=Lf(t,n,r,"fontFamily",a))&&(e.fontFamily=o);(o=Lf(t,n,r,"fontWeight",a))&&"bold"==o&&(e.fontWeight=700),o=Lf(t,n,r,"wrapOption",a),e.wrapLine=!o||"noWrap"!=o,(o=Lf(t,n,r,"lineHeight",a))&&o.match(Xf)&&(e.lineHeight=o),(o=Lf(t,n,r,"fontSize",a))&&(o.match(Xf)||o.match(Wf))&&(e.fontSize=o),(o=Lf(t,n,r,"fontStyle",a))&&(e.fontStyle=Un[o.toUpperCase()]);if(i){o=i.getAttribute("imagetype");var s=i.getAttribute("encoding");i=i.textContent.trim(),"PNG"==o&&"Base64"==s&&i&&(e.backgroundImage="data:image/png;base64,"+i)}(i=Lf(t,n,r,"letterSpacing",a))&&i.match(Xf)&&(e.letterSpacing=i),(i=Lf(t,n,r,"linePadding",a))&&i.match(Xf)&&(e.linePadding=i),(a=Lf(t,n,r,"opacity",a))&&(e.opacity=parseFloat(a));(n=Mf(n,r,"textDecoration"))&&jf(e,n),(t=Rf(t,r,"textDecoration"))&&jf(e,t)}(t,e,a,i=Nf(e,"backgroundImage",i,"#","http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt")[0],r,l,0==d.length),t}function jf(e,t){for(var n=c(t.split(" ")),i=n.next();!i.done;i=n.next())switch(i.value){case"underline":e.textDecoration.includes("underline")||e.textDecoration.push("underline");break;case"noUnderline":e.textDecoration.includes("underline")&&He(e.textDecoration,"underline");break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&He(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&He(e.textDecoration,"overline")}}function Lf(e,t,n,i,r){return r=void 0===r||r,(e=Rf(e,n,i))?e:r?Mf(t,n,i):null}function Mf(e,t,n){if(!e)return null;var i=mu(e,"http://www.w3.org/ns/ttml#styling",n);return i||Df(e,t,n)}function Rf(e,t,n){var i=mu(e,"http://www.w3.org/ns/ttml#styling",n);return i||Df(e,t,n)}function Df(e,t,n){e=Nf(e,"style",t,"");for(var i=null,r=0;r<e.length;r++){var a=mu(e[r],"urn:ebu:tt:style",n);a||(a=mu(e[r],"http://www.w3.org/ns/ttml#styling",n)),a||(a=Rf(e[r],t,n)),a&&(i=a)}return i}function Nf(e,t,n,i,r){var a=[];if(!e||1>n.length)return a;var o=e;for(e=null;o&&!(e=r?mu(o,r,t):o.getAttribute(t))&&(o=o.parentNode)instanceof Element;);if(t=e)for(r=(t=c(t.split(" "))).next();!r.done;r=t.next())for(r=r.value,o=(e=c(n)).next();!o.done;o=e.next())if(i+(o=o.value).getAttribute("xml:id")==r){a.push(o);break}return a}function Uf(e,t,n,i){return e=Vf(e,t),null==n?n=e.start:null!=e.start&&(n+=e.start),null==i?i=e.end:null!=e.start&&(i+=e.start),{start:n,end:i}}function Vf(e,t){var n=Ff(e.getAttribute("begin"),t),i=Ff(e.getAttribute("end"),t),r=Ff(e.getAttribute("dur"),t);return null==i&&null!=r&&(i=n+r),{start:n,end:i}}function Ff(e,t){var n=null;if(Yf.test(e)){n=Yf.exec(e);var i=Number(n[1]),r=Number(n[2]),a=Number(n[3]),o=Number(n[4]);n=(a+=(o+=(Number(n[5])||0)/t.b)/t.frameRate)+60*r+3600*i}else if(Qf.test(e))n=Bf(Qf,e);else if($f.test(e))n=Bf($f,e);else if(Jf.test(e))n=Jf.exec(e),n=Number(n[1])/t.frameRate;else if(Zf.test(e))n=Zf.exec(e),n=Number(n[1])/t.a;else if(eh.test(e))n=Bf(eh,e);else if(e)throw new ye(2,2,2001,"Could not parse cue time range in TTML");return n}function Bf(e,t){var n=e.exec(t);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}function Hf(e,t,n,i){this.frameRate=Number(e)||30,this.b=Number(t)||1,this.a=Number(i),0==this.a&&(this.a=e?this.frameRate*this.b:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}Mp((function(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)wf="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=cf,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=df,e.MediaKeys=ff,e.MediaKeySystemAccess=pf}})),Mp((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;t.requestPictureInPicture&&document.exitPictureInPicture||!t.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,t.requestPictureInPicture=Sf,Object.defineProperty(t,"disablePictureInPicture",{get:xf,set:Of,enumerable:!0,configurable:!0}),document.exitPictureInPicture=Tf,document.addEventListener("webkitpresentationmodechanged",_f,!0))}})),Mp((function(){if(e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e.catch((function(){})),e}}})),Mp((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in t&&(t.getVideoPlaybackQuality=Ef)}})),Mp((function(){if(!e.VTTCue&&e.TextTrackCue){var t=null,n=TextTrackCue.length;if(3==n)t=Pf;else if(6==n)t=Cf;else{try{var i=!!Pf(1,2,"")}catch(r){i=!1}i&&(t=Pf)}t&&(e.VTTCue=function(e,n,i){return t(e,n,i)})}})),Af.prototype.parseInit=function(){},Af.prototype.parseMedia=function(e,t){var n=ut(e),i=[],r=new DOMParser,a=null;if(""==n)return i;try{a=r.parseFromString(n,"text/xml")}catch(k){throw new ye(2,2,2005,"Failed to parse TTML.")}if(a){if(n=a.getElementsByTagName("parsererror")[0])throw new ye(2,2,2005,n.textContent);var o=a.getElementsByTagName("tt")[0];if(!o)throw new ye(2,2,2005,"TTML does not contain <tt> tag.");if(!(r=o.getElementsByTagName("body")[0]))return[];n=mu(o,"http://www.w3.org/ns/ttml#parameter","frameRate");var s=mu(o,"http://www.w3.org/ns/ttml#parameter","subFrameRate"),l=mu(o,"http://www.w3.org/ns/ttml#parameter","frameRateMultiplier"),u=mu(o,"http://www.w3.org/ns/ttml#parameter","tickRate"),d=mu(o,"http://www.w3.org/ns/ttml#parameter","cellResolution");a=o.getAttribute("xml:space")||"default";var p=mu(o,"http://www.w3.org/ns/ttml#styling","extent");if("default"!=a&&"preserve"!=a)throw new ye(2,2,2005,"Invalid xml:space value: "+a);a="default"==a,n=new Hf(n,s,l,u),d=d&&(d=/^(\d+) (\d+)$/.exec(d))?{columns:parseInt(d[1],10),rows:parseInt(d[2],10)}:null,s=(s=o.getElementsByTagName("metadata")[0])?function(e){return Array.from(e.childNodes).filter((function(e){return e instanceof Element}))}(s):[],l=Array.from(o.getElementsByTagName("style")),u=[];for(var f=c(o=Array.from(o.getElementsByTagName("region"))),h=f.next();!h.done;h=f.next()){var m=h.value;h=new Vn;var v=m.getAttribute("xml:id");if(v){h.id=v;var y,b,g=null;p&&(g=Kf.exec(p)||Gf.exec(p)),v=g?Number(g[1]):null,g=g?Number(g[2]):null,(y=Mf(m,l,"extent"))&&(null!=(y=(b=Kf.exec(y))||Gf.exec(y))&&(h.width=null!=v?100*Number(y[1])/v:Number(y[1]),h.height=null!=g?100*Number(y[2])/g:Number(y[2]),h.widthUnits=b||null!=v?Fn:0,h.heightUnits=b||null!=g?Fn:0)),(m=Mf(m,l,"origin"))&&(null!=(y=(b=Kf.exec(m))||Gf.exec(m))&&(h.viewportAnchorX=null!=g?100*Number(y[1])/g:Number(y[1]),h.viewportAnchorY=null!=v?100*Number(y[2])/v:Number(y[2]),h.viewportAnchorUnits=b||null!=v?Fn:0))}else h=null;h&&u.push(h)}if(fu(r,"p").length)throw new ye(2,2,2001,"<p> can only be inside <div> in TTML");for(p=(r=c(fu(r,"div"))).next();!p.done;p=r.next()){if(fu(p=p.value,"span").length)throw new ye(2,2,2001,"<span> can only be inside <p> in TTML");for(f=(p=c(fu(p,"p"))).next();!f.done;f=p.next())(f=If(f.value,t.periodStart,n,s,l,o,u,a,!1,d))&&i.push(f)}}return i},B("shaka.text.TtmlTextParser",Af),Af.prototype.parseMedia=Af.prototype.parseMedia,Af.prototype.parseInit=Af.prototype.parseInit;var zf,qf,Kf=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,Wf=/^(\d{1,2}(?:\.\d+)?|100)%$/,Xf=/^(\d+px|\d+em|\d*\.?\d+c)$/,Gf=/^(\d+)px (\d+)px$/,Yf=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Qf=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,$f=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,Jf=/^(\d*(?:\.\d*)?)f$/,Zf=/^(\d*(?:\.\d*)?)t$/,eh=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,th={left:Mn,center:"center",right:"end",start:Mn,end:"end"},nh={left:"line-left",center:"center",right:"line-right"};function ih(){this.j=new Af}function rh(){}function ah(e,t){var n=Eu("<span>"+e+"</span>","span");if(n){var i=[];if(1==(n=n.childNodes).length){var r=n[0];if(r.nodeType==Node.TEXT_NODE||r.nodeType==Node.CDATA_SECTION_NODE)return void(t.payload=e)}for(r=(n=c(n)).next();!r.done;r=n.next())oh(r.value,t,i);t.nestedCues=i}else t.payload=e}function oh(e,t,n){if(t=t.clone(),e.nodeType===Node.ELEMENT_NODE&&e.nodeName)for(var i=c(e.nodeName.split(/[ .]+/)),r=i.next();!r.done;r=i.next())switch(r.value){case"b":t.fontWeight=700;break;case"i":t.fontStyle="italic";break;case"u":t.textDecoration.push("underline")}if(yu(e))t.payload=e.textContent,n.push(t);else for(i=(e=c(e.childNodes)).next();!i.done;i=e.next())oh(i.value,t,n)}function sh(e,t,n){var i;(i=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=i[1],e.textAlign="middle"==t?En:Pn[t.toUpperCase()]):(i=/^vertical:(lr|rl)$/.exec(t))?e.writingMode="lr"==i[1]?"vertical-lr":"vertical-rl":(i=/^size:([\d.]+)%$/.exec(t))?e.size=Number(i[1]):(i=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))?(e.position=Number(i[1]),i[2]&&(t=i[2],e.positionAlign="line-left"==t||"start"==t?"line-left":"line-right"==t||"end"==t?"line-right":"center")):(i=/^region:(.*)$/.exec(t))?(t=function(e,t){var n=e.filter((function(e){return e.id==t}));return n.length?n[0]:null}(n,i[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=Rn[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=Ln,e.line=Number(n[1]),n[2]&&(e.lineAlign=Rn[n[2].toUpperCase()]))}function lh(e){if(null==(e=zc(e,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g)))return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)}function uh(){this.a=null}function ch(e,t,n){var i,r,a;return(new Xi).box("payl",Qi((function(e){i=ut(e)}))).box("iden",Qi((function(e){r=ut(e)}))).box("sttg",Qi((function(e){a=ut(e)}))).parse(e),i?function(e,t,n,i,r){if(i=new Tn(i,r,""),ah(e,i),t&&(i.id=t),n)for(e=new Bc(n),t=qc(e);t;)sh(i,t,[]),Hc(e),t=qc(e);return i}(i,r,a,t,n):null}function dh(){this.j=new rh}function ph(e){var t="WEBVTT\n\n";if(""==e)return t;for(var n=(e=c((e=(e=e.replace(/\r+/g,"")).trim()).split("\n\n"))).next();!n.done;n=e.next())(n=n.value.split(/\n/))[0].match(/\d+/)&&n.shift(),n[0]=n[0].replace(/,/g,"."),t+=n.join("\n")+"\n\n";return t}function fh(){}function hh(){zf?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(zf=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=mh):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function mh(e,t){var n,i=this;return M((function(r){return 1==r.a?(console.assert(i==navigator,'bad "this" for requestMediaKeySystemAccess'),w(r,zf.call(i,e,t),2)):Th(n=r.b)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=zf,r.return(n)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=vh,r.return(vh.call(i,e,t)))}))}function vh(e,t){var n,i,r,a,o,s,l,u,d,p,f=this;return M((function(h){if(1==h.a){for(console.assert(f==navigator,'bad "this" for requestMediaKeySystemAccess'),n=Sh(e),i=[],r=c(t),a=r.next();!a.done;a=r.next())o=a.value,s=yh(o.videoCapabilities,n),l=yh(o.audioCapabilities,n),o.videoCapabilities&&o.videoCapabilities.length&&!s.length||o.audioCapabilities&&o.audioCapabilities.length&&!l.length||((u=Object.assign({},o)).videoCapabilities=s,u.audioCapabilities=l,i.push(u));if(!i.length)throw(d=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",d.code=DOMException.NOT_SUPPORTED_ERR,d;return w(h,zf.call(f,e,i),2)}return p=h.b,h.return(new _h(p,n))}))}function yh(e,t){return e?e.filter((function(e){return!e.encryptionScheme||e.encryptionScheme==t})):e}function bh(){}function gh(){navigator.mediaCapabilities?(qf=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=kh):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function kh(e){var t,n=this;return M((function(i){return 1==i.a?(console.assert(n==navigator.mediaCapabilities,'bad "this" for decodingInfo'),w(i,qf.call(n,e),2)):(t=i.b,e.keySystemConfiguration?Th(t.keySystemAccess)?(console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=qf,i.return(t)):(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=wh,i.return(wh.call(n,e))):i.return(t))}))}function wh(e){var t,n,i,r,a,o,s,l=this;return M((function(u){return 1==u.a?(console.assert(l==navigator.mediaCapabilities,'bad "this" for decodingInfo'),t=null,e.keySystemConfiguration&&(n=e.keySystemConfiguration,i=n.keySystem,r=n.audio&&n.audio.encryptionScheme,a=n.video&&n.video.encryptionScheme,t=Sh(i),o={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},r&&r!=t||a&&a!=t)?u.return(o):w(u,qf.call(l,e),2)):((s=u.b).keySystemAccess&&(s.keySystemAccess=new _h(s.keySystemAccess,t)),u.return(s))}))}function _h(e,t){this.b=e,this.a=t,this.keySystem=e.keySystem}function Sh(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function Th(e){var t=(e=e.getConfiguration()).audioCapabilities&&e.audioCapabilities[0];return!(!(e=e.videoCapabilities&&e.videoCapabilities[0]||t)||void 0===e.encryptionScheme)}function xh(){}function Oh(){hh(),gh()}wr["application/ttml+xml"]=function(){return new Af},ih.prototype.parseInit=function(e){var t=!1;if((new Xi).box("moov",Gi).box("trak",Gi).box("mdia",Gi).box("minf",Gi).box("stbl",Gi).U("stsd",Yi).box("stpp",(function(e){t=!0,e.parser.stop()})).parse(e),!t)throw new ye(2,2,2007)},ih.prototype.parseMedia=function(e,t){var n=this,i=!1,r=[];if((new Xi).box("mdat",Qi((function(e){i=!0,r=r.concat(n.j.parseMedia(e,t))}))).parse(e,!1),!i)throw new ye(2,2,2007);return r},B("shaka.text.Mp4TtmlParser",ih),ih.prototype.parseMedia=ih.prototype.parseMedia,ih.prototype.parseInit=ih.prototype.parseInit,wr['application/mp4; codecs="stpp"']=function(){return new ih},wr['application/mp4; codecs="stpp.ttml.im1t"']=function(){return new ih},wr['application/mp4; codecs="stpp.TTML.im1t"']=function(){return new ih},rh.prototype.parseInit=function(){},rh.prototype.parseMedia=function(e,t){var n=ut(e),i=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(i[0]))throw new ye(2,2,2e3);if(n=t.periodStart,i[0].includes("X-TIMESTAMP-MAP")){var r=i[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),a=i[0].match(/MPEGTS:(\d+)/m);if(r&&a){if(null==(n=lh(new Bc(r[1]))))throw new ye(2,2,2e3);for(a=Number(a[1]),r=t.segmentStart;95443.7176888889<=r;)r-=95443.7176888889,a+=8589934592;n=t.periodStart+a/9e4-n}}a=[];for(var o=(r=c(i[0].split("\n"))).next();!o.done;o=r.next())if(o=o.value,/^Region:/.test(o)){o=new Bc(o);var s=new Vn;qc(o),Hc(o);for(var l=qc(o);l;){var u=s,d=l;(l=/^id=(.*)$/.exec(d))?u.id=l[1]:(l=/^width=(\d{1,2}|100)%$/.exec(d))?u.width=Number(l[1]):(l=/^lines=(\d+)$/.exec(d))?(u.height=Number(l[1]),u.heightUnits=2):(l=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(d))?(u.regionAnchorX=Number(l[1]),u.regionAnchorY=Number(l[2])):(l=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(d))?(u.viewportAnchorX=Number(l[1]),u.viewportAnchorY=Number(l[2])):/^scroll=up$/.exec(d)&&(u.scroll="up"),Hc(o),l=qc(o)}a.push(s)}for(r=[],o=(i=c(i.slice(1))).next();!o.done;o=i.next()){if(l=n,1==(u=o.value.split("\n")).length&&!u[0]||/^NOTE($|[ \t])/.test(u[0])||"STYLE"==u[0])o=null;else{o=null,u[0].includes("--\x3e")||(o=u[0],u.splice(0,1)),d=lh(s=new Bc(u[0]));var p=zc(s,/[ \t]+--\x3e[ \t]+/g),f=lh(s);if(null==d||null==p||null==f)throw new ye(2,2,2001,"Could not parse cue time range in WebVTT");for(l=new Tn(d+l,f+l,""),ah(u.slice(1).join("\n").trim(),l),Hc(s),u=qc(s);u;)sh(l,u,a),Hc(s),u=qc(s);null!=o&&(l.id=o),o=l}o&&r.push(o)}return r},B("shaka.text.VttTextParser",rh),rh.prototype.parseMedia=rh.prototype.parseMedia,rh.prototype.parseInit=rh.prototype.parseInit,wr["text/vtt"]=function(){return new rh},wr['text/vtt; codecs="vtt"']=function(){return new rh},wr['text/vtt; codecs="wvtt"']=function(){return new rh},uh.prototype.parseInit=function(e){var t=this,n=!1;if((new Xi).box("moov",Gi).box("trak",Gi).box("mdia",Gi).U("mdhd",(function(e){e=ir(e.reader,e.version),t.a=e.timescale})).box("minf",Gi).box("stbl",Gi).U("stsd",Yi).box("wvtt",(function(){n=!0})).parse(e),!this.a)throw new ye(2,2,2008);if(!n)throw new ye(2,2,2008)},uh.prototype.parseMedia=function(e,t){if(!this.a)throw new ye(2,2,2008);var n,i=0,r=[],a=[],o=!1,s=!1,l=!1,u=null;if((new Xi).box("moof",Gi).box("traf",Gi).U("tfdt",(function(e){o=!0,i=nr(e.reader,e.version).Uc})).U("tfhd",(function(e){u=tr(e.reader,e.flags).Hd})).U("trun",(function(e){s=!0,r=rr(e.reader,e.version,e.flags).Yd})).box("mdat",Qi((function(e){l=!0,n=e}))).parse(e,!1),!l&&!o&&!s)throw new ye(2,2,2008);for(var d=i,p=new Ni(n,0),f=c(r),h=f.next();!h.done;h=f.next()){var m=(h=h.value).rd||u,v=h.wc?i+h.wc:d;d=v+(m||0);var y=0;do{var b=p.I();y+=b;var g=null;"vttc"==Ji(p.I())?8<b&&(g=p.Sa(b-8)):p.skip(b-8),m&&g&&(b=ch(g,t.periodStart+v/this.a,t.periodStart+d/this.a),a.push(b))}while(h.sampleSize&&y<h.sampleSize)}return a.filter(xt)},B("shaka.text.Mp4VttParser",uh),uh.prototype.parseMedia=uh.prototype.parseMedia,uh.prototype.parseInit=uh.prototype.parseInit,wr['application/mp4; codecs="wvtt"']=function(){return new uh},dh.prototype.parseInit=function(){},dh.prototype.parseMedia=function(e,t){var n=ut(e);return n=Le(pt(n=ph(n))),this.j.parseMedia(n,t)},B("shaka.text.SrtTextParser",dh),dh.srt2webvtt=ph,dh.prototype.parseMedia=dh.prototype.parseMedia,dh.prototype.parseInit=dh.prototype.parseInit,wr["text/srt"]=function(){return new dh},B("EmeEncryptionSchemePolyfill",fh),fh.install=hh,B("McEncryptionSchemePolyfill",bh),bh.install=gh,_h.prototype.getConfiguration=function(){var e=this.b.getConfiguration();if(e.videoCapabilities)for(var t=c(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.a;if(e.audioCapabilities)for(n=(t=c(e.audioCapabilities)).next();!n.done;n=t.next())n.value.encryptionScheme=this.a;return e},_h.prototype.createMediaKeys=function(){return this.b.createMediaKeys()},B("EncryptionSchemePolyfills",xh),xh.install=Oh,"undefined"!==typeof n&&n.exports&&(n.exports=xh)}.call(i,n,n,void 0),i.shaka)t[r]=i.shaka[r]}()}).call(this,n(20))},210:function(e,t){e.exports='<svg viewBox="0 0 32 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414" class="iconSvg">\n  <path stroke="none" d="M14.268 17h-4.52v-6.931H4.521V17H0V0h4.521v6.304h5.227V0h4.52v17zM32 8.14c0 2.837-.766 5.023-2.295 6.558C28.176 16.233 26.025 17 23.254 17h-5.386V0h5.763c2.671 0 4.736.697 6.189 2.093C31.272 3.489 32 5.505 32 8.141V8.14zm-4.67.163c0-1.559-.301-2.714-.905-3.466-.605-.752-1.521-1.128-2.75-1.128h-1.31v9.524h1.002c1.367 0 2.369-.405 3.007-1.215.639-.81.957-2.049.957-3.715h-.001z" fill-rule="nonzero"/>\n</svg>\n'},211:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path d="M0 0h24v24H0z" fill="none"/>\n  <path d="M3 16h5v5h2v-7H3zm5-8H3v2h7V3H8zm6 13h2v-5h5v-2h-7zm2-13V3h-2v7h7V8z"/>\n</svg>\n'},212:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path d="M0 0h24v24H0z" fill="none"/>\n  <path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>\n</svg>\n'},213:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path d="M16.5 12A4.5 4.5 0 0014 7.97v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.796 8.796 0 0021 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06a8.99 8.99 0 003.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>\n</svg>\n'},214:function(e,t){e.exports='<svg fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414" clip-rule="evenodd" viewBox="0 0 22 22" class="iconSvg">\n  <path stroke-width="0" fill-rule="nonzero" d=\'M18.411,13.109l-16.409,8.697c-0.956,0.506 -1.988,-0.142 -2,-1.046c-0.017,-1.235 0.075,-18.462 0.091,-19.522c0.013,-0.95 1.105,-1.545 2.022,-1.072l16.296,8.441l0,-7.189c0,-0.773 0.627,-1.401 1.403,-1.403l0.783,0c0.776,0.002 1.403,0.63 1.403,1.403l0,19.179c0,0.774 -0.629,1.403 -1.403,1.403l-0.783,0c-0.774,0 -1.403,-0.629 -1.403,-1.403l0,-7.488Z\' />\n</svg>\n'},215:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path d="M6 21h4V3H6v14zm8-14v14h4V3h-4z"/>\n  <path d="M0 0h24v24H0z" fill="none"/>\n</svg>\n'},216:function(e,t){e.exports='<svg fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414" clip-rule="evenodd" viewBox="0 0 22 22" class="iconSvg">\n  <path stroke-width="0" fill-rule="nonzero" d=\'M2.186,0c0.776,0.002 1.403,0.63 1.403,1.403l0,7.487l16.409,-8.696c0.956,-0.507 1.987,0.141 2,1.046c0.017,1.235 -0.075,18.462 -0.091,19.522c-0.013,0.95 -1.105,1.545 -2.022,1.072l-16.296,-8.44l0,7.186c0,0.774 -0.629,1.403 -1.403,1.403l-0.783,0c-0.774,0 -1.403,-0.629 -1.403,-1.403l0,-19.177c0,-0.773 0.627,-1.401 1.403,-1.403l0.783,0Z\' />\n</svg>\n'},217:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path d="M0 0h24v24H0z" fill="none"/>\n  <path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 12h4v2H4v-2zm10 6H4v-2h10v2zm6 0h-4v-2h4v2zm0-4H10v-2h10v2z"/>\n</svg>\n'},218:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" class="iconSvg"><path d="M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"/><path d="M0 0h24v24H0z" fill="none"/></svg>\n'},219:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0014 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>\n  <path d="M0 0h24v24H0z" fill="none"/>\n</svg>\n'},22:function(e,t,n){"use strict";var i=n(16);t.a=function(e){if(!e)return[];var t=e;return window.jQuery&&e instanceof jQuery?Array.from(e):Object(i.a)(t)?t:"string"!==typeof t||(t=document.querySelectorAll(t))&&0!==t.lenght?t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t]:[]}},220:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0014 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02z"/>\n  <path d="M0 0h24v24H0z" fill="none"/>\n</svg>\n'},221:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path d="M16.5 12A4.5 4.5 0 0014 7.97v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.796 8.796 0 0021 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06a8.99 8.99 0 003.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>\n  <path d="M0 0h24v24H0z" fill="none"/>\n</svg>\n'},222:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path d="M3 9v6h4l5 5V4L7 9z"/>\n  <path d="M0 0h24v24H0z" fill="none"/>\n</svg>\n'},223:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path fill="none" d="M0 0h24v24H0V0z"/>\n  <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 2c4.4 0 8 3.6 8 8s-3.6 8-8 8-8-3.6-8-8 3.6-8 8-8zm-1 3v6l5.2 3.2.8-1.3-4.5-2.7V7H11z"/>\n</svg>\n'},224:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path d="M0 0h24v24H0V0z" fill="none"/>\n  <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z"/>\n</svg>\n'},225:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path fill="none" d="M0 0h24v24H0V0z"/>\n  <path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>\n</svg>\n'},226:function(e,t){e.exports='<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414" class="iconSvg">\n  <path stroke="none" d="M16 32C7.163 32 0 24.837 0 16S7.163 0 16 0s16 7.163 16 16-7.163 16-16 16zm2.286-23.33v-.02a1.03 1.03 0 0 0-1.016-1.029h-2.54a1.029 1.029 0 0 0-1.016 1.029v8.423a1.03 1.03 0 0 0 1.016 1.029h2.54a1.029 1.029 0 0 0 1.016-1.029V8.67zm0 12.05v-.02a1.03 1.03 0 0 0-1.016-1.029h-2.54a1.029 1.029 0 0 0-1.016 1.029v2.661a1.03 1.03 0 0 0 1.016 1.029h2.54a1.029 1.029 0 0 0 1.016-1.029V20.72z" fill-rule="nonzero"/>\n</svg>\n'},227:function(e,t,n){},228:function(e,t,n){e.exports={slp:"slp",slp__playerSpinner:"slp__playerSpinner",slp__liveNotStarted:"slp__liveNotStarted",slp__media:"slp__media",slp__video:"slp__video",slp__slides:"slp__slides",slp__videoPlayer:"slp__videoPlayer",slp__slidesPlayer:"slp__slidesPlayer",slp__spinner:"slp__spinner",slp__thumbnail:"slp__thumbnail",slp__nextPresentationThumbnail:"slp__nextPresentationThumbnail",slp__bigPlay:"slp__bigPlay",slp__click:"slp__click",slp__error:"slp__error",slp__videoPlayer__content:"slp__videoPlayer__content",slp__slidesPlayer__content:"slp__slidesPlayer__content",iconSvg:"iconSvg",slp__debug:"slp__debug",slp__slidesControls:"slp__slidesControls","slp__bigButton--prev":"slp__bigButton--prev","slp__bigButton--next":"slp__bigButton--next",slp__slidesControls__bottom:"slp__slidesControls__bottom",slp__slideStats:"slp__slideStats",slp__button:"slp__button","slp__button--next":"slp__button--next","slp__button--prev":"slp__button--prev","slp__button--slideMute":"slp__button--slideMute","slp__slideStats--darker":"slp__slideStats--darker",slp__slidesTitle:"slp__slidesTitle",slp__slidesTitle__logo:"slp__slidesTitle__logo",slp__slidesTitle__text:"slp__slidesTitle__text",slp__slidesTitle__gradient:"slp__slidesTitle__gradient",slp__videoControls:"slp__videoControls",slp__videoControls__gradient:"slp__videoControls__gradient",slp__videoControls__bar:"slp__videoControls__bar",slp__videoControls__left:"slp__videoControls__left",slp__videoControls__right:"slp__videoControls__right",slp__time:"slp__time",slp__volumePanel:"slp__volumePanel",spinner__wrapper:"spinner__wrapper","slp__time--darker":"slp__time--darker","slp__button--live":"slp__button--live","slp__button--topicsAndTranscript":"slp__button--topicsAndTranscript",slp__volumeSlider:"slp__volumeSlider","slp__volumePanel--active":"slp__volumePanel--active",slp__volumeBar:"slp__volumeBar",slp__volumeBar__current:"slp__volumeBar__current",slp__progress:"slp__progress",slp__progress__padding:"slp__progress__padding",slp__progress__current:"slp__progress__current",slp__progress__mouse:"slp__progress__mouse",slp__progress__slide:"slp__progress__slide",slp__progress__imageTooltip:"slp__progress__imageTooltip",slp__progress__textTooltip:"slp__progress__textTooltip",slp__progress__bookmarks:"slp__progress__bookmarks",slp__progress__bookmark:"slp__progress__bookmark","slp__progress--active":"slp__progress--active",slp__menu:"slp__menu","slp__menu--active":"slp__menu--active",slp__submenu:"slp__submenu","slp__submenu--active":"slp__submenu--active",slp__submenu__title:"slp__submenu__title",slp__submenu__button:"slp__submenu__button","slp__submenu__button--disabled":"slp__submenu__button--disabled","slp__submenu__button--active":"slp__submenu__button--active",slp__submenu__icon:"slp__submenu__icon","slp__submenu--withTitle":"slp__submenu--withTitle",slp__submenu__label:"slp__submenu__label",slp__submenu__activeItemLabel:"slp__submenu__activeItemLabel",slp__zoom:"slp__zoom",slp__zoom__slider:"slp__zoom__slider","noUi-handle":"noUi-handle","tippy-tooltip":"tippy-tooltip","slp-theme":"slp-theme","slp-progress-theme":"slp-progress-theme",slp__clickToLoad:"slp__clickToLoad",slp__clickToLoad__text:"slp__clickToLoad__text",slp__error__content:"slp__error__content",slp__error__text:"slp__error__text",slp__error__icon:"slp__error__icon",slp__processing:"slp__processing",slp__processing__content:"slp__processing__content",slp__processing__text:"slp__processing__text",slp__processing__icon:"slp__processing__icon",spin:"spin",slp__livestreamFinished:"slp__livestreamFinished",slp__livestreamFinished__content:"slp__livestreamFinished__content",slp__livestreamFinished__text:"slp__livestreamFinished__text",slp__livestreamFinished__icon:"slp__livestreamFinished__icon",slp__nextPresentation:"slp__nextPresentation",slp__nextPresentation__content:"slp__nextPresentation__content",slp__nextPresentation__next:"slp__nextPresentation__next",slp__nextPresentation__play:"slp__nextPresentation__play",slp__nextPresentation__cancel:"slp__nextPresentation__cancel",slp__nextPresentation__title:"slp__nextPresentation__title",slp__notRecorded:"slp__notRecorded",slp__liveNotStartedTitle:"slp__liveNotStartedTitle",slp__notRecordedTitle:"slp__notRecordedTitle",slp__liveNotStartedTitle__logo:"slp__liveNotStartedTitle__logo",slp__notRecordedTitle__logo:"slp__notRecordedTitle__logo",slp__liveNotStartedTitle__text:"slp__liveNotStartedTitle__text",slp__notRecordedTitle__text:"slp__notRecordedTitle__text",slp__liveNotStartedTitle__gradient:"slp__liveNotStartedTitle__gradient",slp__notRecordedTitle__gradient:"slp__notRecordedTitle__gradient",slp__modal:"slp__modal","slp__modal--active":"slp__modal--active","slp__modal--fullsize":"slp__modal--fullsize",slp__modal__header:"slp__modal__header",slp__modal__content:"slp__modal__content",slp__modal__footer:"slp__modal__footer",slp__modal__close:"slp__modal__close",slp__modal__title:"slp__modal__title","slp__modal-playlists":"slp__modal-playlists","slp__modal-playlists__item":"slp__modal-playlists__item","slp__modal-playlists__form":"slp__modal-playlists__form",fieldLine__container:"fieldLine__container",btn:"btn",animatedCheckbox__container:"animatedCheckbox__container","slp__modal-bookmarks":"slp__modal-bookmarks","slp__modal-bookmarks__item":"slp__modal-bookmarks__item","slp__modal-bookmarks__icon":"slp__modal-bookmarks__icon","slp__modal-bookmarks__time":"slp__modal-bookmarks__time","slp__modal-bookmarks__seekTo":"slp__modal-bookmarks__seekTo",fieldLine:"fieldLine",graphicLine:"graphicLine","slp__modal-bookmarks__button":"slp__modal-bookmarks__button","slp__modal-bookmarks__form":"slp__modal-bookmarks__form",slp__popup:"slp__popup","slp__popup--active":"slp__popup--active","slp__popup-bookmarks":"slp__popup-bookmarks","slp__popup-bookmarks__icon":"slp__popup-bookmarks__icon","slp__popup-bookmarks__button":"slp__popup-bookmarks__button","slp__popup-bookmarks__form":"slp__popup-bookmarks__form","slp--controlsVisible":"slp--controlsVisible","slp--videoSizeLt-500":"slp--videoSizeLt-500","slp__button--watch-later":"slp__button--watch-later","slp--videoSizeLt-400":"slp--videoSizeLt-400","slp--videoSizeLt-350":"slp--videoSizeLt-350","slp__button--favorite":"slp__button--favorite","slp__button--bookmark":"slp__button--bookmark","slp--videoSizeLt-275":"slp--videoSizeLt-275","slp--videoSizeLt-195":"slp--videoSizeLt-195","slp__button--playerSettings":"slp__button--playerSettings","slp--slidesSizeLt-420":"slp--slidesSizeLt-420",slp__bigButton:"slp__bigButton",slp__slideStats__label:"slp__slideStats__label","slp--slidesSizeLt-330":"slp--slidesSizeLt-330","slp--slidesSizeLt-250":"slp--slidesSizeLt-250","slp__button--syncSlidesToVideo":"slp__button--syncSlidesToVideo","slp__button--syncVideoToSlides":"slp__button--syncVideoToSlides","slp--slidesSizeLt-140":"slp--slidesSizeLt-140","slp__videoControls--medium":"slp__videoControls--medium","slp__button--fullscreen":"slp__button--fullscreen","slp__videoControls--small":"slp__videoControls--small","slp--videoSizeLt-450":"slp--videoSizeLt-450","slp--hideSlides":"slp--hideSlides","slp__button--play":"slp__button--play","slp--error":"slp--error","slp--loading":"slp--loading","slp--videoLoading":"slp--videoLoading","slp--slidesLoading":"slp--slidesLoading","slp--paused":"slp--paused","slp--firstPlay":"slp--firstPlay","slp--live":"slp--live","slp--inLivePosition":"slp--inLivePosition","slp--seeking":"slp--seeking","slp__submenu__button--playlists":"slp__submenu__button--playlists","slp__submenu__button--bookmarks":"slp__submenu__button--bookmarks","slp--liveFinished":"slp--liveFinished","slp--slidesNotInSync":"slp--slidesNotInSync","slp--syncedNow":"slp--syncedNow","slp--videoControlsInSlides":"slp--videoControlsInSlides","slp--mobile":"slp--mobile","slp--fullscreenHidden":"slp--fullscreenHidden","slp--firstPlayHack":"slp--firstPlayHack","slp--fakeVideoRatio":"slp--fakeVideoRatio","slp--hideThumbnail":"slp--hideThumbnail","slp--embed":"slp--embed","slp--hideTitle":"slp--hideTitle","slp--ended":"slp--ended","slp--nextPresentation":"slp--nextPresentation","slp--liveNotStarted":"slp--liveNotStarted","slp--notRecorded":"slp--notRecorded","slp--vertical":"slp--vertical","slp--offline":"slp--offline","slp--guest":"slp--guest","slp--fullscreen":"slp--fullscreen","slp--topicsAndTranscriptAvailable":"slp--topicsAndTranscriptAvailable","slp--notSeekable":"slp--notSeekable","slp--slideMutable":"slp--slideMutable","slp--originalVideoControls":"slp--originalVideoControls"}},229:function(e,t,n){e.exports=n.p+"media/modules/player/view/html/images/slides-title-logo-30877b27ba208f71e49a91fe33dcf074.png"},23:function(e,t,n){"use strict";t.a=function(e){return"none"!==(""===e.style.display?window.getComputedStyle(e).display:e.style.display)&&(e.offsetWidth>0||e.offsetHeight>0)}},230:function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"===typeof Object.keys?Object.keys:n).shim=n},231:function(e,t){function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function a(e){return e&&"object"==n(e)&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=i?r:a).supported=r,t.unsupported=a},232:function(e,t,n){"use strict";n.r(t);n(233)},233:function(e,t,n){e.exports={container:"Z2VuZXJhbC9iYWNrZ3JvdW5kX2ZpeGVk__container"}},234:function(e,t,n){"use strict";n.r(t);n(294),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(322),n(323),n(324),n(174),n(325),n(326),n(327),n(328),n(329),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(357),n(358),n(359),n(360),n(361),n(362),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(259),n(435),n(436),n(437),n(438),n(440),n(441),n(442),n(260),n(443),n(446),n(447),n(448),n(449),n(450),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(497),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(261),n(513),n(652),n(653),n(654),n(655),n(191),n(192),n(193),n(194),n(177),n(195)},2364:function(e,t,n){"use strict";n.r(t);n(234),n(775),n(197),n(198),n(199),n(200),n(201);var i=n(31),r=n(167),a=n(166),o=n(178),s=n(182),l=n(240),u=n(243),c=n(241),d=n(183);n(279);Object(r.a)(),Object(a.a)(),i.a.register("logo",o.default),i.a.register("avatar",s.default),i.a.register("braintree-payment-form",l.default),i.a.register("inline-purchase",u.default),i.a.register("expandable",c.default),i.a.register("validate-form",d.default),i.a.registerContext({context:n(2365),suffix:"component",useNamespaces:!0,topNamespace:"web--embed"}),i.a.registerContext({context:n(2366),suffix:"component",useNamespaces:!0,topNamespace:"web--embed-not-allowed"}),i.a.registerContext({context:n(1078),suffix:"component",useNamespaces:!0,topNamespace:"general--background-fixed"})},2365:function(e,t,n){var i={"./body_component/body_component.js":1064,"./error_component/error_component.js":1066,"./player_component/player_component.js":1067};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=2365},2366:function(e,t,n){var i={"./container_component/container_component.js":1068,"./header_component/header_component.js":1070};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=2366},24:function(e,t,n){"use strict";var i=n(55);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return Object.keys(e).reduce((function(t,n){return a(a({},t),{},o({},Object(i.a)(n),e[n]))}),{})}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e,r=i.style.cssText.replace(/^\s*|\s*$|(;)\s*|(:)\s*/g,"$1$2").split(";").reduce((function(e,t){if(!t)return e;var n=t.split(":");return a(a({},e),{},o({},n[0],n[1]))}),{});if(!t)return r;r=n?a(a({},r),s(t)):s(t);var l=Object.keys(r).reduce((function(e,t){return"".concat(e," ").concat(t,": ").concat(r[t],";")}),"");return i.style.cssText=l,r}},240:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var i=n(3),r=n(0);n(271),n(272);function a(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=f(e);if(t){var r=f(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(p,e);var t,n,i,s=d(p);function p(){return l(this,p),s.apply(this,arguments)}return t=p,(n=[{key:"initialize",value:function(){this.setupForm()}},{key:"disablePayButton",value:function(){this.payButtonTarget.classList.add("disabled"),this.payButtonTarget.disabled=!0}},{key:"enablePayButton",value:function(){this.payButtonTarget.classList.remove("disabled"),this.payButtonTarget.disabled=!1}},{key:"showLoader",value:function(){Object(r.lb)(this.payButtonTarget)}},{key:"hideLoader",value:function(){Object(r.gb)(this.payButtonTarget)}},{key:"resetAndShowErrors",value:function(){this.errorsTarget.innerHTML="",this.errorsTarget.classList.remove("hidden")}},{key:"addErrors",value:function(e,t){if(""===e?(this.errorsTarget.innerHTML="",this.errorsTarget.classList.add("hidden")):(this.errorsTarget.innerHTML="<li>".concat(e,"</li>"),this.errorsTarget.classList.remove("hidden")),t){var n,i=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}(t);try{for(i.s();!(n=i.n()).done;)n.value.classList.add("error")}catch(r){i.e(r)}finally{i.f()}}}},{key:"appendError",value:function(e){this.errorsTarget.innerHTML+="<li>".concat(e,"</li>")}},{key:"removeErrors",value:function(){this.errorsTarget.innerHTML="",this.errorsTarget.classList.add("hidden");for(var e=0,t=[this.ccNumberTarget,this.ccExpirationTarget,this.ccCvvTarget];e<t.length;e++)t[e].classList.remove("error")}},{key:"reportErrorToSlidesLive",value:function(e){Object(r.b)("POST",this.element.dataset.braintreeErrorUrl,JSON.stringify({error:JSON.stringify(e)}),{})}},{key:"setupBraintreeHostedFields",value:function(){return braintree.hostedFields.create({authorization:this.braintreeClientToken,styles:{input:{"font-size":"16px","font-family":"monospace"}},fields:{number:{selector:"#ccNumber",placeholder:this.ccNumberTarget.dataset.placeholder},cvv:{selector:"#ccCvv",placeholder:this.ccCvvTarget.dataset.placeholder},expirationDate:{selector:"#ccExpiration",placeholder:this.ccExpirationTarget.dataset.placeholder}}})}},{key:"setupBraintreeThreeDS",value:function(){return braintree.threeDSecure.create({authorization:this.braintreeClientToken,version:2,cardinalSDKConfig:{maxRequestRetries:3}})}},{key:"setupBraintreeComponentsWithoutThreeDS",value:function(){return Promise.all([this.setupBraintreeHostedFields()])}},{key:"setupBraintreeComponentsWithThreeDS",value:function(){return Promise.all([this.setupBraintreeHostedFields(),this.setupBraintreeThreeDS()])}},{key:"setupBraintreeComponents",value:function(){return this.verifyWithThreeDS?this.setupBraintreeComponentsWithThreeDS():this.setupBraintreeComponentsWithoutThreeDS()}},{key:"addFieldError",value:function(e,t,n){"number"===e?this.addErrors(n?"Invalid card number.":"",[t]):"cvv"===e?this.addErrors(n?"Invalid CVV code.":"",[t]):"expirationDate"===e&&this.addErrors(n?"Invalid expiration date.":"",[t])}},{key:"setupForm",value:function(){var e=this;this.disablePayButton(),this.setupBraintreeComponents().then((function(t){e.hostedFields=t[0],e.threeDS=t[1],e.hostedFields.on("validityChange",(function(e){var t=e.fields[e.emittedBy];t.isValid?t.container.classList.remove("error"):t.container.classList.add("error")})),e.enablePayButton()})).catch((function(t){e.addErrors("Braintree error.<br>Contact us."),console.warn("Braintree setup error:",t),e.reportErrorToSlidesLive(t)}))}},{key:"pay",value:function(e){var t=this;e.preventDefault(),this.paymentMethodNonceTarget.value="",this.removeErrors();for(var n=!0,i=this.hostedFields.getState(),r=0,a=Object.keys(i.fields);r<a.length;r++){var o=a[r],s=i.fields[o];s.isValid||(n=!1,this.addFieldError(o,s.container,!0))}if(n){this.showLoader();var l=function(e){if(console.warn("Payment error:",e),t.reportErrorToSlidesLive(e),"HOSTED_FIELDS_FIELDS_EMPTY"===e.code)t.addErrors("Fill in the payment form.");else if("HOSTED_FIELDS_FIELDS_INVALID"===e.code)if(e.details&&e.details.invalidFields)for(var n=0,i=Object.keys(e.details.invalidFields);n<i.length;n++){var r=i[n];t.addFieldError(r,e.details.invalidFields[r],!0)}else t.addErrors("",[t.ccNumberTarget,t.ccExpirationTarget,t.ccCvvTarget]);else if("HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE"===e.code)t.addErrors("");else if("HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED"===e.code)t.addErrors("CVV code verification failed.",[t.ccCvvTarget]);else if("HOSTED_FIELDS_FAILED_TOKENIZATION"===e.code)t.addErrors("Is you card valid?<br>Contact us.");else if("HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR"===e.code)t.addErrors("Payment provider cannot be contacted.<br>Try again later.");else if("THREEDS_AUTHENTICATION_IN_PROGRESS"===e.code)t.addErrors("3D Secure authentication is in progress.<br>Try again.");else if("THREEDS_MISSING_VERIFY_CARD_OPTION"===e.code)t.addErrors("3D Secure required option is missing.<br>Contact us.");else if("THREEDS_JWT_AUTHENTICATION_FAILED"===e.code)t.addErrors("3D Secure provider API error.<br>Try again later.");else if("THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR"===e.code)t.addErrors("3D Secure nonce not found.<br>Try again.");else if("THREEDS_LOOKUP_VALIDATION_ERROR"===e.code){if(t.resetAndShowErrors(),e.details&&e.details.originalError){var a=e.details.originalError;if(a.details&&a.details.originalError){var o=a.details.originalError;o.error&&o.error.message&&t.appendError(o.error.message)}}t.appendError("3D Secure validation failed.<br>Try again.")}else"THREEDS_LOOKUP_ERROR"===e.code?t.addErrors("Unknown error during 3D Secure lookup.<br>Try again later."):"THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT"===e.code?t.addErrors("3D secure authentication canceled.<br>Try again."):"THREEDS_INLINE_IFRAME_DETAILS_INCORRECT"===e.code?t.addErrors("Unknown error during 3D Secure.<br>Try again later."):t.addErrors("Unknown payment error.<br>Contact us.<br>".concat(JSON.stringify(e)));t.hideLoader()};this.verifyWithThreeDS?this.hostedFields.tokenize(this.braintreeHostedFieldsTokenizeOptions).then((function(e){return t.threeDS.verifyCard(t.braintreeThreeDSVerifyCardOptions(e))})).then((function(e){t.submitFormToSlidesLiveServer(e)})).catch((function(e){return l(e)})):this.hostedFields.tokenize(this.braintreeHostedFieldsTokenizeOptions).then((function(e){t.submitFormToSlidesLiveServer(e)})).catch((function(e){return l(e)}))}}},{key:"submitFormToSlidesLiveServer",value:function(e){var t,n=e.threeDSecureInfo;if(n?n.liabilityShiftPossible?n.liabilityShifted||("authenticate_error"===n.status?t="3D-Secure authentication error.<br>Try again.":"authenticate_failed"===n.status?t="3D-Secure authentication failed.<br>Try again.":"authenticate_signature_verification_failed"===n.status?t="3D-Secure authentication signature error.<br>Try again.":"authenticate_unable_to_authenticate"===n.status?t="3D-Secure authentication bank error.<br>Try again.":"lookup_enrolled"===n.status?t="3D-Secure authentication cancelled.<br>Try again.":"challenge_required"===n.status?t="3D-Secure authentication required.<br>Try again.":"authenticate_rejected"===n.status?t="3D-Secure authentication rejected.<br>Try again.":(t="Unknown 3D-Secure error.<br>Try again.",console.warn("Liability did not shift:",e))):"authentication_unavailable"===n.status?t="3D-Secure authentication timeout.<br>Try again.":"lookup_bypassed"===n.status||("lookup_error"===n.status?t="3D-Secure lookup error.<br>Try again.":"lookup_not_enrolled"===n.status||"unsupported_card"===n.status||(t="3D-Secure unknown lookup error.<br>Try again.",console.warn("Liability shift not possible:",e))):this.verifyWithThreeDS&&(t="3D-Secure authentication required.<br>Try again.",console.warn("3DS info not found:",e)),t)return this.addErrors(t),void this.hideLoader();this.paymentMethodNonceTarget.value=e.nonce,Object(r.I)(this.element)}},{key:"braintreeHostedFieldsTokenizeOptions",get:function(){var e=this.clientInfo,t=a(e.customer_name.split(" ")),n=t[0],i=t.slice(1).join(" "),o={cardholderName:e.customer_name,billingAddress:{company:e.company.name,firstName:n,lastName:i,streetAddress:e.address.street_1,extendedAddress:e.address.street_2,locality:e.address.city,region:e.address.state,postalCode:e.address.postal_code,countryCodeAlpha2:e.address.country}};return o=function e(t){for(var n=0,i=Object.keys(t);n<i.length;n++){var a=i[n];Object(r.T)(t[a])&&(t[a]=e(t[a])),(!t[a]||""===t[a]||Object(r.T)(t[a])&&0===Object.keys(t[a]).length)&&delete t[a]}return t}(o)}},{key:"braintreeThreeDSVerifyCardOptions",value:function(e){var t=this.clientInfo,n=a((t.customer_name.normalize?t.customer_name.normalize("NFKD").replace(/[^a-z0-9 ]/gi,""):t.customer_name.replace(/[^a-z0-9 ]/gi,"")).split(" ")),i=n[0],r=n.slice(1).join(" ");return{onLookupComplete:function(e,t){t()},amount:this.element.dataset.amount,nonce:e.nonce,bin:e.details.bin,email:t.email,billingAddress:{givenName:i,surname:r,streetAddress:t.address.street_1,extendedAddress:t.address.street_2,locality:t.address.city,region:t.address.state,postalCode:t.address.postal_code,countryCodeAlpha2:t.address.country}}}},{key:"clientInfoValueForInput",value:function(e){var t=this.element.querySelector('input[name="'.concat(e,'"], select[name="').concat(e,'"]'));return t?t.value:""}},{key:"fireError",value:function(e){Object(r.s)(this.element,"braintree-payment-form:error",{detail:e.detail[0]})}},{key:"fireSuccess",value:function(e){Object(r.s)(this.element,"braintree-payment-form:success",{detail:e.detail[0]})}},{key:"clientInfo",get:function(){return this.element.dataset.clientInfo&&""!==this.element.dataset.clientInfo?JSON.parse(this.element.dataset.clientInfo):{customer_name:this.clientInfoValueForInput("billing[customer_name]"),email:this.clientInfoValueForInput("billing[email]"),address:{street_1:this.clientInfoValueForInput("billing[address][street_1]"),street_2:this.clientInfoValueForInput("billing[address][street_2]"),city:this.clientInfoValueForInput("billing[address][city]"),state:this.clientInfoValueForInput("billing[address][state]"),country:this.clientInfoValueForInput("billing[address][country]"),postal_code:this.clientInfoValueForInput("billing[address][postal_code]")},company:{name:this.clientInfoValueForInput("billing[company][name]"),reg_no:this.clientInfoValueForInput("billing[company][reg_no]"),vat_reg_no:this.clientInfoValueForInput("billing[company][vat_reg_no]")}}}},{key:"braintreeClientToken",get:function(){return this.element.getAttribute("data-braintree-client-token")}},{key:"verifyWithThreeDS",get:function(){return"true"===this.element.getAttribute("data-braintree-require-three-ds")}}])&&u(t.prototype,n),i&&u(t,i),p}(i.b);h.targets=["payButton","paymentMethodNonce","ccNumber","ccExpiration","ccCvv","errors"]},241:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(3),r=n(0);n(273);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,n,i,u=l(c);function c(){return a(this,c),u.apply(this,arguments)}return t=c,(n=[{key:"toggle",value:function(e){var t=e.target.getAttribute("data-expandable"),n=this.findContentElement(t);Object(r.V)(n)?Object(r.pb)(n):Object(r.ob)(n)}},{key:"findContentElement",value:function(e){return e?this.element.querySelector(".expandable__content[data-expandable='".concat(e,"']")):this.element.querySelector(".expandable__content")}}])&&o(t.prototype,n),i&&o(t,i),c}(i.b)},243:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var i=n(3),r=n(107),a=n.n(r),o=n(0);n(275);function s(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(l,e);var t,n,i,r=p(l);function l(){return u(this,l),r.apply(this,arguments)}return t=l,(n=[{key:"initialize",value:function(){this.toggleStateSelect()}},{key:"toggleError",value:function(e,t){var n=t&&t[e.name];e.classList.toggle("error",!!n)}},{key:"validateElementFromEvent",value:function(e){this.validateElement(e.target,!0)}},{key:"validateElement",value:function(e,t){if(t||e.classList.contains("error")){var n=a()(this.element,this.validationConstraints);this.toggleError(e,n)}return!1}},{key:"validateForm",value:function(e){var t=a()(this.element,this.validationConstraints);if(t){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();var n,i=s(this.element.querySelectorAll("input[name], select[name]"));try{for(i.s();!(n=i.n()).done;){var r=n.value;this.toggleError(r,t)}}catch(o){i.e(o)}finally{i.f()}}}},{key:"toggleStateSelect",value:function(){var e=this;"US"===this.countrySelectTarget.value?Object(o.V)(this.stateSelectTarget)||(this.countrySelectTarget.closest(".field__container").classList.add("border__bottom"),Object(o.ob)(this.stateSelectTarget,{complete:function(){}})):Object(o.V)(this.stateSelectTarget)&&Object(o.pb)(this.stateSelectTarget,{complete:function(){e.countrySelectTarget.closest(".field__container").classList.remove("border__bottom")}})}},{key:"validationConstraints",get:function(){return{"billing[customer_name]":{presence:!0},"billing[email]":{presence:!0,email:!0},"billing[address][country]":{presence:!0},"billing[address][state]":function(e,t,n,i,r){return{presence:"US"===t["billing[address][country]"]}}}}}])&&c(t.prototype,n),i&&c(t,i),l}(i.b);m.targets=["countrySelect","stateSelect"]},25:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path d="M0 0h24v24H0z" fill="none"/>\n  <path d="M15.41 5.41L14 4l-8 8 8 8 1.41-1.41L8.83 12z"/>\n</svg>\n'},26:function(e,t,n){"use strict";var i=n(2),r=n(16);t.a=function(e){return!!Object(i.a)(e)&&(!Object(r.a)(e)&&"object"===typeof e)}},264:function(e,t,n){e.exports={"tippy-tooltip":"tippy-tooltip","slideslive-theme":"slideslive-theme","tippy-popper":"tippy-popper","tippy-arrow":"tippy-arrow"}},265:function(e,t,n){},266:function(e,t,n){e.exports={animatedCheckbox:"animatedCheckbox","animatedCheckbox__icon-container":"animatedCheckbox__icon-container",animatedCheckbox__icon:"animatedCheckbox__icon",animatedCheckbox__label:"animatedCheckbox__label","shrink-bounce":"shrink-bounce","checkbox-check":"checkbox-check",animatedCheckbox__container:"animatedCheckbox__container",error:"error","animatedCheckbox__container--light":"animatedCheckbox__container--light","checkbox-check-light":"checkbox-check-light","animatedCheckbox__container--fullOpacity":"animatedCheckbox__container--fullOpacity"}},267:function(e,t,n){e.exports={animatedRadio:"animatedRadio",animatedRadio__label:"animatedRadio__label",animatedRadio__container:"animatedRadio__container",error:"error","animatedRadio__container--light":"animatedRadio__container--light","animatedRadio__container--fullOpacity":"animatedRadio__container--fullOpacity"}},268:function(e,t,n){e.exports={animatedSwitcher:"animatedSwitcher",animatedSwitcher__icon:"animatedSwitcher__icon",animatedSwitcher__label:"animatedSwitcher__label","pulse-in":"pulse-in",animatedSwitcher__container:"animatedSwitcher__container",error:"error","animatedSwitcher__container--light":"animatedSwitcher__container--light","animatedSwitcher__container--redWhileLeft":"animatedSwitcher__container--redWhileLeft","animatedSwitcher__icon-container":"animatedSwitcher__icon-container","pulse-out":"pulse-out","animatedSwitcher__container--fullOpacity":"animatedSwitcher__container--fullOpacity"}},269:function(e,t,n){e.exports={fieldBox:"fieldBox",fieldBox__container:"fieldBox__container","fieldBox--monospace":"fieldBox--monospace",labelBox:"labelBox","fieldBox--filled":"fieldBox--filled","fieldBox--alwaysActive":"fieldBox--alwaysActive","fieldBox--fullOpacity":"fieldBox--fullOpacity","choices__item--selectable":"choices__item--selectable",error:"error","fieldBox__container--select":"fieldBox__container--select",iconSvg:"iconSvg","fieldBox__container--noLabel":"fieldBox__container--noLabel","fieldBox__container--noArrow":"fieldBox__container--noArrow","fieldBox__container--incDec":"fieldBox__container--incDec","fieldBox__part--select":"fieldBox__part--select","fieldBox__container--multiple":"fieldBox__container--multiple","fieldBox__container--file":"fieldBox__container--file",fieldBox__part:"fieldBox__part","fieldBox__part--price":"fieldBox__part--price","fieldBox__part--currency":"fieldBox__part--currency","fieldBox__container--linkified":"fieldBox__container--linkified",fieldBox__openLink:"fieldBox__openLink",fieldBox__errorMsg:"fieldBox__errorMsg","fieldBox__container--fullOpacity":"fieldBox__container--fullOpacity","fieldBox__container--green":"fieldBox__container--green","fieldBox__container--red":"fieldBox__container--red",choices__input:"choices__input",newFieldChoices:"newFieldChoices",choices__inner:"choices__inner",choices__list:"choices__list",choices__item:"choices__item","choices__input--cloned":"choices__input--cloned","choices__list--dropdown":"choices__list--dropdown","choices__list--single":"choices__list--single",choices__button:"choices__button","choices__list--multiple":"choices__list--multiple","is-highlighted":"is-highlighted",labelBox__content:"labelBox__content","fieldBoxForm--small":"fieldBoxForm--small","fieldBoxForm--compact":"fieldBoxForm--compact",fieldBoxSpacing:"fieldBoxSpacing",animatedCheckbox__container:"animatedCheckbox__container",animatedRadio__container:"animatedRadio__container","fieldBoxChoices--oneLine":"fieldBoxChoices--oneLine"}},270:function(e,t,n){e.exports={fieldLine:"fieldLine",labelLine:"labelLine",graphicLine:"graphicLine","fieldLine--filled":"fieldLine--filled",fieldLine__container:"fieldLine__container",error:"error","fieldLine__container--noLabel":"fieldLine__container--noLabel","fieldLine__container--select":"fieldLine__container--select",iconSvg:"iconSvg","fieldLine__container--light":"fieldLine__container--light",labelLine__content:"labelLine__content"}},271:function(e,t,n){e.exports=n.p+"media/components/general/braintree_payment_form/card-icon-db19ea6199eda67a49c7d0ad56ed21f0.png"},272:function(e,t,n){e.exports={braintreePaymentForm:"braintreePaymentForm",fieldset:"fieldset",field__hostedInput:"field__hostedInput",error:"error",field__container:"field__container",border__bottom:"border__bottom",border__right:"border__right",field__number:"field__number",field__expiration:"field__expiration",field__cvv:"field__cvv"}},273:function(e,t,n){e.exports={expandable__trigger:"expandable__trigger",expandable__content:"expandable__content",visible:"visible"}},275:function(e,t,n){e.exports={inlinePurchase:"inlinePurchase",inlinePurchase__content:"inlinePurchase__content",inlinePurchase__errors:"inlinePurchase__errors",text__paragraph:"text__paragraph"}},279:function(e,t,n){"use strict";n.r(t);n(280),n(281)},280:function(e,t,n){e.exports={paypalSecured:"paypalSecured"}},281:function(e,t,n){e.exports=n.p+"media/components/general/paypal_secured/paypal-secured-ec8079b664e56ba045eca631c7e48a77.png"},3:function(e,t,n){"use strict";n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return U}));var i=function(){function e(e,t){this.eventTarget=e,this.eventName=t,this.unorderedBindings=new Set}return e.prototype.connect=function(){this.eventTarget.addEventListener(this.eventName,this,!1)},e.prototype.disconnect=function(){this.eventTarget.removeEventListener(this.eventName,this,!1)},e.prototype.bindingConnected=function(e){this.unorderedBindings.add(e)},e.prototype.bindingDisconnected=function(e){this.unorderedBindings.delete(e)},e.prototype.handleEvent=function(e){for(var t=function(e){if("immediatePropagationStopped"in e)return e;var t=e.stopImmediatePropagation;return Object.assign(e,{immediatePropagationStopped:!1,stopImmediatePropagation:function(){this.immediatePropagationStopped=!0,t.call(this)}})}(e),n=0,i=this.bindings;n<i.length;n++){var r=i[n];if(t.immediatePropagationStopped)break;r.handleEvent(t)}},Object.defineProperty(e.prototype,"bindings",{get:function(){return Array.from(this.unorderedBindings).sort((function(e,t){var n=e.index,i=t.index;return n<i?-1:n>i?1:0}))},enumerable:!0,configurable:!0}),e}();var r=function(){function e(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}return e.prototype.start=function(){this.started||(this.started=!0,this.eventListeners.forEach((function(e){return e.connect()})))},e.prototype.stop=function(){this.started&&(this.started=!1,this.eventListeners.forEach((function(e){return e.disconnect()})))},Object.defineProperty(e.prototype,"eventListeners",{get:function(){return Array.from(this.eventListenerMaps.values()).reduce((function(e,t){return e.concat(Array.from(t.values()))}),[])},enumerable:!0,configurable:!0}),e.prototype.bindingConnected=function(e){this.fetchEventListenerForBinding(e).bindingConnected(e)},e.prototype.bindingDisconnected=function(e){this.fetchEventListenerForBinding(e).bindingDisconnected(e)},e.prototype.handleError=function(e,t,n){void 0===n&&(n={}),this.application.handleError(e,"Error "+t,n)},e.prototype.fetchEventListenerForBinding=function(e){var t=e.eventTarget,n=e.eventName;return this.fetchEventListener(t,n)},e.prototype.fetchEventListener=function(e,t){var n=this.fetchEventListenerMapForEventTarget(e),i=n.get(t);return i||(i=this.createEventListener(e,t),n.set(t,i)),i},e.prototype.createEventListener=function(e,t){var n=new i(e,t);return this.started&&n.connect(),n},e.prototype.fetchEventListenerMapForEventTarget=function(e){var t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t},e}(),a=/^((.+?)(@(window|document))?->)?(.+?)(#(.+))?$/;function o(e){return"window"==e?window:"document"==e?document:void 0}var s=function(){function e(e,t,n){this.element=e,this.index=t,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||function(e){var t=e.tagName.toLowerCase();if(t in l)return l[t](e)}(e)||u("missing event name"),this.identifier=n.identifier||u("missing identifier"),this.methodName=n.methodName||u("missing method name")}return e.forToken=function(e){return new this(e.element,e.index,(t=e.content,{eventTarget:o((n=t.trim().match(a)||[])[4]),eventName:n[2],identifier:n[5],methodName:n[7]}));var t,n},e.prototype.toString=function(){var e=this.eventTargetName?"@"+this.eventTargetName:"";return""+this.eventName+e+"->"+this.identifier+"#"+this.methodName},Object.defineProperty(e.prototype,"eventTargetName",{get:function(){return(e=this.eventTarget)==window?"window":e==document?"document":void 0;var e},enumerable:!0,configurable:!0}),e}(),l={a:function(e){return"click"},button:function(e){return"click"},form:function(e){return"submit"},input:function(e){return"submit"==e.getAttribute("type")?"click":"change"},select:function(e){return"change"},textarea:function(e){return"change"}};function u(e){throw new Error(e)}var c=function(){function e(e,t){this.context=e,this.action=t}return Object.defineProperty(e.prototype,"index",{get:function(){return this.action.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventTarget",{get:function(){return this.action.eventTarget},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!0,configurable:!0}),e.prototype.handleEvent=function(e){this.willBeInvokedByEvent(e)&&this.invokeWithEvent(e)},Object.defineProperty(e.prototype,"eventName",{get:function(){return this.action.eventName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"method",{get:function(){var e=this.controller[this.methodName];if("function"==typeof e)return e;throw new Error('Action "'+this.action+'" references undefined method "'+this.methodName+'"')},enumerable:!0,configurable:!0}),e.prototype.invokeWithEvent=function(e){try{this.method.call(this.controller,e)}catch(u){var t=this,n={identifier:t.identifier,controller:t.controller,element:t.element,index:t.index,event:e};this.context.handleError(u,'invoking action "'+this.action+'"',n)}},e.prototype.willBeInvokedByEvent=function(e){var t=e.target;return this.element===t||(!(t instanceof Element&&this.element.contains(t))||this.scope.containsElement(t))},Object.defineProperty(e.prototype,"controller",{get:function(){return this.context.controller},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"methodName",{get:function(){return this.action.methodName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scope",{get:function(){return this.context.scope},enumerable:!0,configurable:!0}),e}(),d=function(){function e(e,t){var n=this;this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver((function(e){return n.processMutations(e)}))}return e.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,subtree:!0}),this.refresh())},e.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},e.prototype.refresh=function(){if(this.started){for(var e=new Set(this.matchElementsInTree()),t=0,n=Array.from(this.elements);t<n.length;t++){var i=n[t];e.has(i)||this.removeElement(i)}for(var r=0,a=Array.from(e);r<a.length;r++){i=a[r];this.addElement(i)}}},e.prototype.processMutations=function(e){if(this.started)for(var t=0,n=e;t<n.length;t++){var i=n[t];this.processMutation(i)}},e.prototype.processMutation=function(e){"attributes"==e.type?this.processAttributeChange(e.target,e.attributeName):"childList"==e.type&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))},e.prototype.processAttributeChange=function(e,t){var n=e;this.elements.has(n)?this.delegate.elementAttributeChanged&&this.matchElement(n)?this.delegate.elementAttributeChanged(n,t):this.removeElement(n):this.matchElement(n)&&this.addElement(n)},e.prototype.processRemovedNodes=function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var i=n[t],r=this.elementFromNode(i);r&&this.processTree(r,this.removeElement)}},e.prototype.processAddedNodes=function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var i=n[t],r=this.elementFromNode(i);r&&this.elementIsActive(r)&&this.processTree(r,this.addElement)}},e.prototype.matchElement=function(e){return this.delegate.matchElement(e)},e.prototype.matchElementsInTree=function(e){return void 0===e&&(e=this.element),this.delegate.matchElementsInTree(e)},e.prototype.processTree=function(e,t){for(var n=0,i=this.matchElementsInTree(e);n<i.length;n++){var r=i[n];t.call(this,r)}},e.prototype.elementFromNode=function(e){if(e.nodeType==Node.ELEMENT_NODE)return e},e.prototype.elementIsActive=function(e){return e.isConnected==this.element.isConnected&&this.element.contains(e)},e.prototype.addElement=function(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))},e.prototype.removeElement=function(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))},e}(),p=function(){function e(e,t,n){this.attributeName=t,this.delegate=n,this.elementObserver=new d(e,this)}return Object.defineProperty(e.prototype,"element",{get:function(){return this.elementObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selector",{get:function(){return"["+this.attributeName+"]"},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.elementObserver.start()},e.prototype.stop=function(){this.elementObserver.stop()},e.prototype.refresh=function(){this.elementObserver.refresh()},Object.defineProperty(e.prototype,"started",{get:function(){return this.elementObserver.started},enumerable:!0,configurable:!0}),e.prototype.matchElement=function(e){return e.hasAttribute(this.attributeName)},e.prototype.matchElementsInTree=function(e){var t=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return t.concat(n)},e.prototype.elementMatched=function(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)},e.prototype.elementUnmatched=function(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)},e.prototype.elementAttributeChanged=function(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)},e}();function f(e,t,n){m(e,t).add(n)}function h(e,t,n){m(e,t).delete(n),function(e,t){var n=e.get(t);null!=n&&0==n.size&&e.delete(t)}(e,t)}function m(e,t){var n=e.get(t);return n||(n=new Set,e.set(t,n)),n}var v,y=function(){function e(){this.valuesByKey=new Map}return Object.defineProperty(e.prototype,"values",{get:function(){return Array.from(this.valuesByKey.values()).reduce((function(e,t){return e.concat(Array.from(t))}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return Array.from(this.valuesByKey.values()).reduce((function(e,t){return e+t.size}),0)},enumerable:!0,configurable:!0}),e.prototype.add=function(e,t){f(this.valuesByKey,e,t)},e.prototype.delete=function(e,t){h(this.valuesByKey,e,t)},e.prototype.has=function(e,t){var n=this.valuesByKey.get(e);return null!=n&&n.has(t)},e.prototype.hasKey=function(e){return this.valuesByKey.has(e)},e.prototype.hasValue=function(e){return Array.from(this.valuesByKey.values()).some((function(t){return t.has(e)}))},e.prototype.getValuesForKey=function(e){var t=this.valuesByKey.get(e);return t?Array.from(t):[]},e.prototype.getKeysForValue=function(e){return Array.from(this.valuesByKey).filter((function(t){t[0];return t[1].has(e)})).map((function(e){var t=e[0];e[1];return t}))},e}(),b=(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),g=(function(e){function t(){var t=e.call(this)||this;return t.keysByValue=new Map,t}b(t,e),Object.defineProperty(t.prototype,"values",{get:function(){return Array.from(this.keysByValue.keys())},enumerable:!0,configurable:!0}),t.prototype.add=function(t,n){e.prototype.add.call(this,t,n),f(this.keysByValue,n,t)},t.prototype.delete=function(t,n){e.prototype.delete.call(this,t,n),h(this.keysByValue,n,t)},t.prototype.hasValue=function(e){return this.keysByValue.has(e)},t.prototype.getKeysForValue=function(e){var t=this.keysByValue.get(e);return t?Array.from(t):[]}}(y),function(){function e(e,t,n){this.attributeObserver=new p(e,t,this),this.delegate=n,this.tokensByElement=new y}return Object.defineProperty(e.prototype,"started",{get:function(){return this.attributeObserver.started},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.attributeObserver.start()},e.prototype.stop=function(){this.attributeObserver.stop()},e.prototype.refresh=function(){this.attributeObserver.refresh()},Object.defineProperty(e.prototype,"element",{get:function(){return this.attributeObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributeName",{get:function(){return this.attributeObserver.attributeName},enumerable:!0,configurable:!0}),e.prototype.elementMatchedAttribute=function(e){this.tokensMatched(this.readTokensForElement(e))},e.prototype.elementAttributeValueChanged=function(e){var t=this.refreshTokensForElement(e),n=t[0],i=t[1];this.tokensUnmatched(n),this.tokensMatched(i)},e.prototype.elementUnmatchedAttribute=function(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))},e.prototype.tokensMatched=function(e){var t=this;e.forEach((function(e){return t.tokenMatched(e)}))},e.prototype.tokensUnmatched=function(e){var t=this;e.forEach((function(e){return t.tokenUnmatched(e)}))},e.prototype.tokenMatched=function(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)},e.prototype.tokenUnmatched=function(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)},e.prototype.refreshTokensForElement=function(e){var t,n,i,r=this.tokensByElement.getValuesForKey(e),a=this.readTokensForElement(e),o=(t=r,n=a,i=Math.max(t.length,n.length),Array.from({length:i},(function(e,i){return[t[i],n[i]]}))).findIndex((function(e){return!function(e,t){return e&&t&&e.index==t.index&&e.content==t.content}(e[0],e[1])}));return-1==o?[[],[]]:[r.slice(o),a.slice(o)]},e.prototype.readTokensForElement=function(e){var t=this.attributeName;return function(e,t,n){return e.trim().split(/\s+/).filter((function(e){return e.length})).map((function(e,i){return{element:t,attributeName:n,content:e,index:i}}))}(e.getAttribute(t)||"",e,t)},e}());var k=function(){function e(e,t,n){this.tokenListObserver=new g(e,t,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}return Object.defineProperty(e.prototype,"started",{get:function(){return this.tokenListObserver.started},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.tokenListObserver.start()},e.prototype.stop=function(){this.tokenListObserver.stop()},e.prototype.refresh=function(){this.tokenListObserver.refresh()},Object.defineProperty(e.prototype,"element",{get:function(){return this.tokenListObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributeName",{get:function(){return this.tokenListObserver.attributeName},enumerable:!0,configurable:!0}),e.prototype.tokenMatched=function(e){var t=e.element,n=this.fetchParseResultForToken(e).value;n&&(this.fetchValuesByTokenForElement(t).set(e,n),this.delegate.elementMatchedValue(t,n))},e.prototype.tokenUnmatched=function(e){var t=e.element,n=this.fetchParseResultForToken(e).value;n&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,n))},e.prototype.fetchParseResultForToken=function(e){var t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t},e.prototype.fetchValuesByTokenForElement=function(e){var t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t},e.prototype.parseToken=function(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(u){return{error:u}}},e}(),w=function(){function e(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}return e.prototype.start=function(){this.valueListObserver||(this.valueListObserver=new k(this.element,this.actionAttribute,this),this.valueListObserver.start())},e.prototype.stop=function(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())},Object.defineProperty(e.prototype,"element",{get:function(){return this.context.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actionAttribute",{get:function(){return this.schema.actionAttribute},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return this.context.schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bindings",{get:function(){return Array.from(this.bindingsByAction.values())},enumerable:!0,configurable:!0}),e.prototype.connectAction=function(e){var t=new c(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)},e.prototype.disconnectAction=function(e){var t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))},e.prototype.disconnectAllActions=function(){var e=this;this.bindings.forEach((function(t){return e.delegate.bindingDisconnected(t)})),this.bindingsByAction.clear()},e.prototype.parseValueForToken=function(e){var t=s.forToken(e);if(t.identifier==this.identifier)return t},e.prototype.elementMatchedValue=function(e,t){this.connectAction(t)},e.prototype.elementUnmatchedValue=function(e,t){this.disconnectAction(t)},e}(),_=function(){function e(e,t){this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new w(this,this.dispatcher);try{this.controller.initialize()}catch(u){this.handleError(u,"initializing controller")}}return e.prototype.connect=function(){this.bindingObserver.start();try{this.controller.connect()}catch(u){this.handleError(u,"connecting controller")}},e.prototype.disconnect=function(){try{this.controller.disconnect()}catch(u){this.handleError(u,"disconnecting controller")}this.bindingObserver.stop()},Object.defineProperty(e.prototype,"application",{get:function(){return this.module.application},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.module.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return this.application.schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dispatcher",{get:function(){return this.application.dispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentElement",{get:function(){return this.element.parentElement},enumerable:!0,configurable:!0}),e.prototype.handleError=function(e,t,n){void 0===n&&(n={});var i=this,r=i.identifier,a=i.controller,o=i.element;n=Object.assign({identifier:r,controller:a,element:o},n),this.application.handleError(e,"Error "+t,n)},e}(),S=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function T(e){var t=x(e);return t.bless(),t}var x=function(){function e(e){function t(){var n=this&&this instanceof t?this.constructor:void 0;return Reflect.construct(e,arguments,n)}return t.prototype=Object.create(e.prototype,{constructor:{value:t}}),Reflect.setPrototypeOf(t,e),t}try{return(t=e((function(){this.a.call(this)}))).prototype.a=function(){},new t,e}catch(u){return function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t}(e)}}var t}(),O=function(){function e(e,t){this.application=e,this.definition=function(e){return{identifier:e.identifier,controllerConstructor:T(e.controllerConstructor)}}(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this.definition.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controllerConstructor",{get:function(){return this.definition.controllerConstructor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contexts",{get:function(){return Array.from(this.connectedContexts)},enumerable:!0,configurable:!0}),e.prototype.connectContextForScope=function(e){var t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()},e.prototype.disconnectContextForScope=function(e){var t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())},e.prototype.fetchContextForScope=function(e){var t=this.contextsByScope.get(e);return t||(t=new _(this,e),this.contextsByScope.set(e,t)),t},e}(),E=function(){function e(e){this.scope=e}return Object.defineProperty(e.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),e.prototype.get=function(e){return e=this.getFormattedKey(e),this.element.getAttribute(e)},e.prototype.set=function(e,t){return e=this.getFormattedKey(e),this.element.setAttribute(e,t),this.get(e)},e.prototype.has=function(e){return e=this.getFormattedKey(e),this.element.hasAttribute(e)},e.prototype.delete=function(e){return!!this.has(e)&&(e=this.getFormattedKey(e),this.element.removeAttribute(e),!0)},e.prototype.getFormattedKey=function(e){return"data-"+this.identifier+"-"+e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()}))},e}();function P(e,t){return"["+e+'~="'+t+'"]'}var C=function(){function e(e){this.scope=e}return Object.defineProperty(e.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return this.scope.schema},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return null!=this.find(e)},e.prototype.find=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getSelectorForTargetNames(e);return this.scope.findElement(n)},e.prototype.findAll=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getSelectorForTargetNames(e);return this.scope.findAllElements(n)},e.prototype.getSelectorForTargetNames=function(e){var t=this;return e.map((function(e){return t.getSelectorForTargetName(e)})).join(", ")},e.prototype.getSelectorForTargetName=function(e){var t=this.identifier+"."+e;return P(this.schema.targetAttribute,t)},e}(),A=function(){function e(e,t,n){this.schema=e,this.identifier=t,this.element=n,this.targets=new C(this),this.data=new E(this)}return e.prototype.findElement=function(e){return this.findAllElements(e)[0]},e.prototype.findAllElements=function(e){var t=this.element.matches(e)?[this.element]:[],n=this.filterElements(Array.from(this.element.querySelectorAll(e)));return t.concat(n)},e.prototype.filterElements=function(e){var t=this;return e.filter((function(e){return t.containsElement(e)}))},e.prototype.containsElement=function(e){return e.closest(this.controllerSelector)===this.element},Object.defineProperty(e.prototype,"controllerSelector",{get:function(){return P(this.schema.controllerAttribute,this.identifier)},enumerable:!0,configurable:!0}),e}(),I=function(){function e(e,t,n){this.element=e,this.schema=t,this.delegate=n,this.valueListObserver=new k(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}return e.prototype.start=function(){this.valueListObserver.start()},e.prototype.stop=function(){this.valueListObserver.stop()},Object.defineProperty(e.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!0,configurable:!0}),e.prototype.parseValueForToken=function(e){var t=e.element,n=e.content,i=this.fetchScopesByIdentifierForElement(t),r=i.get(n);return r||(r=new A(this.schema,n,t),i.set(n,r)),r},e.prototype.elementMatchedValue=function(e,t){var n=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,n),1==n&&this.delegate.scopeConnected(t)},e.prototype.elementUnmatchedValue=function(e,t){var n=this.scopeReferenceCounts.get(t);n&&(this.scopeReferenceCounts.set(t,n-1),1==n&&this.delegate.scopeDisconnected(t))},e.prototype.fetchScopesByIdentifierForElement=function(e){var t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t},e}(),j=function(){function e(e){this.application=e,this.scopeObserver=new I(this.element,this.schema,this),this.scopesByIdentifier=new y,this.modulesByIdentifier=new Map}return Object.defineProperty(e.prototype,"element",{get:function(){return this.application.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return this.application.schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modules",{get:function(){return Array.from(this.modulesByIdentifier.values())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contexts",{get:function(){return this.modules.reduce((function(e,t){return e.concat(t.contexts)}),[])},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.scopeObserver.start()},e.prototype.stop=function(){this.scopeObserver.stop()},e.prototype.loadDefinition=function(e){this.unloadIdentifier(e.identifier);var t=new O(this.application,e);this.connectModule(t)},e.prototype.unloadIdentifier=function(e){var t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)},e.prototype.getContextForElementAndIdentifier=function(e,t){var n=this.modulesByIdentifier.get(t);if(n)return n.contexts.find((function(t){return t.element==e}))},e.prototype.handleError=function(e,t,n){this.application.handleError(e,t,n)},e.prototype.scopeConnected=function(e){this.scopesByIdentifier.add(e.identifier,e);var t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)},e.prototype.scopeDisconnected=function(e){this.scopesByIdentifier.delete(e.identifier,e);var t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)},e.prototype.connectModule=function(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach((function(t){return e.connectContextForScope(t)}))},e.prototype.disconnectModule=function(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach((function(t){return e.disconnectContextForScope(t)}))},e}(),L={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target"},M=function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{l(i.next(e))}catch(t){a(t)}}function s(e){try{l(i.throw(e))}catch(t){a(t)}}function l(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(o,s)}l((i=i.apply(e,t||[])).next())}))},R=function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=i[2&a[0]?"return":a[0]?"throw":"next"])&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[0,r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},D=function(){function e(e,t){void 0===e&&(e=document.documentElement),void 0===t&&(t=L),this.element=e,this.schema=t,this.dispatcher=new r(this),this.router=new j(this)}return e.start=function(t,n){var i=new e(t,n);return i.start(),i},e.prototype.start=function(){return M(this,void 0,void 0,(function(){return R(this,(function(e){switch(e.label){case 0:return[4,new Promise((function(e){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",e):e()}))];case 1:return e.sent(),this.router.start(),this.dispatcher.start(),[2]}}))}))},e.prototype.stop=function(){this.router.stop(),this.dispatcher.stop()},e.prototype.register=function(e,t){this.load({identifier:e,controllerConstructor:t})},e.prototype.load=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=Array.isArray(e)?e:[e].concat(n);r.forEach((function(e){return t.router.loadDefinition(e)}))},e.prototype.unload=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=Array.isArray(e)?e:[e].concat(n);r.forEach((function(e){return t.router.unloadIdentifier(e)}))},Object.defineProperty(e.prototype,"controllers",{get:function(){return this.router.contexts.map((function(e){return e.controller}))},enumerable:!0,configurable:!0}),e.prototype.getControllerForElementAndIdentifier=function(e,t){var n=this.router.getContextForElementAndIdentifier(e,t);return n?n.controller:null},e.prototype.handleError=function(e,t,n){console.error("%s\n\n%o\n\n%o",t,e,n)},e}();function N(e){var t=e.prototype;(function(e){var t=function(e){var t=[];for(;e;)t.push(e),e=Object.getPrototypeOf(e);return t}(e);return Array.from(t.reduce((function(e,t){return function(e){var t=e.targets;return Array.isArray(t)?t:[]}(t).forEach((function(t){return e.add(t)})),e}),new Set))})(e).forEach((function(e){var n,i,r;return i=t,(n={})[e+"Target"]={get:function(){var t=this.targets.find(e);if(t)return t;throw new Error('Missing target element "'+this.identifier+"."+e+'"')}},n[e+"Targets"]={get:function(){return this.targets.findAll(e)}},n["has"+function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(e)+"Target"]={get:function(){return this.targets.has(e)}},r=n,void Object.keys(r).forEach((function(e){if(!(e in i)){var t=r[e];Object.defineProperty(i,e,t)}}))}))}var U=function(){function e(e){this.context=e}return e.bless=function(){N(this)},Object.defineProperty(e.prototype,"application",{get:function(){return this.context.application},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scope",{get:function(){return this.context.scope},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"targets",{get:function(){return this.scope.targets},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.scope.data},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){},e.prototype.connect=function(){},e.prototype.disconnect=function(){},e.targets=[],e}()},31:function(e,t,n){"use strict";var i=n(113);n.d(t,"a",(function(){return i.a}))},35:function(e,t,n){"use strict";var i=n(2),r=n(16),a=n(26);function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}t.a=function e(t,n){if("string"===typeof t||"number"===typeof t)return t;var s,l;Object(i.a)(n)&&(s=n.prefix,l=n.originalParams);var u=[];l&&""!==l&&(u=[l]);var c=function(e,t){return t?"".concat(t,"[").concat(encodeURIComponent(e),"]"):encodeURIComponent(e)};return Object(r.a)(t)?t.forEach((function(t){if(Object(r.a)(t)){var n=e(t,{prefix:"".concat(s,"[]")});u=[].concat(o(u),[n])}else if(Object(a.a)(t)){var i=e(t,{prefix:s});u=[].concat(o(u),[i])}else if("boolean"===typeof t){var l="".concat(s,"=").concat(encodeURIComponent(t?"true":"false"));u=[].concat(o(u),[l])}else if("string"===typeof t||"number"===typeof t){var c="".concat(s,"=").concat(encodeURIComponent(t||""));u=[].concat(o(u),[c])}else"undefined"===typeof t||null===t||console.warn("toParamsQueryString: Unknown value type",typeof t,t)})):Object.keys(t).forEach((function(n){var i=t[n];if(Object(r.a)(i)){var l=e(i,{prefix:"".concat(c(n,s),"[]")});u=[].concat(o(u),[l])}else if(Object(a.a)(i)){var d=e(i,{prefix:c(n,s)});u=[].concat(o(u),[d])}else if("string"===typeof i||"number"===typeof i||"boolean"===typeof i){var p="".concat(c(n,s),"=").concat(encodeURIComponent(i||""));u=[].concat(o(u),[p])}else"undefined"===typeof i||null===i||console.warn("toParamsQueryString: Unknown value type",n,typeof i,i)})),u.join("&")}},36:function(e,t,n){"use strict";var i=n(2);function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(){var e,t,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!Object(i.a)(a)||""===a){for(e={},n=(t=new RegExp("[?&]([^&#]+)=([^&#]*)","g")).exec(window.location.search);n;)n[1]in e||(e=s(s({},e),{},l({},n[1],[]))),e=s(s({},e),{},l({},n[1],[].concat(r(e[n[1]]),[n[2]]))),n=t.exec(window.location.search);return e}if(t=new RegExp("[?&]".concat(a,"=([^&#]*)"),o),-1===o.indexOf("g"))return null===(e=t.exec(window.location.search))?null:e[1]||0;for(e=[],n=t.exec(window.location.search);n;)e=[].concat(r(e),[n[1]]),n=t.exec(window.location.search);return e}},37:function(e,t,n){"use strict";t.a=function(e){return Element.prototype.remove?e.remove():!!e.parentNode&&e.parentNode.removeChild(e)}},38:function(e,t,n){"use strict";var i=n(119);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a="undefined"!==typeof window,o=a&&navigator.userAgent,s=/MSIE |Trident\//.test(o),l=/UCBrowser\//.test(o),u=a&&/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,c={a11y:!0,allowHTML:!0,animateFill:!0,animation:"shift-away",appendTo:function(){return document.body},aria:"describedby",arrow:!1,arrowType:"sharp",boundary:"scrollParent",content:"",delay:[0,20],distance:10,duration:[325,275],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},placement:"top",popperOptions:{},role:"tooltip",showOnInit:!1,size:"regular",sticky:!1,target:"",theme:"dark",touch:!0,touchHold:!1,trigger:"mouseenter focus",updateDuration:0,wait:null,zIndex:9999},d=["arrow","arrowType","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],p=".tippy-popper",f=".tippy-tooltip",h=".tippy-content",m=".tippy-backdrop",v=".tippy-arrow",y=".tippy-roundarrow",b=a?Element.prototype:{},g=b.matches||b.matchesSelector||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector;function k(e){return[].slice.call(e)}function w(e,t){return(b.closest||function(e){for(var t=this;t;){if(g.call(t,e))return t;t=t.parentElement}}).call(e,t)}function _(e,t){for(;e;){if(t(e))return e;e=e.parentElement}}function S(e,t){return{}.hasOwnProperty.call(e,t)}function T(e,t,n){if(Array.isArray(e)){var i=e[t];return null==i?n:i}return e}function x(e,t){var n;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout((function(){return e.apply(i,r)}),t)}}function O(e,t){return e&&e.modifiers&&e.modifiers[t]}function E(e,t){return e.indexOf(t)>-1}function P(e){return!!e&&e.isVirtual||e instanceof Element}function C(e,t){return"function"===typeof e?e.apply(null,t):e}function A(e,t){e.filter((function(e){return"flip"===e.name}))[0].enabled=t}function I(){return document.createElement("div")}function j(e,t){e.innerHTML=t instanceof Element?t.innerHTML:t}function L(e,t){t.content instanceof Element?(j(e,""),e.appendChild(t.content)):e[t.allowHTML?"innerHTML":"textContent"]=t.content}function M(e){return{tooltip:e.querySelector(f),backdrop:e.querySelector(m),content:e.querySelector(h),arrow:e.querySelector(v)||e.querySelector(y)}}function R(e){e.setAttribute("data-inertia","")}function D(e){var t=I();return"round"===e?(t.className="tippy-roundarrow",j(t,'<svg viewBox="0 0 24 8" xmlns="http://www.w3.org/2000/svg"><path d="M3 8s2.021-.015 5.253-4.218C9.584 2.051 10.797 1.007 12 1c1.203-.007 2.416 1.035 3.761 2.782C19.012 8.005 21 8 21 8H3z"/></svg>')):t.className="tippy-arrow",t}function N(){var e=I();return e.className="tippy-backdrop",e.setAttribute("data-state","hidden"),e}function U(e,t){e.setAttribute("tabindex","-1"),t.setAttribute("data-interactive","")}function V(e,t){e.forEach((function(e){e&&(e.style.transitionDuration="".concat(t,"ms"))}))}function F(e,t,n){var i=l&&void 0!==document.body.style.WebkitTransition?"webkitTransitionEnd":"transitionend";e[t+"EventListener"](i,n)}function B(e){var t=e.getAttribute("x-placement");return t?t.split("-")[0]:""}function H(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function z(e,t,n){n.split(" ").forEach((function(n){e.classList[t](n+"-theme")}))}function q(e,t,n){var i=M(e),r=i.tooltip,a=i.content,o=i.backdrop,s=i.arrow;e.style.zIndex=n.zIndex,r.setAttribute("data-size",n.size),r.setAttribute("data-animation",n.animation),r.style.maxWidth=n.maxWidth+("number"===typeof n.maxWidth?"px":""),n.role?e.setAttribute("role",n.role):e.removeAttribute("role"),t.content!==n.content&&L(a,n),!t.animateFill&&n.animateFill?(r.appendChild(N()),r.setAttribute("data-animatefill","")):t.animateFill&&!n.animateFill&&(r.removeChild(o),r.removeAttribute("data-animatefill")),!t.arrow&&n.arrow?r.appendChild(D(n.arrowType)):t.arrow&&!n.arrow&&r.removeChild(s),t.arrow&&n.arrow&&t.arrowType!==n.arrowType&&r.replaceChild(D(n.arrowType),s),!t.interactive&&n.interactive?U(e,r):t.interactive&&!n.interactive&&function(e,t){e.removeAttribute("tabindex"),t.removeAttribute("data-interactive")}(e,r),!t.inertia&&n.inertia?R(r):t.inertia&&!n.inertia&&function(e){e.removeAttribute("data-inertia")}(r),t.theme!==n.theme&&(z(r,"remove",t.theme),z(r,"add",n.theme))}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.checkHideOnClick,n=e.exclude,i=e.duration;k(document.querySelectorAll(p)).forEach((function(e){var r=e._tippy;!r||t&&!0!==r.props.hideOnClick||n&&e===n.popper||r.hide(i)}))}var W={passive:!0},X=!1;function G(){X||(X=!0,u&&document.body.classList.add("tippy-iOS"),window.performance&&document.addEventListener("mousemove",Q))}var Y=0;function Q(){var e=performance.now();e-Y<20&&(X=!1,document.removeEventListener("mousemove",Q),u||document.body.classList.remove("tippy-iOS")),Y=e}function $(e){var t=e.target;if(!(t instanceof Element))return K();var n=w(t,p);if(!(n&&n._tippy&&n._tippy.props.interactive)){var i=_(t,(function(e){return e._tippy&&e._tippy.reference===e}));if(i){var r=i._tippy,a=E(r.props.trigger,"click");if(X||a)return K({exclude:r,checkHideOnClick:!0});if(!0!==r.props.hideOnClick||a)return;r.clearDelayTimeouts()}K({checkHideOnClick:!0})}}function J(){var e=document.activeElement;e&&e.blur&&e._tippy&&e.blur()}var Z=Object.keys(c);function ee(e,t){var n=r({},t,{content:C(t.content,[e])},t.ignoreAttributes?{}:function(e){return Z.reduce((function(t,n){var i=(e.getAttribute("data-tippy-".concat(n))||"").trim();if(!i)return t;if("content"===n)t[n]=i;else try{t[n]=JSON.parse(i)}catch(r){t[n]=i}return t}),{})}(e));return(n.arrow||l)&&(n.animateFill=!1),n}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;Object.keys(e).forEach((function(e){if(!S(t,e))throw new Error("[tippy]: `".concat(e,"` is not a valid option"))}))}var ne=1;function ie(e,t){var n=ee(e,t);if(!n.multiple&&e._tippy)return null;var a={},o=null,l=0,u=0,f=!1,h=function(){},m=[],v=n.interactiveDebounce>0?x(re,n.interactiveDebounce):re,y=null,b=ne++,P=function(e,t){var n=I();n.className="tippy-popper",n.id="tippy-".concat(e),n.style.zIndex=t.zIndex,t.role&&n.setAttribute("role",t.role);var i=I();i.className="tippy-tooltip",i.style.maxWidth=t.maxWidth+("number"===typeof t.maxWidth?"px":""),i.setAttribute("data-size",t.size),i.setAttribute("data-animation",t.animation),i.setAttribute("data-state","hidden"),z(i,"add",t.theme);var r=I();return r.className="tippy-content",r.setAttribute("data-state","hidden"),t.interactive&&U(n,i),t.arrow&&i.appendChild(D(t.arrowType)),t.animateFill&&(i.appendChild(N()),i.setAttribute("data-animatefill","")),t.inertia&&R(i),L(r,t),i.appendChild(r),n.appendChild(i),n}(b,n);P.addEventListener("mouseenter",(function(e){K.props.interactive&&K.state.isVisible&&"mouseenter"===a.type&&Y(e)})),P.addEventListener("mouseleave",(function(){K.props.interactive&&"mouseenter"===a.type&&document.addEventListener("mousemove",v)}));var j,K={id:b,reference:e,popper:P,popperChildren:M(P),popperInstance:null,props:n,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},clearDelayTimeouts:we,set:_e,setContent:function(e){_e({content:e})},show:Se,hide:Te,enable:function(){K.state.isEnabled=!0},disable:function(){K.state.isEnabled=!1},destroy:xe};return be(),n.lazy||(ce(),K.popperInstance.disableEventListeners()),n.showOnInit&&Y(),n.a11y&&!n.target&&((j=e)instanceof Element&&(!g.call(j,"a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]")||j.hasAttribute("disabled")))&&e.setAttribute("tabindex","0"),e._tippy=K,P._tippy=K,K;function G(e){var t=o=e,n=t.clientX,i=t.clientY;if(K.popperInstance){var r=B(K.popper),a=K.popperChildren.arrow?19:3,s=E(["top","bottom"],r),l=E(["left","right"],r),u=s?Math.max(a,n):n,c=l?Math.max(a,i):i;s&&u>a&&(u=Math.min(n,window.innerWidth-a)),l&&c>a&&(c=Math.min(i,window.innerHeight-a));var d=K.reference.getBoundingClientRect(),p=K.props.followCursor,f="horizontal"===p,h="vertical"===p;K.popperInstance.reference={getBoundingClientRect:function(){return{width:0,height:0,top:f?d.top:c,bottom:f?d.bottom:c,left:h?d.left:u,right:h?d.right:u}},clientWidth:0,clientHeight:0},K.popperInstance.scheduleUpdate(),"initial"===p&&K.state.isVisible&&$()}}function Y(e){if(we(),!K.state.isVisible){if(K.props.target)return function(e){var n=w(e.target,K.props.target);n&&!n._tippy&&(ie(n,r({},K.props,{content:C(t.content,[n]),appendTo:t.appendTo,target:"",showOnInit:!0})),Y(e))}(e);if(f=!0,K.props.wait)return K.props.wait(K,e);pe()&&!K.state.isMounted&&document.addEventListener("mousemove",G);var n=T(K.props.delay,0,c.delay);n?l=setTimeout((function(){Se()}),n):Se()}}function Q(){if(we(),!K.state.isVisible)return $();f=!1;var e=T(K.props.delay,1,c.delay);e?u=setTimeout((function(){K.state.isVisible&&Te()}),e):Te()}function $(){document.removeEventListener("mousemove",G),o=null}function J(){document.body.removeEventListener("mouseleave",Q),document.removeEventListener("mousemove",v)}function Z(e){K.state.isEnabled&&!ue(e)&&(K.state.isVisible||(a=e,X&&E(e.type,"mouse")&&(o=e)),"click"===e.type&&!1!==K.props.hideOnClick&&K.state.isVisible?Q():Y(e))}function re(e){var t=_(e.target,(function(e){return e._tippy})),n=w(e.target,p)===K.popper,i=t===K.reference;n||i||function(e,t,n,i){if(!e)return!0;var r=n.clientX,a=n.clientY,o=i.interactiveBorder,s=i.distance,l=t.top-a>("top"===e?o+s:o),u=a-t.bottom>("bottom"===e?o+s:o),c=t.left-r>("left"===e?o+s:o),d=r-t.right>("right"===e?o+s:o);return l||u||c||d}(B(K.popper),K.popper.getBoundingClientRect(),e,K.props)&&(J(),Q())}function ae(e){if(!ue(e))return K.props.interactive?(document.body.addEventListener("mouseleave",Q),void document.addEventListener("mousemove",v)):void Q()}function oe(e){e.target===K.reference&&(K.props.interactive&&e.relatedTarget&&K.popper.contains(e.relatedTarget)||Q())}function se(e){w(e.target,K.props.target)&&Y(e)}function le(e){w(e.target,K.props.target)&&Q()}function ue(e){var t="ontouchstart"in window,n=E(e.type,"touch"),i=K.props.touchHold;return t&&X&&i&&!n||X&&!i&&n}function ce(){var e=K.props.popperOptions,t=K.popperChildren,n=t.tooltip,a=t.arrow;K.popperInstance=new i.a(K.reference,K.popper,r({placement:K.props.placement},e,{modifiers:r({},e?e.modifiers:{},{preventOverflow:r({boundariesElement:K.props.boundary,padding:3},O(e,"preventOverflow")),arrow:r({element:a,enabled:!!a},O(e,"arrow")),flip:r({enabled:K.props.flip,padding:K.props.distance+3,behavior:K.props.flipBehavior},O(e,"flip")),offset:r({offset:K.props.offset},O(e,"offset"))}),onUpdate:function(t){K.props.flip&&!K.props.flipOnUpdate&&(t.flipped&&(K.popperInstance.options.placement=t.placement),A(K.popperInstance.modifiers,!1));var i=n.style;i.top="",i.bottom="",i.left="",i.right="",i[B(K.popper)]=-(K.props.distance-10)+"px",e.onUpdate&&e.onUpdate(t)}}))}function de(e){var t=!pe()&&!("initial"===K.props.followCursor&&X);K.popperInstance?(pe()||(K.popperInstance.scheduleUpdate(),t&&K.popperInstance.enableEventListeners()),A(K.popperInstance.modifiers,K.props.flip)):(ce(),t||K.popperInstance.disableEventListeners()),K.popperInstance.reference=K.reference;var n=K.popperChildren.arrow;if(pe()){n&&(n.style.margin="0");var i=T(K.props.delay,0,c.delay);a.type&&G(i&&o?o:a)}else n&&(n.style.margin="");!function(e,t){var n=e.popper,i=e.options,r=i.onCreate,a=i.onUpdate;i.onCreate=i.onUpdate=function(e){!function(e){e.offsetHeight}(n),t(),a(e),i.onCreate=r,i.onUpdate=a}}(K.popperInstance,e);var r=K.props.appendTo;(y="parent"===r?K.reference.parentNode:C(r,[K.reference])).contains(K.popper)||(y.appendChild(K.popper),K.props.onMount(K),K.state.isMounted=!0)}function pe(){return K.props.followCursor&&!X&&"focus"!==a.type}function fe(){V([K.popper],s?0:K.props.updateDuration);!function e(){K.popperInstance&&K.popperInstance.scheduleUpdate(),K.state.isMounted?requestAnimationFrame(e):V([K.popper],0)}()}function he(e,t){ve(e,(function(){!K.state.isVisible&&y&&y.contains(K.popper)&&t()}))}function me(e,t){ve(e,t)}function ve(e,t){if(0===e)return t();var n=K.popperChildren.tooltip,i=function e(i){i.target===n&&(F(n,"remove",e),t())};F(n,"remove",h),F(n,"add",i),h=i}function ye(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];K.reference.addEventListener(e,t,n),m.push({eventType:e,handler:t,options:n})}function be(){K.props.touchHold&&!K.props.target&&(ye("touchstart",Z,W),ye("touchend",ae,W)),K.props.trigger.trim().split(" ").forEach((function(e){if("manual"!==e)if(K.props.target)switch(e){case"mouseenter":ye("mouseover",se),ye("mouseout",le);break;case"focus":ye("focusin",se),ye("focusout",le);break;case"click":ye(e,se)}else switch(ye(e,Z),e){case"mouseenter":ye("mouseleave",ae);break;case"focus":ye(s?"focusout":"blur",oe)}}))}function ge(){m.forEach((function(e){var t=e.eventType,n=e.handler,i=e.options;K.reference.removeEventListener(t,n,i)})),m=[]}function ke(){return[K.popperChildren.tooltip,K.popperChildren.backdrop,K.popperChildren.content]}function we(){clearTimeout(l),clearTimeout(u)}function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};te(e,c);var t=K.props,n=ee(K.reference,r({},K.props,e,{ignoreAttributes:!0}));n.ignoreAttributes=S(e,"ignoreAttributes")?e.ignoreAttributes:t.ignoreAttributes,K.props=n,(S(e,"trigger")||S(e,"touchHold"))&&(ge(),be()),S(e,"interactiveDebounce")&&(J(),v=x(re,e.interactiveDebounce)),q(K.popper,t,n),K.popperChildren=M(K.popper),K.popperInstance&&(K.popperInstance.update(),d.some((function(t){return S(e,t)}))&&(K.popperInstance.destroy(),ce(),K.state.isVisible||K.popperInstance.disableEventListeners(),K.props.followCursor&&o&&G(o)))}function Se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T(K.props.duration,0,c.duration[0]);if(!K.state.isDestroyed&&K.state.isEnabled&&(!X||K.props.touch))return K.reference.isVirtual||document.documentElement.contains(K.reference)?void(K.reference.hasAttribute("disabled")||!1!==K.props.onShow(K)&&(K.popper.style.visibility="visible",K.state.isVisible=!0,K.props.interactive&&K.reference.classList.add("tippy-active"),V([K.popper,K.popperChildren.tooltip,K.popperChildren.backdrop],0),de((function(){K.state.isVisible&&(pe()||K.popperInstance.update(),X&&"initial"===K.props.followCursor&&G(o),V([K.popper],n.updateDuration),V(ke(),e),K.popperChildren.backdrop&&(K.popperChildren.content.style.transitionDelay=Math.round(e/12)+"ms"),K.props.sticky&&fe(),H(ke(),"visible"),me(e,(function(){K.popperChildren.tooltip.classList.add("tippy-notransition"),K.props.aria&&K.reference.setAttribute("aria-".concat(K.props.aria),K.popper.id),K.props.onShown(K),K.state.isShown=!0})))})))):xe()}function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T(K.props.duration,1,c.duration[1]);!K.state.isDestroyed&&K.state.isEnabled&&!1!==K.props.onHide(K)&&(K.popperChildren.tooltip.classList.remove("tippy-notransition"),K.props.interactive&&K.reference.classList.remove("tippy-active"),K.popper.style.visibility="hidden",K.state.isVisible=!1,K.state.isShown=!1,V(ke(),e),H(ke(),"hidden"),he(e,(function(){f||$(),K.props.aria&&K.reference.removeAttribute("aria-".concat(K.props.aria)),K.popperInstance.disableEventListeners(),K.popperInstance.options.placement=K.props.placement,y.removeChild(K.popper),K.props.onHidden(K),K.state.isMounted=!1})))}function xe(e){K.state.isDestroyed||(K.state.isMounted&&Te(0),ge(),delete K.reference._tippy,K.props.target&&e&&k(K.reference.querySelectorAll(K.props.target)).forEach((function(e){e._tippy&&e._tippy.destroy()})),K.popperInstance&&K.popperInstance.destroy(),K.state.isDestroyed=!0)}}var re=!1;function ae(e,t){te(t,c),re||(document.addEventListener("click",$,!0),document.addEventListener("touchstart",G,W),window.addEventListener("blur",J),re=!0);var n,i=r({},c,t);n=e,"[object Object]"!=={}.toString.call(n)||n.addEventListener||function(e){var t={isVirtual:!0,attributes:e.attributes||{},setAttribute:function(t,n){e.attributes[t]=n},getAttribute:function(t){return e.attributes[t]},removeAttribute:function(t){delete e.attributes[t]},hasAttribute:function(t){return t in e.attributes},addEventListener:function(){},removeEventListener:function(){},classList:{classNames:{},add:function(t){e.classList.classNames[t]=!0},remove:function(t){delete e.classList.classNames[t]},contains:function(t){return t in e.classList.classNames}}};for(var n in t)e[n]=t[n]}(e);var a=function(e){if(P(e))return[e];if(e instanceof NodeList)return k(e);if(Array.isArray(e))return e;try{return k(document.querySelectorAll(e))}catch(t){return[]}}(e).reduce((function(e,t){var n=t&&ie(t,i);return n&&e.push(n),e}),[]);return P(e)?a[0]:a}ae.version="4.0.3",ae.defaults=c,ae.setDefaults=function(e){Object.keys(e).forEach((function(t){c[t]=e[t]}))},ae.hideAll=K,ae.group=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delay,i=void 0===n?e[0].props.delay:n,r=t.duration,a=void 0===r?0:r,o=!1;function s(e){o=e,d()}function l(t){t._originalProps.onShow(t),e.forEach((function(e){e.set({duration:a}),e.hide()})),s(!0)}function u(e){e._originalProps.onHide(e),s(!1)}function c(e){e._originalProps.onShown(e),e.set({duration:e._originalProps.duration})}function d(){e.forEach((function(e){e.set({onShow:l,onShown:c,onHide:u,delay:o?[0,Array.isArray(i)?i[1]:i]:i,duration:o?a:e._originalProps.duration})}))}e.forEach((function(e){e._originalProps={duration:e.props.duration,onHide:e.props.onHide,onShow:e.props.onShow,onShown:e.props.onShown}})),d()},a&&setTimeout((function(){k(document.querySelectorAll("[data-tippy]")).forEach((function(e){var t=e.getAttribute("data-tippy");t&&ae(e,{content:t})}))})),function(e){if(a){var t=document.createElement("style");t.type="text/css",t.textContent=e;var n=document.head,i=n.firstChild;i?n.insertBefore(t,i):n.appendChild(t)}}('.tippy-iOS{cursor:pointer!important}.tippy-notransition{transition:none}.tippy-popper{transition-timing-function:cubic-bezier(.165,.84,.44,1);max-width:calc(100% - 10px);pointer-events:none;outline:0}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-8px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;bottom:-7px;margin:0 6px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 25%;transform-origin:0 25%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-55%);transform:scale(1) translate(-50%,-55%)}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%,-45%);transform:scale(.2) translate(-50%,-45%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(-10px) rotateX(0);transform:perspective(700px) translateY(-10px) rotateX(0)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) translateY(0) rotateX(60deg);transform:perspective(700px) translateY(0) rotateX(60deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=top] [data-animation=scale]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(-10px) scale(1);transform:translateY(-10px) scale(1)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px) scale(.5);transform:translateY(-10px) scale(.5)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-8px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(0);transform:rotate(0)}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;top:-7px;margin:0 6px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -50%;transform-origin:0 -50%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-45%);transform:scale(1) translate(-50%,-45%)}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%);transform:scale(.2) translate(-50%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(10px) rotateX(0);transform:perspective(700px) translateY(10px) rotateX(0)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) translateY(0) rotateX(-60deg);transform:perspective(700px) translateY(0) rotateX(-60deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=bottom] [data-animation=scale]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(10px) scale(1);transform:translateY(10px) scale(1)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px) scale(.5);transform:translateY(10px) scale(.5)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-16px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-75%,-50%);transform:scale(.2) translate(-75%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(-10px) rotateY(0);transform:perspective(700px) translateX(-10px) rotateY(0)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) translateX(0) rotateY(-60deg);transform:perspective(700px) translateX(0) rotateY(-60deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=left] [data-animation=scale]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(-10px) scale(1);transform:translateX(-10px) scale(1)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px) scale(.5);transform:translateX(-10px) scale(.5)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-16px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-50% 0;transform-origin:-50% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-25%,-50%);transform:scale(.2) translate(-25%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(10px) rotateY(0);transform:perspective(700px) translateX(10px) rotateY(0)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) translateX(0) rotateY(60deg);transform:perspective(700px) translateX(0) rotateY(60deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=right] [data-animation=scale]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(10px) scale(1);transform:translateX(10px) scale(1)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px) scale(.5);transform:translateX(10px) scale(.5)}.tippy-tooltip{position:relative;color:#fff;border-radius:4px;font-size:.9rem;padding:.3rem .6rem;line-height:1.4;text-align:center;will-change:transform;background-color:#333}.tippy-tooltip[data-size=small]{padding:.2rem .4rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.4rem .8rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:transparent}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:24px;height:8px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;will-change:transform;background-color:#333;border-radius:50%;width:calc(110% + 2rem);left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}.tippy-backdrop+.tippy-content{transition-property:opacity;will-change:opacity}.tippy-backdrop+.tippy-content[data-state=visible]{opacity:1}.tippy-backdrop+.tippy-content[data-state=hidden]{opacity:0}'),t.a=ae},42:function(e,t,n){var i,r,a;function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(){"use strict";var e={required:"This field is required",email:"This field requires a valid e-mail address",number:"This field requires a number",url:"This field requires a valid website URL",tel:"This field requires a valid telephone number",maxlength:"This fields length must be < ${1}",minlength:"This fields length must be > ${1}",min:"Minimum value for this field is ${1}",max:"Maximum value for this field is ${1}",pattern:"Please match the requested format"};function t(e){var t=arguments;return this.replace(/\${([^{}]*)}/g,(function(e,n){return t[n]}))}function n(e){return e.pristine.self.form.querySelectorAll('input[name="'+e.getAttribute("name")+'"]:checked').length}var i={classTo:"form-group",errorClass:"has-danger",successClass:"has-success",errorTextParent:"form-group",errorTextTag:"div",errorTextClass:"text-help"},r=["required","min","max","minlength","maxlength","pattern"],a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,o={},s=function(t,n){n.name=t,n.msg||(n.msg=e[t]),void 0===n.priority&&(n.priority=1),o[t]=n};function l(e,n,a){var s=this;function l(e,t,n,i){var r=o[n];if(r&&(e.push(r),i)){var a=i.split(",");a.unshift(null),t[n]=a}}function u(e){var n,i=[],r=!0;for(var a in e.validators){var o=e.validators[a],s=e.params[o.name]?e.params[o.name]:[];if(s[0]=e.input.value,!o.fn.apply(e.input,s)){if(r=!1,(n=o.msg)&&n.constructor&&n.call&&n.apply)i.push(o.msg(e.input.value,s));else{var l=e.messages[o.name]||o.msg;i.push(t.apply(l,s))}if(!0===o.halt)break}}return e.errors=i,r}function c(e){if(e.errorElements)return e.errorElements;var t=function(e,t){if(e.classList.contains(t))return e;for(;(e=e.parentElement)&&!e.classList.contains(t););return e}(e.input,s.config.classTo),n=null,i=null;return(n=s.config.classTo===s.config.errorTextParent?t:t.querySelector("."+s.config.errorTextParent))&&((i=n.querySelector(".pristine-error"))||((i=document.createElement(s.config.errorTextTag)).className="pristine-error "+s.config.errorTextClass,n.appendChild(i),i.pristineDisplay=i.style.display)),e.errorElements=[t,i]}function d(e){var t=c(e),n=t[0],i=t[1];n&&(n.classList.remove(s.config.successClass),n.classList.add(s.config.errorClass)),i&&(i.innerHTML=e.errors.join("<br/>"),i.style.display=i.pristineDisplay||"")}function p(e){var t=function(e){var t=c(e),n=t[0],i=t[1];return n&&(n.classList.remove(s.config.errorClass),n.classList.remove(s.config.successClass)),i&&(i.innerHTML="",i.style.display="none"),t}(e)[0];t&&t.classList.add(s.config.successClass)}return function(e,t,n){e.setAttribute("novalidate","true"),s.form=e,s.config=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e}(t||{},i),s.live=!(!1===n),s.fields=Array.from(e.querySelectorAll("input:not([type^=hidden]):not([type^=submit]), select, textarea")).map(function(e){var t=[],n={},i={};return[].forEach.call(e.attributes,(function(e){if(/^data-pristine-/.test(e.name)){var a=e.name.substr(14);if(a.endsWith("-message"))return void(i[a.slice(0,a.length-8)]=e.value);"type"===a&&(a=e.value),l(t,n,a,e.value)}else~r.indexOf(e.name)?l(t,n,e.name,e.value):"type"===e.name&&l(t,n,e.value)})),t.sort((function(e,t){return t.priority-e.priority})),s.live&&e.addEventListener(~["radio","checkbox"].indexOf(e.getAttribute("type"))?"change":"input",function(e){s.validate(e.target)}.bind(s)),e.pristine={input:e,validators:t,params:n,messages:i,self:s}}.bind(s))}(e,n,a),s.validate=function(e,t){t=e&&!0===t||!0===e;var n=s.fields;!0!==e&&!1!==e&&(e instanceof HTMLElement?n=[e.pristine]:(e instanceof NodeList||e instanceof(window.$||Array)||e instanceof Array)&&(n=Array.from(e).map((function(e){return e.pristine}))));var i=!0;for(var r in n){var a=n[r];u(a)?!t&&p(a):(i=!1,!t&&d(a))}return i},s.getErrors=function(e){if(!e){for(var t=[],n=0;n<s.fields.length;n++){var i=s.fields[n];i.errors.length&&t.push({input:i.input,errors:i.errors})}return t}return e.length?e[0].pristine.errors:e.pristine.errors},s.addValidator=function(e,t,n,i,r){e instanceof HTMLElement?(e.pristine.validators.push({fn:t,msg:n,priority:i,halt:r}),e.pristine.validators.sort((function(e,t){return t.priority-e.priority}))):console.warn("The parameter elem must be a dom element")},s.addError=function(e,t){(e=e.length?e[0]:e).pristine.errors.push(t),d(e.pristine)},s.reset=function(){for(var e in s.fields)s.fields[e].errorElements=null;Array.from(s.form.querySelectorAll(".pristine-error")).map((function(e){e.parentNode.removeChild(e)})),Array.from(s.form.querySelectorAll("."+s.config.classTo)).map((function(e){e.classList.remove(s.config.successClass),e.classList.remove(s.config.errorClass)}))},s.destroy=function(){s.reset(),s.fields.forEach((function(e){delete e.input.pristine})),s.fields=[]},s.setGlobalConfig=function(e){i=e},s}return s("text",{fn:function(e){return!0},priority:0}),s("required",{fn:function(e){return"radio"===this.type||"checkbox"===this.type?n(this):void 0!==e&&""!==e},priority:99,halt:!0}),s("email",{fn:function(e){return!e||a.test(e)}}),s("number",{fn:function(e){return!e||!isNaN(parseFloat(e))},priority:2}),s("integer",{fn:function(e){return e&&/^\d+$/.test(e)}}),s("minlength",{fn:function(e,t){return!e||e.length>=parseInt(t)}}),s("maxlength",{fn:function(e,t){return!e||e.length<=parseInt(t)}}),s("min",{fn:function(e,t){return!e||("checkbox"===this.type?n(this)>=parseInt(t):parseFloat(e)>=parseFloat(t))}}),s("max",{fn:function(e,t){return!e||("checkbox"===this.type?n(this)<=parseInt(t):parseFloat(e)<=parseFloat(t))}}),s("pattern",{fn:function(e,t){var n=t.match(new RegExp("^/(.*?)/([gimy]*)$"));return!e||new RegExp(n[1],n[2]).test(e)}}),l.addValidator=function(e,t,n,i,r){s(e,{fn:t,msg:n,priority:i,halt:r})},l},"object"===o(t)&&"undefined"!==typeof e?e.exports=a():void 0===(r="function"===typeof(i=a)?i.call(t,n,t,e):i)||(e.exports=r)},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n(0),r=n(1),a=n(21),o=n.n(a);function s(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){r=!0,a=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var p=function(e,t,n){return Object(i.U)(e[t])?e[t]:n};function f(e){return e.reduce((function(e,t){return e+t}),0)/e.length}function h(e){var t=f(e),n=f(e.map((function(e){var n=e-t;return n*n})));return Math.sqrt(n)}function m(e,t){if(0===e.length)return 0;if("number"!==typeof t)throw new TypeError("p must be a number");if(t<=0)return e[0];if(t>=1)return e[e.length-1];var n=(e.length-1)*t,i=Math.floor(n),r=i+1,a=n%1;return r>=e.length?e[i]:e[i]*(1-a)+e[r]*a}function v(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*i));return t}function y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.sort((function(e,n){return t?n-e:e-n})),i=Math.round(n[0]),r=Math.round(f(n)),a=Math.round(n[n.length-1]),o=Math.round(h(n));return[t?a:i,r,t?i:a,o,Math.round(m(n,.25)),Math.round(m(n,.5)),Math.round(m(n,.75)),Math.round(m(n,.9)),Math.round(m(n,.99))].join("/")}var b=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.options=n,this.shaka=null,this.props={preferDash:!1,videoSources:[],currentVideoSourceIndex:0,loading:!0,ready:!1,canPlay:!1,currentTime:0,duration:0,state:"",volume:p(this.options.initial,"volume",100),muted:p(this.options.initial,"muted",!1),playbackRate:p(this.options.initial,"playbackRate",1),quality:p(this.options.initial,"quality","Auto"),activeCcTrack:p(this.options.initial,"subtitlesTrack",0),subtitlesLanguage:p(this.options.initial,"subtitlesLanguage",null),ratio:p(this.options.initial,"ratio",16/9),availablePlaybackRates:[1],availableQualities:["auto"],availableQualitiesData:{auto:{id:0,name:"Auto",bitrate:0}},currentQuality:"Auto",ccTracks:[],seeking:!1,lastPlayFailed:!1,segmentStats:{},preventCdnCaching:!!Object(i.vb)("prevent_cdn_caching"),cdnCachingBuster:Object(i.vb)("cdn_caching_buster")||v(12),currentDateString:(new Date).toString(),pendingSubtitles:null,loadingStart:null},this.props.preventCdnCaching&&console.warn("SHAKA","CDN caching will be prevented!",this.props.cdnCachingBuster)}var t,n,a;return t=e,(n=[{key:"createYodaVideoSourceWithHost",value:function(e,t){return{hls:"https://".concat(t,"/").concat(e,"/master.m3u8"),dash:"https://".concat(t,"/").concat(e,"/master.mpd")}}},{key:"createYodaVideoSources",value:function(e,t,n){var r=this,a=n&&n.videoCdnServers;return Object(i.U)(a)&&0!==a.length||(a="yoda:eu-central-1"===t?["1320129373.rsc.cdn77.org"]:["01.cdn.yoda.".concat(Object(i.qb)()),"01b.cdn.yoda.".concat(Object(i.qb)())]),a.map((function(t){return r.createYodaVideoSourceWithHost(e,t)}))}},{key:"reportShakaError",value:function(e,t,n){var r={};Object(i.U)(t)&&(r.currentVideoSourceIndex=t),Object(i.U)(n)&&(r.videoSourceCount=n),1===e.category&&1001===e.code&&404===e.data[1]?(e.data&&(r.url=e.data[0],r.statusCode=e.data[1],r.requestType=JSON.stringify(e.data[4])),this.options.callbacks.reportError("SHAKA_PLAYER","VIDEO_NOT_FOUND",r)):1===e.category&&1002===e.code&&(e.data&&(r.url=e.data[0],r.originalError=JSON.stringify(e.data[1]),r.requestType=JSON.stringify(e.data[2])),this.options.callbacks.reportError("SHAKA_PLAYER","CLIENT_HTTP_ERROR",r))}},{key:"showShakaError",value:function(e){if(console.warn("SHAKA","Shaka error",e),1!==e.category||1001!==e.code||404!==e.data[1]){var t=["Video loading failed.","Please try again or report this error to SlidesLive if it persists."];t.push("");var n="UNKNOWN",r="UNKNOWN";for(var a in o.a.util.Error.Category)o.a.util.Error.Category[a]===e.category&&(n=a);for(var s in o.a.util.Error.Code)o.a.util.Error.Code[s]===e.code&&(r=s);if(t.push('<span class="text__paragraph--tiniest">'.concat(n," (").concat(e.category,")</span>")),t.push('<span class="text__paragraph--tiniest">'.concat(r," (").concat(e.code,")</span>")),e.data)for(var l=0;l<e.data.length;++l)Object(i.O)(e.data[l])||Object(i.T)(e.data[l])?t.push('<span class="text__paragraph--tiniest">'.concat(l,": ").concat(JSON.stringify(e.data[l]),"</span>")):t.push('<span class="text__paragraph--tiniest">'.concat(l,": ").concat(e.data[l],"</span>"));t.push(""),t.push('<span class="text__paragraph--tiniest">User-Agent: '.concat(navigator.userAgent,"</span>")),t.push(""),t.push('<span class="text__paragraph--tiniest">'.concat(JSON.stringify(e),"</span>")),this.options.callbacks.showError("".concat(t.join("<br>")))}else this.options.callbacks.showError("".concat(["Video not found.","Please try again later or report this error to SlidesLive if it persists."].join("<br>")))}},{key:"load",value:function(e,t,n){this.loading=!0,this.props.videoSources="yoda"===e||"yoda:us-east-1"===e||"yoda:eu-central-1"===e?this.createYodaVideoSources(t,e,n):JSON.parse(t),this.video=document.createElement("video"),this.video.setAttribute("playsinline","playsinline"),this.video.setAttribute("webkit-playsinline","webkit-playsinline"),this.video.setAttribute("preload","metadata"),this.video.setAttribute("crossorigin","anonymous"),this.video.playsinline=!0,this.video["webkit-playsinline"]=!0,Object(i.N)(this.video,{position:"absolute",left:0,top:0,width:"100%",height:"100%"}),this.element.insertAdjacentElement("beforeend",this.video),this.addVideoListeners(),this.loadFromVideoSource(0)}},{key:"loadFromVideoSource",value:function(e){var t=this;console.log("YODA","loading video source",e),this.loading=!0,this.props.currentVideoSourceIndex=e;var n,i=this.props.videoSources[this.props.currentVideoSourceIndex];(i.dash||i.hls)&&o.a.Player.isBrowserSupported()?(this.shaka=new o.a.Player(this.video),this.addShakaListeners(),this.props.preferDash&&i.dash?(Object(r.a)("SHAKA","loading Dash"),n=this.shaka.load(i.dash)):i.hls?(Object(r.a)("SHAKA","loading HLS"),n=this.shaka.load(i.hls)):i.dash&&(Object(r.a)("SHAKA","loading Dash"),n=this.shaka.load(i.dash)),n?n.catch((function(e){t.reportShakaError(e,t.props.currentVideoSourceIndex,t.props.videoSources.length),t.loadFromNextVideoSource((function(){t.showShakaError(e)}))})):this.loadFromNextVideoSource((function(){t.options.callbacks.showError("No suitable video format for playback found.<br>Please try Firefox or Google Chrome.")}))):i.hls&&this.video.canPlayType("application/vnd.apple.mpegurl")?(Object(r.a)("SHAKA","loading native HLS"),this.video.src=i.hls):i.mp4&&this.video.canPlayType("video/mp4")?(Object(r.a)("SHAKA","loading native MP4"),this.video.src=i.mp4):this.loadFromNextVideoSource((function(){t.options.callbacks.showError("Video playback is not supported in your browser.<br>Please try Firefox or Google Chrome.")}))}},{key:"loadFromNextVideoSource",value:function(e){var t=this;if(this.props.currentVideoSourceIndex>=this.props.videoSources.length-1)return console.warn("YODA","no next source available when trying to load from next source after",this.props.currentVideoSourceIndex),void(e?e():this.options.callbacks.showError("Video loading from all available sources failed.<br>Please try again later or report this error to SlidesLive if it persists."));this.shaka?this.shaka.destroy().then((function(){return t.loadFromVideoSource(t.props.currentVideoSourceIndex+1)})):this.loadFromVideoSource(this.props.currentVideoSourceIndex+1)}},{key:"loadSubtitles",value:function(e){var t=this;if(this.props.canPlay){for(var n=[],i=0;i<e.length;++i){var r=e[i];if(this.shaka.getLoadMode()===o.a.Player.LoadMode.MEDIA_SOURCE||this.shaka.getLoadMode()===o.a.Player.LoadMode.SRC_EQUALS){var a=this.shaka.addTextTrackAsync(r.webvtt_url,r.language,"subtitles","text/vtt",void 0,r.name);n.push(a)}else console.warn("SHAKA","invalid loadMode when loading subtitles",this.shaka.getLoadMode())}Promise.all(n).then((function(e){for(var n=[{name:"Off",track:null}],i=0,r=0;r<e.length;++r){var a=e[r];n.push({name:a.label,track:a}),t.props.subtitlesLanguage&&a.language.split("-")[0]===t.props.subtitlesLanguage&&(i=r+1)}t.props.ccTracks=n,t.options.callbacks.subtitlesChanged(t.props.ccTracks),t.setSubtitleTrack(i)}))}else this.props.pendingSubtitles=e}},{key:"addVideoListeners",value:function(){var e=this;Object(i.a)(this.video,"error",(function(e){return console.warn("SHAKA","native",e.type,e)})),Object(i.a)(this.video,"loadeddata",(function(e){return Object(r.a)("SHAKA","native",e.type,e)})),Object(i.a)(this.video,"load",(function(e){return Object(r.a)("SHAKA","native",e.type,e)})),Object(i.a)(this.video,"loadend",(function(e){return Object(r.a)("SHAKA","native",e.type,e)})),Object(i.a)(this.video,"loadstart",(function(e){return Object(r.a)("SHAKA","native",e.type,e)})),Object(i.a)(this.video,"offline",(function(e){return Object(r.a)("SHAKA","native",e.type,e)})),Object(i.a)(this.video,"online",(function(e){return Object(r.a)("SHAKA","native",e.type,e)})),Object(i.a)(this.video,"readystatechange",(function(e){return Object(r.a)("SHAKA","native",e.type,e)})),Object(i.a)(this.video,"stalled",(function(e){return Object(r.a)("SHAKA","native",e.type,e)})),Object(i.a)(this.video,"suspend",(function(t){return e.onSuspend(t)})),Object(i.a)(this.video,"stalled",(function(e){return Object(r.a)("SHAKA","native",e.type,e)})),Object(i.a)(this.video,"emptied",(function(e){return Object(r.a)("SHAKA","native",e.type,e)})),Object(i.a)(this.video,"ended",(function(t){return e.onEnded(t)})),Object(i.a)(this.video,"loadedmetadata",(function(t){return e.onLoadedMetaData(t)})),Object(i.a)(this.video,"canplay",(function(t){return e.onCanPlay(t)})),Object(i.a)(this.video,"play",(function(t){return e.onPlay(t)})),Object(i.a)(this.video,"pause",(function(t){return e.onPause(t)})),Object(i.a)(this.video,"playing",(function(t){return e.onPlaying(t)})),Object(i.a)(this.video,"waiting",(function(t){return e.onWaiting(t)})),Object(i.a)(this.video,"seeking",(function(t){return e.onSeeking(t)})),Object(i.a)(this.video,"seeked",(function(t){return e.onSeeked(t)})),Object(i.a)(this.video,"timeupdate",(function(t){return e.onTimeUpdate(t)})),Object(i.a)(this.video.textTracks,"addtrack",(function(t){return e.onTextTracksAdd(t)}))}},{key:"addShakaListeners",value:function(){for(var e=this,t=0,n=["abrstatuschanged","adaptation","buffering","drmsessionupdate","emsg","expirationupdated","largegap","loaded","loading","manifestparsed","metadata","ratechange","onstatechange","onstateidle","streaming","textchanged","texttrackvisibility","timelineregionadded","timelineregionenter","timelineregionexit","trackschanged","unloading","variantchanged"];t<n.length;t++){var i=n[t];this.shaka.addEventListener(i,(function(e){Object(r.a)("SHAKA","js",e.type,e)}))}this.shaka.addEventListener("error",(function(e){console.warn("SHAKA","js",e.type,e.detail),console.warn(JSON.stringify(e.detail,null,2))})),this.shaka.addEventListener("buffering",this.onShakaBuffering.bind(this)),this.shaka.addEventListener("adaptation",this.onShakaAdaptation.bind(this)),this.shaka.addEventListener("variantchanged",this.onShakaAdaptation.bind(this)),this.shaka.getNetworkingEngine().registerRequestFilter((function(t,n){e.props.preventCdnCaching&&(n.uri+="?bust=".concat(e.props.cdnCachingBuster),n.uris[0]+="?bust=".concat(e.props.cdnCachingBuster))})),this.shaka.getNetworkingEngine().registerResponseFilter((function(t,n){if(t===o.a.net.NetworkingEngine.RequestType.SEGMENT){var i=n.uri.split("/"),r=i[i.length-1].split(/[_.]/),a="".concat(r[0],"_").concat(r[1]);e.props.segmentStats[a]||(e.props.segmentStats[a]=[]),e.props.segmentStats[a].push({uri:n.uri,duration:n.timeMs,size:n.data.byteLength,speed:n.data.byteLength/(n.timeMs/1e3),fromCache:!!n.fromCache})}})),setInterval((function(){for(var t=e.shaka.getStats(),n=e.shaka.getStats().stateHistory.filter((function(e){return"buffering"===e.state})).map((function(e){return 1e3*e.duration})),i={date:e.props.currentDateString,quality:e.props.currentQuality,"estimated bandwidth":"".concat(Math.round(t.estimatedBandwidth/1024)," kbps (").concat(Math.round(t.estimatedBandwidth/1024/8)," kB/s)"),"stream bandwidth":"".concat(Math.round(t.streamBandwidth/1024)," kbps (").concat(Math.round(t.streamBandwidth/1024/8)," kB/s)"),"play time":"".concat(Math.round(1e3*t.playTime)," ms"),"buffering count":"".concat(n.length),"buffering times":"".concat(y(n)," ms"),"buffering total":"".concat(Math.round(1e3*t.bufferingTime)," ms")},r=0,a=Object.entries(e.props.segmentStats);r<a.length;r++){var o=l(a[r],2),s=o[0],u=o[1],c=u.filter((function(e){return!e.fromCache})).map((function(e){return e.duration})),d=u.filter((function(e){return!e.fromCache})).map((function(e){return Math.round(e.size/1024)})),p=u.filter((function(e){return!e.fromCache})).map((function(e){return Math.round(e.speed/1024)}));i["".concat(s," count")]="".concat(u.filter((function(e){return!e.fromCache})).length,"/").concat(u.length),i["".concat(s," time")]="".concat(y(c)," ms"),i["".concat(s," size")]="".concat(y(d)," kB"),i["".concat(s," speed")]="".concat(y(p,!0)," kB/s")}"paused"!==e.state&&e.options.callbacks.debugInfo(i)}),1e3)}},{key:"play",value:function(){var e=this;Object(r.a)("SHAKA","play request");var t=this.video.play();Object(i.U)(t)&&t.then((function(){e.props.lastPlayFailed=!1})).catch((function(t){console.warn("SHAKA","play failed",t),e.options.callbacks.playFailed(),e.props.lastPlayFailed=!0,e.loading=!1}))}},{key:"pause",value:function(){Object(r.a)("SHAKA","pause request"),this.video.pause()}},{key:"setMuted",value:function(e){this.video.muted=e,this.props.muted=e,this.options.callbacks.volumeChanged(this.props.volume,this.props.muted)}},{key:"seekToLivePosition",value:function(){console.warn("Not implemented!")}},{key:"setSubtitleTrack",value:function(e){var t=this.props.ccTracks[e];if(this.props.activeCcTrack=e,t.track?(this.shaka.selectTextTrack(t.track),this.shaka.setTextTrackVisibility(!0)):this.shaka.setTextTrackVisibility(!1),this.shaka.getLoadMode()===o.a.Player.LoadMode.SRC_EQUALS){var n,i=s(this.video.textTracks);try{for(i.s();!(n=i.n()).done;){var r=n.value;"subtitles"===r.kind&&(t.track&&t.track.language===r.language&&t.track.label===r.label?r.mode="showing":r.mode="disabled")}}catch(a){i.e(a)}finally{i.f()}}this.options.callbacks.activeSubtitlesChanged(this.props.activeCcTrack)}},{key:"setQuality",value:function(e){if(Object(r.a)("SHAKA","set quality",e),this.shaka){if("Auto"===e)this.shaka.configure({abr:{enabled:!0}});else{var t=this.shaka.getVariantTracks().find((function(e){return e.active})),n=this.props.availableQualitiesData[e].track;if(t.id!==n.id){var i=n.bandwidth>t.bandwidth;this.shaka.configure({abr:{enabled:!1}}),this.shaka.selectVariantTrack(n,i)}}this.props.quality=e,this.options.callbacks.qualityChanged(e)}}},{key:"playbackServer",set:function(e){console.warn("Not implemented!")}},{key:"volume",set:function(e){this.props.volume=e,this.video.muted=!1,this.video.volume=this.props.volume/100,this.options.callbacks.volumeChanged(this.props.volume,this.props.muted)}},{key:"currentTime",get:function(){return this.props.currentTime},set:function(e){this.props.seekToLiveBeforePlay=!1,this.props.currentTime=e,this.video.currentTime=e/1e3,this.props.inLivePosition=!1,this.options.callbacks.inLivePositionChanged&&this.options.callbacks.inLivePositionChanged(this.props.inLivePosition)}},{key:"currentStreamTime",get:function(){return this.props.timeSinceStreamStart}},{key:"duration",get:function(){return this.props.duration}},{key:"playbackRate",set:function(e){this.video.playbackRate=e,this.props.playbackRate=e,this.options.callbacks.playbackRateChanged(this.props.playbackRate)}},{key:"inLivePosition",get:function(){return this.props.inLivePosition}},{key:"ready",get:function(){return this.props.ready}},{key:"canPlay",get:function(){return this.props.canPlay}},{key:"loading",get:function(){return this.props.loading},set:function(e){e!==this.props.loading&&(this.props.loading=e,this.options.callbacks.loadingChanged(e))}},{key:"state",get:function(){return this.props.state},set:function(e){e!==this.props.state&&(this.props.state=e,this.options.callbacks.stateChanged(e))}},{key:"ended",get:function(){return this.video.ended}},{key:"updateAvailablePlaybackRates",value:function(){this.props.availablePlaybackRates=[.5,1,1.25,1.5,1.75,2],this.options.callbacks.availablePlaybackRatesChanged&&this.options.callbacks.availablePlaybackRatesChanged(this.props.availablePlaybackRates),this.options.callbacks.playbackRateChanged&&this.options.callbacks.playbackRateChanged(this.props.playbackRate)}},{key:"updateAvailableQualities",value:function(){if(!this.shaka)return this.props.currentQuality="Auto",this.props.quality="Auto",this.props.availableQualities=[],this.props.availableQualitiesData={},this.options.callbacks.availableQualitiesChanged&&this.options.callbacks.availableQualitiesChanged(this.props.availableQualities),void(this.options.callbacks.qualityChanged&&this.options.callbacks.qualityChanged(this.props.quality));var e,t="Auto",n={Auto:{id:null,name:"Auto",bitrate:1/0,track:null}},i=s(this.shaka.getVariantTracks());try{for(i.s();!(e=i.n()).done;){var r=e.value,a="".concat(r.width,"x").concat(r.height),o=r.id,l=r.bandwidth;n[a]={id:o,name:a,bitrate:l,track:r},r.active&&(t=a)}}catch(u){i.e(u)}finally{i.f()}this.props.currentQuality=t,"Auto"!==this.props.quality&&(this.props.quality=t),this.props.availableQualitiesData=n,this.props.availableQualities=Object.values(n).sort((function(e,t){return t.bitrate-e.bitrate})).map((function(e){return e.name})),this.options.callbacks.availableQualitiesChanged&&this.options.callbacks.availableQualitiesChanged(this.props.availableQualities),this.options.callbacks.qualityChanged&&this.options.callbacks.qualityChanged(this.props.quality)}},{key:"setCanPlay",value:function(){var e=this;this.props.canPlay||(this.props.duration=1e3*this.video.duration,this.updateAvailablePlaybackRates(),this.updateAvailableQualities(),this.video.muted=this.props.muted,this.video.volume=this.props.volume/100,this.options.callbacks.volumeChanged(this.props.volume,this.props.muted),this.state="paused",this.loading=!1,Object(i.k)((function(){e.props.ready=!0,e.options.callbacks.ready(),Object(i.k)((function(){e.props.canPlay=!0,e.props.pendingSubtitles&&(e.loadSubtitles(e.props.pendingSubtitles),e.props.pendingSubtitles=null),e.options.callbacks.canPlay()}))})))}},{key:"onSuspend",value:function(e){Object(r.a)("SHAKA","native",e.type,e),this.setCanPlay(),this.loading=!1}},{key:"onLoadedMetaData",value:function(e){Object(r.a)("SHAKA","native",e.type,e)}},{key:"onCanPlay",value:function(e){Object(r.a)("SHAKA","native",e.type,e),this.setCanPlay(),this.loading=!1}},{key:"onPlay",value:function(e){Object(r.a)("SHAKA","native",e.type,e),this.loading=!1,this.state="playing"}},{key:"onPause",value:function(e){Object(r.a)("SHAKA","native",e.type,e),this.loading=!1,this.state="paused"}},{key:"onPlaying",value:function(e){Object(r.a)("SHAKA","native",e.type,e),this.loading=!1,this.state="playing"}},{key:"onWaiting",value:function(e){Object(r.a)("SHAKA","native",e.type,this.video.readyState,e),this.loading=!0}},{key:"onEnded",value:function(e){Object(r.a)("SHAKA","native",e.type,e),this.options.callbacks.ended()}},{key:"onSeeking",value:function(e){Object(r.a)("SHAKA","native",e.type,e),this.seeking=!0,this.loading=!0}},{key:"onSeeked",value:function(e){Object(r.a)("SHAKA","native",e.type,e),this.seeking=!1,this.props.lastPlayFailed&&(this.loading=!1)}},{key:"onTimeUpdate",value:function(e){this.props.duration=1e3*this.video.duration,this.props.currentTime=1e3*this.video.currentTime}},{key:"onTextTracksAdd",value:function(e){Object(r.a)("SHAKA","native",e.type,e)}},{key:"onShakaBuffering",value:function(e){this.loading=e.buffering}},{key:"onShakaAdaptation",value:function(e){var t=this.shaka.getVariantTracks().find((function(e){return e.active})),n=Object.values(this.props.availableQualitiesData).find((function(e){return e.id===t.id}));this.props.currentQuality=n.name,"Auto"!==this.props.quality&&(this.props.quality=n.name,this.options.callbacks.qualityChanged(this.props.quality))}},{key:"seeking",get:function(){return this.props.seeking},set:function(e){this.props.seeking=e}}])&&d(t.prototype,n),a&&d(t,a),e}()},55:function(e,t,n){"use strict";t.a=function(e){return e.replace(/[_ ]/g,"-").replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})).replace(/-+/g,"-")}},56:function(e,t,n){"use strict";t.a=function(e){var t=document.createElement("a"),n=document.createElement("a");n.href=window.location.href;try{if(t.href=e,n.host===t.host)return!1;if(n.host.endsWith(".".concat(t.host)))return!1;if(t.host.endsWith(".".concat(n.host)))return!1}catch(i){console.warn("Error occurred in isCrossDomain for url: ".concat(e),i)}return!0}},57:function(e,t,n){"use strict";var i=n(2),r=n(35);t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=t,s=n,l=e.toUpperCase(),u=new XMLHttpRequest;if("GET"===l&&s){var c=Object(r.a)(s);s=void 0,o="".concat(o,"?").concat(c)}if(u.open(l,o,!0),Object(i.a)(a.noXRequestedWithHeader)&&a.noXRequestedWithHeader||u.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object(i.a)(a.noAcceptHeader)&&a.noAcceptHeader||u.setRequestHeader("Accept","text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01"),!Object(i.a)(a.skipCsrfToken)||!a.skipCsrfToken){var d=document.querySelector('meta[name="csrf-token"]');if(Object(i.a)(d)){var p=d.getAttribute("content");u.setRequestHeader("X-CSRF-Token",p)}}return Object(i.a)(a.withCredentials)&&(u.withCredentials=a.withCredentials),Object(i.a)(a.headers)?Object.keys(a.headers).forEach((function(e){u.setRequestHeader(e,a.headers[e])})):"POST"!==l&&"PUT"!==l&&"PATCH"!==l||u.setRequestHeader("Content-Type","application/json; charset=utf-8"),Object(i.a)(a.progress)&&u.addEventListener("progress",(function(e){return a.progress(u,e)})),Object(i.a)(a.success)&&u.addEventListener("load",(function(e){return u.status>=200&&u.status<400?a.success(u,e):!Object(i.a)(a.error)||a.error(u,e)})),Object(i.a)(a.error)&&u.addEventListener("error",(function(e){return a.error(u,e)})),Object(i.a)(a.abort)&&u.addEventListener("abort",(function(e){return a.abort(u,e)})),Object(i.a)(a.complete)&&u.addEventListener("loadend",(function(e){return a.complete(u,e)})),Object.keys(a).forEach((function(e){-1===["headers","progress","success","error","abort","complete"].indexOf(e)&&(u[e]=a[e])})),u.send(s),u}},61:function(e,t,n){(function(e){var n,i,r,a;function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window,a=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===o(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/public/assets/scripts/",n(n.s=4)}([function(e,t,n){"use strict";var i=function(e){return function(e){return!!e&&"object"===o(e)}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===r}(e)}(e)},r="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function a(e,t){return!1!==t.clone&&t.isMergeableObject(e)?c((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function s(e,t,n){return e.concat(t).map((function(e){return a(e,n)}))}function l(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function u(e,t,n){var i={};return n.isMergeableObject(e)&&l(e).forEach((function(t){i[t]=a(e[t],n)})),l(t).forEach((function(r){(function(e,t){try{return t in e&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}catch(n){return!1}})(e,r)||(n.isMergeableObject(t[r])&&e[r]?i[r]=function(e,t){if(!t.customMerge)return c;var n=t.customMerge(e);return"function"===typeof n?n:c}(r,n)(e[r],t[r],n):i[r]=a(t[r],n))})),i}function c(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||s,n.isMergeableObject=n.isMergeableObject||i,n.cloneUnlessOtherwiseSpecified=a;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):u(e,t,n):a(t,n)}c.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return c(e,n,t)}),{})};var d=c;e.exports=d},function(e,t,n){"use strict";(function(e,i){var r,a=n(3);r="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:i;var o=Object(a.a)(r);t.a=o}).call(this,n(5),n(6)(e))},function(e,t,n){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==o(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==o(Symbol.iterator)?function(e){return o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":o(e)})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=n(2),s=n(8),l=n(0),u=function(){function e(t,n){var i=n.location,r=void 0===i?0:i,a=n.distance,o=void 0===a?100:a,l=n.threshold,u=void 0===l?.6:l,c=n.maxPatternLength,d=void 0===c?32:c,p=n.caseSensitive,f=void 0!==p&&p,h=n.tokenSeparator,m=void 0===h?/ +/g:h,v=n.findAllMatches,y=void 0!==v&&v,b=n.minMatchCharLength,g=void 0===b?1:b,k=n.id,w=void 0===k?null:k,_=n.keys,S=void 0===_?[]:_,T=n.shouldSort,x=void 0===T||T,O=n.getFn,E=void 0===O?s:O,P=n.sortFn,C=void 0===P?function(e,t){return e.score-t.score}:P,A=n.tokenize,I=void 0!==A&&A,j=n.matchAllTokens,L=void 0!==j&&j,M=n.includeMatches,R=void 0!==M&&M,D=n.includeScore,N=void 0!==D&&D,U=n.verbose,V=void 0!==U&&U;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:r,distance:o,threshold:u,maxPatternLength:d,isCaseSensitive:f,tokenSeparator:m,findAllMatches:y,minMatchCharLength:g,id:w,keys:S,includeMatches:R,includeScore:N,shouldSort:x,getFn:E,sortFn:C,verbose:V,tokenize:I,matchAllTokens:L},this.setCollection(t)}var t,n,o;return t=e,(n=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var n=this._prepareSearchers(e),i=n.tokenSearchers,r=n.fullSearcher,a=this._search(i,r),o=a.weights,s=a.results;return this._computeScore(o,s),this.options.shouldSort&&this._sort(s),t.limit&&"number"==typeof t.limit&&(s=s.slice(0,t.limit)),this._format(s)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),i=0,r=n.length;i<r;i+=1)t.push(new a(n[i],this.options));return{tokenSearchers:t,fullSearcher:new a(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=this.list,i={},r=[];if("string"==typeof n[0]){for(var a=0,o=n.length;a<o;a+=1)this._analyze({key:"",value:n[a],record:a,index:a},{resultMap:i,results:r,tokenSearchers:e,fullSearcher:t});return{weights:null,results:r}}for(var s={},l=0,u=n.length;l<u;l+=1)for(var c=n[l],d=0,p=this.options.keys.length;d<p;d+=1){var f=this.options.keys[d];if("string"!=typeof f){if(s[f.name]={weight:1-f.weight||1},f.weight<=0||f.weight>1)throw new Error("Key weight has to be > 0 and <= 1");f=f.name}else s[f]={weight:1};this._analyze({key:f,value:this.options.getFn(c,f),record:c,index:l},{resultMap:i,results:r,tokenSearchers:e,fullSearcher:t})}return{weights:s,results:r}}},{key:"_analyze",value:function(e,t){var n=e.key,i=e.arrayIndex,r=void 0===i?-1:i,a=e.value,o=e.record,s=e.index,u=t.tokenSearchers,c=void 0===u?[]:u,d=t.fullSearcher,p=void 0===d?[]:d,f=t.resultMap,h=void 0===f?{}:f,m=t.results,v=void 0===m?[]:m;if(null!=a){var y=!1,b=-1,g=0;if("string"==typeof a){this._log("\nKey: ".concat(""===n?"-":n));var k=p.search(a);if(this._log('Full text: "'.concat(a,'", score: ').concat(k.score)),this.options.tokenize){for(var w=a.split(this.options.tokenSeparator),_=[],S=0;S<c.length;S+=1){var T=c[S];this._log('\nPattern: "'.concat(T.pattern,'"'));for(var x=!1,O=0;O<w.length;O+=1){var E=w[O],P=T.search(E),C={};P.isMatch?(C[E]=P.score,y=!0,x=!0,_.push(P.score)):(C[E]=1,this.options.matchAllTokens||_.push(1)),this._log('Token: "'.concat(E,'", score: ').concat(C[E]))}x&&(g+=1)}b=_[0];for(var A=_.length,I=1;I<A;I+=1)b+=_[I];b/=A,this._log("Token score average:",b)}var j=k.score;b>-1&&(j=(j+b)/2),this._log("Score average:",j);var L=!this.options.tokenize||!this.options.matchAllTokens||g>=c.length;if(this._log("\nCheck Matches: ".concat(L)),(y||k.isMatch)&&L){var M=h[s];M?M.output.push({key:n,arrayIndex:r,value:a,score:j,matchedIndices:k.matchedIndices}):(h[s]={item:o,output:[{key:n,arrayIndex:r,value:a,score:j,matchedIndices:k.matchedIndices}]},v.push(h[s]))}}else if(l(a))for(var R=0,D=a.length;R<D;R+=1)this._analyze({key:n,arrayIndex:R,value:a[R],record:o,index:s},{resultMap:h,results:v,tokenSearchers:c,fullSearcher:p})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var n=0,i=t.length;n<i;n+=1){for(var r=t[n].output,a=r.length,o=1,s=1,l=0;l<a;l+=1){var u=e?e[r[l].key].weight:1,c=(1===u?r[l].score:r[l].score||.001)*u;1!==u?s=Math.min(s,c):(r[l].nScore=c,o*=c)}t[n].score=1===s?o:s,this._log(t[n])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var n=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,(function(e,t){if("object"===i(t)&&null!==t){if(-1!==n.indexOf(t))return;n.push(t)}return t}))),n=null}var r=[];this.options.includeMatches&&r.push((function(e,t){var n=e.output;t.matches=[];for(var i=0,r=n.length;i<r;i+=1){var a=n[i];if(0!==a.matchedIndices.length){var o={indices:a.matchedIndices,value:a.value};a.key&&(o.key=a.key),a.hasOwnProperty("arrayIndex")&&a.arrayIndex>-1&&(o.arrayIndex=a.arrayIndex),t.matches.push(o)}}})),this.options.includeScore&&r.push((function(e,t){t.score=e.score}));for(var a=0,o=e.length;a<o;a+=1){var s=e[a];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),r.length){for(var l={item:s.item},u=0,c=r.length;u<c;u+=1)r[u](s,l);t.push(l)}else t.push(s.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports=u},function(e,t,n){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=n(3),a=n(4),o=n(7),s=function(){function e(t,n){var i=n.location,r=void 0===i?0:i,a=n.distance,s=void 0===a?100:a,l=n.threshold,u=void 0===l?.6:l,c=n.maxPatternLength,d=void 0===c?32:c,p=n.isCaseSensitive,f=void 0!==p&&p,h=n.tokenSeparator,m=void 0===h?/ +/g:h,v=n.findAllMatches,y=void 0!==v&&v,b=n.minMatchCharLength,g=void 0===b?1:b;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:r,distance:s,threshold:u,maxPatternLength:d,isCaseSensitive:f,tokenSeparator:m,findAllMatches:y,minMatchCharLength:g},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=d&&(this.patternAlphabet=o(this.pattern))}var t,n,s;return t=e,(n=[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,n=t.maxPatternLength,i=t.tokenSeparator;if(this.pattern.length>n)return r(e,this.pattern,i);var o=this.options,s=o.location,l=o.distance,u=o.threshold,c=o.findAllMatches,d=o.minMatchCharLength;return a(e,this.pattern,this.patternAlphabet,{location:s,distance:l,threshold:u,findAllMatches:c,minMatchCharLength:d})}}])&&i(t.prototype,n),s&&i(t,s),e}();e.exports=s},function(e,t){var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,r=new RegExp(t.replace(n,"\\$&").replace(i,"|")),a=e.match(r),o=!!a,s=[];if(o)for(var l=0,u=a.length;l<u;l+=1){var c=a[l];s.push([e.indexOf(c),c.length-1])}return{score:o?.5:1,isMatch:o,matchedIndices:s}}},function(e,t,n){var i=n(5),r=n(6);e.exports=function(e,t,n,a){for(var o=a.location,s=void 0===o?0:o,l=a.distance,u=void 0===l?100:l,c=a.threshold,d=void 0===c?.6:c,p=a.findAllMatches,f=void 0!==p&&p,h=a.minMatchCharLength,m=void 0===h?1:h,v=s,y=e.length,b=d,g=e.indexOf(t,v),k=t.length,w=[],_=0;_<y;_+=1)w[_]=0;if(-1!==g){var S=i(t,{errors:0,currentLocation:g,expectedLocation:v,distance:u});if(b=Math.min(S,b),-1!==(g=e.lastIndexOf(t,v+k))){var T=i(t,{errors:0,currentLocation:g,expectedLocation:v,distance:u});b=Math.min(T,b)}}g=-1;for(var x=[],O=1,E=k+y,P=1<<k-1,C=0;C<k;C+=1){for(var A=0,I=E;A<I;)i(t,{errors:C,currentLocation:v+I,expectedLocation:v,distance:u})<=b?A=I:E=I,I=Math.floor((E-A)/2+A);E=I;var j=Math.max(1,v-I+1),L=f?y:Math.min(v+I,y)+k,M=Array(L+2);M[L+1]=(1<<C)-1;for(var R=L;R>=j;R-=1){var D=R-1,N=n[e.charAt(D)];if(N&&(w[D]=1),M[R]=(M[R+1]<<1|1)&N,0!==C&&(M[R]|=(x[R+1]|x[R])<<1|1|x[R+1]),M[R]&P&&(O=i(t,{errors:C,currentLocation:D,expectedLocation:v,distance:u}))<=b){if(b=O,(g=D)<=v)break;j=Math.max(1,2*v-g)}}if(i(t,{errors:C+1,currentLocation:v,expectedLocation:v,distance:u})>b)break;x=M}return{isMatch:g>=0,score:0===O?.001:O,matchedIndices:r(w,m)}}},function(e,t){e.exports=function(e,t){var n=t.errors,i=void 0===n?0:n,r=t.currentLocation,a=void 0===r?0:r,o=t.expectedLocation,s=void 0===o?0:o,l=t.distance,u=void 0===l?100:l,c=i/e.length,d=Math.abs(s-a);return u?c+d/u:d?1:c}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],i=-1,r=-1,a=0,o=e.length;a<o;a+=1){var s=e[a];s&&-1===i?i=a:s||-1===i||((r=a-1)-i+1>=t&&n.push([i,r]),i=-1)}return e[a-1]&&a-i>=t&&n.push([i,a-1]),n}},function(e,t){e.exports=function(e){for(var t={},n=e.length,i=0;i<n;i+=1)t[e.charAt(i)]=0;for(var r=0;r<n;r+=1)t[e.charAt(r)]|=1<<n-r-1;return t}},function(e,t,n){var i=n(0);e.exports=function(e,t){return function e(t,n,r){if(n){var a=n.indexOf("."),o=n,s=null;-1!==a&&(o=n.slice(0,a),s=n.slice(a+1));var l=t[o];if(null!=l)if(s||"string"!=typeof l&&"number"!=typeof l)if(i(l))for(var u=0,c=l.length;u<c;u+=1)e(l[u],s,r);else s&&e(l,s,r);else r.push(l.toString())}else r.push(t);return r}(e,t,[])}}])},function(e,t,n){"use strict";function i(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return i}))},function(e,t,n){e.exports=n(7)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===("undefined"===typeof window?"undefined":o(window))&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";n.r(t);var i=n(2),r=n.n(i),a=n(0),s=n.n(a),l=n(1),u=function(){return Math.random().toString(36).substring(7).split("").join(".")},c={INIT:"@@redux/INIT"+u(),REPLACE:"@@redux/REPLACE"+u(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+u()}};function d(e){if("object"!==o(e)||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function p(e,t,n){var i;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(p)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var r=e,a=t,s=[],u=s,f=!1;function h(){u===s&&(u=s.slice())}function m(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return a}function v(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return h(),u.push(e),function(){if(t){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,h();var n=u.indexOf(e);u.splice(n,1)}}}function y(e){if(!d(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,a=r(a,e)}finally{f=!1}for(var t=s=u,n=0;n<t.length;n++)(0,t[n])();return e}function b(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");r=e,y({type:c.REPLACE})}function g(){var e,t=v;return(e={subscribe:function(e){if("object"!==o(e)||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[l.a]=function(){return this},e}return y({type:c.INIT}),(i={dispatch:y,subscribe:v,getState:m,replaceReducer:b})[l.a]=g,i}function f(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}var h,m=[],v=[],y=[],b={loading:!1},g=function(e,t){switch(void 0===e&&(e=b),t.type){case"SET_IS_LOADING":return{loading:t.isLoading};default:return e}},k=function(e){return Array.from({length:e},(function(){return(e=0,t=36,Math.floor(Math.random()*(t-e)+e)).toString(36);var e,t})).join("")},w=function(e){return Object.prototype.toString.call(e).slice(8,-1)},_=function(e,t){return void 0!==t&&null!==t&&w(t)===e},S=function(e){return"string"!==typeof e?e:e.replace(/&/g,"&amp;").replace(/>/g,"&rt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},T=(h=document.createElement("div"),function(e){var t=e.trim();h.innerHTML=t;for(var n=h.children[0];h.firstChild;)h.removeChild(h.firstChild);return n}),x=function(e,t){return e.score-t.score},O=function(e){return JSON.parse(JSON.stringify(e))},E=function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var r=t[i];"function"===typeof e[r]&&(n[r]=e[r])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:c.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:c.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+c.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var i=!1,r={},s=0;s<o.length;s++){var l=o[s],u=n[l],c=e[l],d=u(c,t);if("undefined"===typeof d){var p=f(l,t);throw new Error(p)}r[l]=d,i=i||d!==c}return i?r:e}}({items:function(e,t){switch(void 0===e&&(e=m),t.type){case"ADD_ITEM":return[].concat(e,[{id:t.id,choiceId:t.choiceId,groupId:t.groupId,value:t.value,label:t.label,active:!0,highlighted:!1,customProperties:t.customProperties,placeholder:t.placeholder||!1,keyCode:null}]).map((function(e){var t=e;return t.highlighted=!1,t}));case"REMOVE_ITEM":return e.map((function(e){var n=e;return n.id===t.id&&(n.active=!1),n}));case"HIGHLIGHT_ITEM":return e.map((function(e){var n=e;return n.id===t.id&&(n.highlighted=t.highlighted),n}));default:return e}},groups:function(e,t){switch(void 0===e&&(e=v),t.type){case"ADD_GROUP":return[].concat(e,[{id:t.id,value:t.value,active:t.active,disabled:t.disabled}]);case"CLEAR_CHOICES":return[];default:return e}},choices:function(e,t){switch(void 0===e&&(e=y),t.type){case"ADD_CHOICE":return[].concat(e,[{id:t.id,elementId:t.elementId,groupId:t.groupId,value:t.value,label:t.label||t.value,disabled:t.disabled||!1,selected:!1,active:!0,score:9999,customProperties:t.customProperties,placeholder:t.placeholder||!1,keyCode:null}]);case"ADD_ITEM":return t.activateOptions?e.map((function(e){var n=e;return n.active=t.active,n})):t.choiceId>-1?e.map((function(e){var n=e;return n.id===parseInt(t.choiceId,10)&&(n.selected=!0),n})):e;case"REMOVE_ITEM":return t.choiceId>-1?e.map((function(e){var n=e;return n.id===parseInt(t.choiceId,10)&&(n.selected=!1),n})):e;case"FILTER_CHOICES":return e.map((function(e){var n=e;return n.active=t.results.some((function(e){var t=e.item,i=e.score;return t.id===n.id&&(n.score=i,!0)})),n}));case"ACTIVATE_CHOICES":return e.map((function(e){var n=e;return n.active=t.active,n}));case"CLEAR_CHOICES":return y;default:return e}},general:g}),P=function(e,t){var n=e;if("CLEAR_ALL"===t.type)n=void 0;else if("RESET_TO"===t.type)return O(t.state);return E(n,t)};function C(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var A=function(){function e(){this._store=p(P,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}var t,n,i,r=e.prototype;return r.subscribe=function(e){this._store.subscribe(e)},r.dispatch=function(e){this._store.dispatch(e)},r.isLoading=function(){return this.state.general.loading},r.getChoiceById=function(e){return this.activeChoices.find((function(t){return t.id===parseInt(e,10)}))},r.getGroupById=function(e){return this.groups.find((function(t){return t.id===e}))},t=e,(n=[{key:"state",get:function(){return this._store.getState()}},{key:"items",get:function(){return this.state.items}},{key:"activeItems",get:function(){return this.items.filter((function(e){return!0===e.active}))}},{key:"highlightedActiveItems",get:function(){return this.items.filter((function(e){return e.active&&e.highlighted}))}},{key:"choices",get:function(){return this.state.choices}},{key:"activeChoices",get:function(){return this.choices.filter((function(e){return!0===e.active}))}},{key:"selectableChoices",get:function(){return this.choices.filter((function(e){return!0!==e.disabled}))}},{key:"searchableChoices",get:function(){return this.selectableChoices.filter((function(e){return!0!==e.placeholder}))}},{key:"placeholderChoice",get:function(){return[].concat(this.choices).reverse().find((function(e){return!0===e.placeholder}))}},{key:"groups",get:function(){return this.state.groups}},{key:"activeGroups",get:function(){var e=this.groups,t=this.choices;return e.filter((function(e){var n=!0===e.active&&!1===e.disabled,i=t.some((function(e){return!0===e.active&&!1===e.disabled}));return n&&i}),[])}}])&&C(t.prototype,n),i&&C(t,i),e}();function I(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var j=function(){function e(e){var t=e.element,n=e.type,i=e.classNames;this.element=t,this.classNames=i,this.type=n,this.isActive=!1}var t,n,i,r=e.prototype;return r.getChild=function(e){return this.element.querySelector(e)},r.show=function(){return this.element.classList.add(this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},r.hide=function(){return this.element.classList.remove(this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},t=e,(n=[{key:"distanceFromTopWindow",get:function(){return this.element.getBoundingClientRect().bottom}}])&&I(t.prototype,n),i&&I(t,i),e}(),L={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,addItemFilter:null,removeItems:!0,removeItemButton:!1,editItems:!1,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:function(e,t){var n=e.value,i=e.label,r=void 0===i?n:i,a=t.value,o=t.label,s=void 0===o?a:o;return r.localeCompare(s,[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})},placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(e){return'Press Enter to add <b>"'+S(e)+'"</b>'},maxItemText:function(e){return"Only "+e+" values can be added"},valueComparer:function(e,t){return e===t},fuseOptions:{includeScore:!0},callbackOnInit:null,callbackOnCreateTemplates:null,classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",selectedState:"is-selected",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"}},M="showDropdown",R="hideDropdown",D="change",N="choice",U="search",V="addItem",F="removeItem",B="highlightItem",H="highlightChoice",z="ADD_CHOICE",q="FILTER_CHOICES",K="ACTIVATE_CHOICES",W="CLEAR_CHOICES",X="ADD_GROUP",G="ADD_ITEM",Y="REMOVE_ITEM",Q="HIGHLIGHT_ITEM",$=46,J=8,Z=13,ee=65,te=27,ne=38,ie=40,re=33,ae=34,oe="text",se="select-one",le="select-multiple",ue=function(){function e(e){var t=e.element,n=e.type,i=e.classNames,r=e.position;this.element=t,this.classNames=i,this.type=n,this.position=r,this.isOpen=!1,this.isFlipped=!1,this.isFocussed=!1,this.isDisabled=!1,this.isLoading=!1,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}var t=e.prototype;return t.addEventListeners=function(){this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur)},t.removeEventListeners=function(){this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},t.shouldFlip=function(e){if("number"!==typeof e)return!1;var t=!1;return"auto"===this.position?t=!window.matchMedia("(min-height: "+(e+1)+"px)").matches:"top"===this.position&&(t=!0),t},t.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},t.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},t.open=function(e){this.element.classList.add(this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(e)&&(this.element.classList.add(this.classNames.flippedState),this.isFlipped=!0)},t.close=function(){this.element.classList.remove(this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(this.element.classList.remove(this.classNames.flippedState),this.isFlipped=!1)},t.focus=function(){this.isFocussed||this.element.focus()},t.addFocusState=function(){this.element.classList.add(this.classNames.focusState)},t.removeFocusState=function(){this.element.classList.remove(this.classNames.focusState)},t.enable=function(){this.element.classList.remove(this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===se&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},t.disable=function(){this.element.classList.add(this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===se&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},t.wrap=function(e){!function(e,t){void 0===t&&(t=document.createElement("div")),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t.appendChild(e)}(e,this.element)},t.unwrap=function(e){this.element.parentNode.insertBefore(e,this.element),this.element.parentNode.removeChild(this.element)},t.addLoadingState=function(){this.element.classList.add(this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},t.removeLoadingState=function(){this.element.classList.remove(this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},t._onFocus=function(){this.isFocussed=!0},t._onBlur=function(){this.isFocussed=!1},e}();function ce(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var de=function(){function e(e){var t=e.element,n=e.type,i=e.classNames,r=e.preventPaste;this.element=t,this.type=n,this.classNames=i,this.preventPaste=r,this.isFocussed=this.element===document.activeElement,this.isDisabled=t.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}var t,n,i,r=e.prototype;return r.addEventListeners=function(){this.element.addEventListener("paste",this._onPaste),this.element.addEventListener("input",this._onInput,{passive:!0}),this.element.addEventListener("focus",this._onFocus,{passive:!0}),this.element.addEventListener("blur",this._onBlur,{passive:!0})},r.removeEventListeners=function(){this.element.removeEventListener("input",this._onInput,{passive:!0}),this.element.removeEventListener("paste",this._onPaste),this.element.removeEventListener("focus",this._onFocus,{passive:!0}),this.element.removeEventListener("blur",this._onBlur,{passive:!0})},r.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},r.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},r.focus=function(){this.isFocussed||this.element.focus()},r.blur=function(){this.isFocussed&&this.element.blur()},r.clear=function(e){return void 0===e&&(e=!0),this.element.value&&(this.element.value=""),e&&this.setWidth(),this},r.setWidth=function(){var e=this.element,t=e.style,n=e.value,i=e.placeholder;t.minWidth=i.length+1+"ch",t.width=n.length+1+"ch"},r.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},r.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},r._onInput=function(){this.type!==se&&this.setWidth()},r._onPaste=function(e){this.preventPaste&&e.preventDefault()},r._onFocus=function(){this.isFocussed=!0},r._onBlur=function(){this.isFocussed=!1},t=e,(n=[{key:"placeholder",set:function(e){this.element.placeholder=e}},{key:"value",get:function(){return S(this.element.value)},set:function(e){this.element.value=e}}])&&ce(t.prototype,n),i&&ce(t,i),e}(),pe=function(){function e(e){var t=e.element;this.element=t,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}var t=e.prototype;return t.clear=function(){this.element.innerHTML=""},t.append=function(e){this.element.appendChild(e)},t.getChild=function(e){return this.element.querySelector(e)},t.hasChildren=function(){return this.element.hasChildNodes()},t.scrollToTop=function(){this.element.scrollTop=0},t.scrollToChildElement=function(e,t){var n=this;if(e){var i=this.element.offsetHeight,r=this.element.scrollTop+i,a=e.offsetHeight,o=e.offsetTop+a,s=t>0?this.element.scrollTop+o-r:e.offsetTop;requestAnimationFrame((function(){n._animateScroll(s,t)}))}},t._scrollDown=function(e,t,n){var i=(n-e)/t,r=i>1?i:1;this.element.scrollTop=e+r},t._scrollUp=function(e,t,n){var i=(e-n)/t,r=i>1?i:1;this.element.scrollTop=e-r},t._animateScroll=function(e,t){var n=this,i=this.element.scrollTop,r=!1;t>0?(this._scrollDown(i,4,e),i<e&&(r=!0)):(this._scrollUp(i,4,e),i>e&&(r=!0)),r&&requestAnimationFrame((function(){n._animateScroll(e,t)}))},e}();function fe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var he=function(){function e(e){var t=e.element,n=e.classNames;if(this.element=t,this.classNames=n,!(t instanceof HTMLInputElement)&&!(t instanceof HTMLSelectElement))throw new TypeError("Invalid element passed");this.isDisabled=!1}var t,n,i,r=e.prototype;return r.conceal=function(){this.element.classList.add(this.classNames.input),this.element.hidden=!0,this.element.tabIndex=-1;var e=this.element.getAttribute("style");e&&this.element.setAttribute("data-choice-orig-style",e),this.element.setAttribute("data-choice","active")},r.reveal=function(){this.element.classList.remove(this.classNames.input),this.element.hidden=!1,this.element.removeAttribute("tabindex");var e=this.element.getAttribute("data-choice-orig-style");e?(this.element.removeAttribute("data-choice-orig-style"),this.element.setAttribute("style",e)):this.element.removeAttribute("style"),this.element.removeAttribute("data-choice"),this.element.value=this.element.value},r.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},r.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},r.triggerEvent=function(e,t){!function(e,t,n){void 0===n&&(n=null);var i=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0});e.dispatchEvent(i)}(this.element,e,t)},t=e,(n=[{key:"isActive",get:function(){return"active"===this.element.dataset.choice}},{key:"dir",get:function(){return this.element.dir}},{key:"value",get:function(){return this.element.value},set:function(e){this.element.value=e}}])&&fe(t.prototype,n),i&&fe(t,i),e}();function me(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ve=function(e){var t,n,i,r,a;function o(t){var n,i=t.element,r=t.classNames,a=t.delimiter;return(n=e.call(this,{element:i,classNames:r})||this).delimiter=a,n}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i=o,(r=[{key:"value",get:function(){return this.element.value},set:function(e){var t=e.map((function(e){return e.value})).join(this.delimiter);this.element.setAttribute("value",t),this.element.value=t}}])&&me(i.prototype,r),a&&me(i,a),o}(he);function ye(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var be=function(e){var t,n,i,r,a;function o(t){var n,i=t.element,r=t.classNames,a=t.template;return(n=e.call(this,{element:i,classNames:r})||this).template=a,n}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,o.prototype.appendDocFragment=function(e){this.element.innerHTML="",this.element.appendChild(e)},i=o,(r=[{key:"placeholderOption",get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")}},{key:"optionGroups",get:function(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))}},{key:"options",get:function(){return Array.from(this.element.options)},set:function(e){var t=this,n=document.createDocumentFragment();e.forEach((function(e){return i=e,r=t.template(i),void n.appendChild(r);var i,r})),this.appendDocFragment(n)}}])&&ye(i.prototype,r),a&&ye(i,a),o}(he),ge={containerOuter:function(e,t,n,i,r,a){var o=e.containerOuter,s=Object.assign(document.createElement("div"),{className:o});return s.dataset.type=a,t&&(s.dir=t),i&&(s.tabIndex=0),n&&(s.setAttribute("role",r?"combobox":"listbox"),r&&s.setAttribute("aria-autocomplete","list")),s.setAttribute("aria-haspopup","true"),s.setAttribute("aria-expanded","false"),s},containerInner:function(e){var t=e.containerInner;return Object.assign(document.createElement("div"),{className:t})},itemList:function(e,t){var n=e.list,i=e.listSingle,r=e.listItems;return Object.assign(document.createElement("div"),{className:n+" "+(t?i:r)})},placeholder:function(e,t){var n=e.placeholder;return Object.assign(document.createElement("div"),{className:n,innerHTML:t})},item:function(e,t,n){var i=e.item,r=e.button,a=e.highlightedState,o=e.itemSelectable,s=e.placeholder,l=t.id,u=t.value,c=t.label,d=t.customProperties,p=t.active,f=t.disabled,h=t.highlighted,m=t.placeholder,v=Object.assign(document.createElement("div"),{className:i,innerHTML:c});if(Object.assign(v.dataset,{item:"",id:l,value:u,customProperties:d}),p&&v.setAttribute("aria-selected","true"),f&&v.setAttribute("aria-disabled","true"),m&&v.classList.add(s),v.classList.add(h?a:o),n){f&&v.classList.remove(o),v.dataset.deletable="";var y="Remove item",b=Object.assign(document.createElement("button"),{type:"button",className:r,innerHTML:y});b.setAttribute("aria-label","Remove item: '"+u+"'"),b.dataset.button="",v.appendChild(b)}return v},choiceList:function(e,t){var n=e.list,i=Object.assign(document.createElement("div"),{className:n});return t||i.setAttribute("aria-multiselectable","true"),i.setAttribute("role","listbox"),i},choiceGroup:function(e,t){var n=e.group,i=e.groupHeading,r=e.itemDisabled,a=t.id,o=t.value,s=t.disabled,l=Object.assign(document.createElement("div"),{className:n+" "+(s?r:"")});return l.setAttribute("role","group"),Object.assign(l.dataset,{group:"",id:a,value:o}),s&&l.setAttribute("aria-disabled","true"),l.appendChild(Object.assign(document.createElement("div"),{className:i,innerHTML:o})),l},choice:function(e,t,n){var i=e.item,r=e.itemChoice,a=e.itemSelectable,o=e.selectedState,s=e.itemDisabled,l=e.placeholder,u=t.id,c=t.value,d=t.label,p=t.groupId,f=t.elementId,h=t.disabled,m=t.selected,v=t.placeholder,y=Object.assign(document.createElement("div"),{id:f,innerHTML:d,className:i+" "+r});return m&&y.classList.add(o),v&&y.classList.add(l),y.setAttribute("role",p>0?"treeitem":"option"),Object.assign(y.dataset,{choice:"",id:u,value:c,selectText:n}),h?(y.classList.add(s),y.dataset.choiceDisabled="",y.setAttribute("aria-disabled","true")):(y.classList.add(a),y.dataset.choiceSelectable=""),y},input:function(e,t){var n=e.input,i=e.inputCloned,r=Object.assign(document.createElement("input"),{type:"text",className:n+" "+i,autocomplete:"off",autocapitalize:"off",spellcheck:!1});return r.setAttribute("role","textbox"),r.setAttribute("aria-autocomplete","list"),r.setAttribute("aria-label",t),r},dropdown:function(e){var t=e.list,n=e.listDropdown,i=document.createElement("div");return i.classList.add(t,n),i.setAttribute("aria-expanded","false"),i},notice:function(e,t,n){var i=e.item,r=e.itemChoice,a=e.noResults,o=e.noChoices;void 0===n&&(n="");var s=[i,r];return"no-choices"===n?s.push(o):"no-results"===n&&s.push(a),Object.assign(document.createElement("div"),{innerHTML:t,className:s.join(" ")})},option:function(e){var t=e.label,n=e.value,i=e.customProperties,r=e.active,a=e.disabled,o=new Option(t,n,!1,r);return i&&(o.dataset.customProperties=i),o.disabled=a,o}},ke=function(e){return void 0===e&&(e=!0),{type:K,active:e}},we=function(e,t){return{type:Q,id:e,highlighted:t}},_e=function(e){var t=e.value,n=e.id,i=e.active,r=e.disabled;return{type:X,value:t,id:n,active:i,disabled:r}},Se=function(e){return{type:"SET_IS_LOADING",isLoading:e}};function Te(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var xe="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,Oe={},Ee=function(){var e,t,n;function i(e,t){var n=this;void 0===e&&(e="[data-choice]"),void 0===t&&(t={}),this.config=s.a.all([L,i.defaults.options,t],{arrayMerge:function(e,t){return[].concat(t)}});var r,a,o,l,u=(r=this.config,a=L,o=Object.keys(r).sort(),l=Object.keys(a).sort(),o.filter((function(e){return l.indexOf(e)<0})));u.length&&console.warn("Unknown config option(s) passed",u.join(", "));var c="string"===typeof e?document.querySelector(e):e;if(!(c instanceof HTMLInputElement||c instanceof HTMLSelectElement))throw TypeError("Expected one of the following types text|select-one|select-multiple");if(this._isTextElement=c.type===oe,this._isSelectOneElement=c.type===se,this._isSelectMultipleElement=c.type===le,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this.config.searchEnabled=this._isSelectMultipleElement||this.config.searchEnabled,["auto","always"].includes(this.config.renderSelectedChoices)||(this.config.renderSelectedChoices="auto"),t.addItemFilter&&"function"!==typeof t.addItemFilter){var d=t.addItemFilter instanceof RegExp?t.addItemFilter:new RegExp(t.addItemFilter);this.config.addItemFilter=d.test.bind(d)}if(this._isTextElement?this.passedElement=new ve({element:c,classNames:this.config.classNames,delimiter:this.config.delimiter}):this.passedElement=new be({element:c,classNames:this.config.classNames,template:function(e){return n._templates.option(e)}}),this.initialised=!1,this._store=new A,this._initialState={},this._currentState={},this._prevState={},this._currentValue="",this._canSearch=this.config.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=function(e,t){var n=e.id||e.name&&e.name+"-"+k(2)||k(4);return t+"-"+n.replace(/(:|\.|\[|\]|,)/g,"")}(this.passedElement.element,"choices-"),this._direction=this.passedElement.dir,!this._direction){var p=window.getComputedStyle(this.passedElement.element).direction;p!==window.getComputedStyle(document.documentElement).direction&&(this._direction=p)}if(this._idNames={itemChoice:"item-choice"},this._presetGroups=this.passedElement.optionGroups,this._presetOptions=this.passedElement.options,this._presetChoices=this.config.choices,this._presetItems=this.config.items,this.passedElement.value&&(this._presetItems=this._presetItems.concat(this.passedElement.value.split(this.config.delimiter))),this.passedElement.options&&this.passedElement.options.forEach((function(e){n._presetChoices.push({value:e.value,label:e.innerHTML,selected:e.selected,disabled:e.disabled||e.parentNode.disabled,placeholder:""===e.value||e.hasAttribute("placeholder"),customProperties:e.getAttribute("data-custom-properties")})})),this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onAKey=this._onAKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive)return this.config.silent||console.warn("Trying to initialise Choices on element already initialised"),void(this.initialised=!0);this.init()}e=i,n=[{key:"defaults",get:function(){return Object.preventExtensions({get options(){return Oe},get templates(){return ge}})}}],(t=null)&&Te(e.prototype,t),n&&Te(e,n);var a=i.prototype;return a.init=function(){if(!this.initialised){this._createTemplates(),this._createElements(),this._createStructure(),this._initialState=O(this._store.state),this._store.subscribe(this._render),this._render(),this._addEventListeners(),(!this.config.addItems||this.passedElement.element.hasAttribute("disabled"))&&this.disable(),this.initialised=!0;var e=this.config.callbackOnInit;e&&"function"===typeof e&&e.call(this)}},a.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this.clearStore(),this._isSelectElement&&(this.passedElement.options=this._presetOptions),this._templates=null,this.initialised=!1)},a.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},a.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},a.highlightItem=function(e,t){if(void 0===t&&(t=!0),!e)return this;var n=e.id,i=e.groupId,r=void 0===i?-1:i,a=e.value,o=void 0===a?"":a,s=e.label,l=void 0===s?"":s,u=r>=0?this._store.getGroupById(r):null;return this._store.dispatch(we(n,!0)),t&&this.passedElement.triggerEvent(B,{id:n,value:o,label:l,groupValue:u&&u.value?u.value:null}),this},a.unhighlightItem=function(e){if(!e)return this;var t=e.id,n=e.groupId,i=void 0===n?-1:n,r=e.value,a=void 0===r?"":r,o=e.label,s=void 0===o?"":o,l=i>=0?this._store.getGroupById(i):null;return this._store.dispatch(we(t,!1)),this.passedElement.triggerEvent(B,{id:t,value:a,label:s,groupValue:l&&l.value?l.value:null}),this},a.highlightAll=function(){var e=this;return this._store.items.forEach((function(t){return e.highlightItem(t)})),this},a.unhighlightAll=function(){var e=this;return this._store.items.forEach((function(t){return e.unhighlightItem(t)})),this},a.removeActiveItemsByValue=function(e){var t=this;return this._store.activeItems.filter((function(t){return t.value===e})).forEach((function(e){return t._removeItem(e)})),this},a.removeActiveItems=function(e){var t=this;return this._store.activeItems.filter((function(t){return t.id!==e})).forEach((function(e){return t._removeItem(e)})),this},a.removeHighlightedItems=function(e){var t=this;return void 0===e&&(e=!1),this._store.highlightedActiveItems.forEach((function(n){t._removeItem(n),e&&t._triggerChange(n.value)})),this},a.showDropdown=function(e){var t=this;return this.dropdown.isActive||requestAnimationFrame((function(){t.dropdown.show(),t.containerOuter.open(t.dropdown.distanceFromTopWindow),!e&&t._canSearch&&t.input.focus(),t.passedElement.triggerEvent(M,{})})),this},a.hideDropdown=function(e){var t=this;return this.dropdown.isActive?(requestAnimationFrame((function(){t.dropdown.hide(),t.containerOuter.close(),!e&&t._canSearch&&(t.input.removeActiveDescendant(),t.input.blur()),t.passedElement.triggerEvent(R,{})})),this):this},a.getValue=function(e){void 0===e&&(e=!1);var t=this._store.activeItems.reduce((function(t,n){var i=e?n.value:n;return t.push(i),t}),[]);return this._isSelectOneElement?t[0]:t},a.setValue=function(e){var t=this;return this.initialised?(e.forEach((function(e){return t._setChoiceOrItem(e)})),this):this},a.setChoiceByValue=function(e){var t=this;return!this.initialised||this._isTextElement||(Array.isArray(e)?e:[e]).forEach((function(e){return t._findAndSelectChoiceByValue(e)})),this},a.setChoices=function(e,t,n,i){var r=this;if(void 0===e&&(e=[]),void 0===t&&(t="value"),void 0===n&&(n="label"),void 0===i&&(i=!1),!this.initialised)throw new ReferenceError("setChoices was called on a non-initialized instance of Choices");if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if("string"!==typeof t||!t)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(i&&this.clearChoices(),"function"===typeof e){var a=e(this);if("function"===typeof Promise&&a instanceof Promise)return new Promise((function(e){return requestAnimationFrame(e)})).then((function(){return r._handleLoadingState(!0)})).then((function(){return a})).then((function(e){return r.setChoices(e,t,n,i)})).catch((function(e){r.config.silent||console.error(e)})).then((function(){return r._handleLoadingState(!1)})).then((function(){return r}));if(!Array.isArray(a))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: "+o(a));return this.setChoices(a,t,n,!1)}if(!Array.isArray(e))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._startLoading(),e.forEach((function(e){e.choices?r._addGroup({id:parseInt(e.id,10)||null,group:e,valueKey:t,labelKey:n}):r._addChoice({value:e[t],label:e[n],isSelected:e.selected,isDisabled:e.disabled,customProperties:e.customProperties,placeholder:e.placeholder})})),this._stopLoading(),this},a.clearChoices=function(){return this._store.dispatch({type:W}),this},a.clearStore=function(){return this._store.dispatch({type:"CLEAR_ALL"}),this},a.clearInput=function(){var e=!this._isSelectOneElement;return this.input.clear(e),!this._isTextElement&&this._canSearch&&(this._isSearching=!1,this._store.dispatch(ke(!0))),this},a._render=function(){if(!this._store.isLoading()){this._currentState=this._store.state;var e=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items,t=this._isSelectElement,n=this._currentState.items!==this._prevState.items;e&&(t&&this._renderChoices(),n&&this._renderItems(),this._prevState=this._currentState)}},a._renderChoices=function(){var e=this,t=this._store,n=t.activeGroups,i=t.activeChoices,r=document.createDocumentFragment();if(this.choiceList.clear(),this.config.resetScrollPosition&&requestAnimationFrame((function(){return e.choiceList.scrollToTop()})),n.length>=1&&!this._isSearching){var a=i.filter((function(e){return!0===e.placeholder&&-1===e.groupId}));a.length>=1&&(r=this._createChoicesFragment(a,r)),r=this._createGroupsFragment(n,i,r)}else i.length>=1&&(r=this._createChoicesFragment(i,r));if(r.childNodes&&r.childNodes.length>0){var o=this._store.activeItems,s=this._canAddItem(o,this.input.value);s.response?(this.choiceList.append(r),this._highlightChoice()):this.choiceList.append(this._getTemplate("notice",s.notice))}else{var l,u;this._isSearching?(u="function"===typeof this.config.noResultsText?this.config.noResultsText():this.config.noResultsText,l=this._getTemplate("notice",u,"no-results")):(u="function"===typeof this.config.noChoicesText?this.config.noChoicesText():this.config.noChoicesText,l=this._getTemplate("notice",u,"no-choices")),this.choiceList.append(l)}},a._renderItems=function(){var e=this._store.activeItems||[];this.itemList.clear();var t=this._createItemsFragment(e);t.childNodes&&this.itemList.append(t)},a._createGroupsFragment=function(e,t,n){var i=this;return void 0===n&&(n=document.createDocumentFragment()),this.config.shouldSort&&e.sort(this.config.sorter),e.forEach((function(e){var r=function(e){return t.filter((function(t){return i._isSelectOneElement?t.groupId===e.id:t.groupId===e.id&&("always"===i.config.renderSelectedChoices||!t.selected)}))}(e);if(r.length>=1){var a=i._getTemplate("choiceGroup",e);n.appendChild(a),i._createChoicesFragment(r,n,!0)}})),n},a._createChoicesFragment=function(e,t,n){var i=this;void 0===t&&(t=document.createDocumentFragment()),void 0===n&&(n=!1);var r=this.config,a=r.renderSelectedChoices,o=r.searchResultLimit,s=r.renderChoiceLimit,l=this._isSearching?x:this.config.sorter,u=function(e){if("auto"!==a||i._isSelectOneElement||!e.selected){var n=i._getTemplate("choice",e,i.config.itemSelectText);t.appendChild(n)}},c=e;"auto"!==a||this._isSelectOneElement||(c=e.filter((function(e){return!e.selected})));var d=c.reduce((function(e,t){return t.placeholder?e.placeholderChoices.push(t):e.normalChoices.push(t),e}),{placeholderChoices:[],normalChoices:[]}),p=d.placeholderChoices,f=d.normalChoices;(this.config.shouldSort||this._isSearching)&&f.sort(l);var h=c.length,m=this._isSelectOneElement?[].concat(p,f):f;this._isSearching?h=o:s&&s>0&&!n&&(h=s);for(var v=0;v<h;v+=1)m[v]&&u(m[v]);return t},a._createItemsFragment=function(e,t){var n=this;void 0===t&&(t=document.createDocumentFragment());var i=this.config,r=i.shouldSortItems,a=i.sorter,o=i.removeItemButton;return r&&!this._isSelectOneElement&&e.sort(a),this._isTextElement?this.passedElement.value=e:this.passedElement.options=e,e.forEach((function(e){var i=n._getTemplate("item",e,o);t.appendChild(i)})),t},a._triggerChange=function(e){void 0!==e&&null!==e&&this.passedElement.triggerEvent(D,{value:e})},a._selectPlaceholderChoice=function(){var e=this._store.placeholderChoice;e&&(this._addItem({value:e.value,label:e.label,choiceId:e.id,groupId:e.groupId,placeholder:e.placeholder}),this._triggerChange(e.value))},a._handleButtonAction=function(e,t){if(e&&t&&this.config.removeItems&&this.config.removeItemButton){var n=t.parentNode.getAttribute("data-id"),i=e.find((function(e){return e.id===parseInt(n,10)}));this._removeItem(i),this._triggerChange(i.value),this._isSelectOneElement&&this._selectPlaceholderChoice()}},a._handleItemAction=function(e,t,n){var i=this;if(void 0===n&&(n=!1),e&&t&&this.config.removeItems&&!this._isSelectOneElement){var r=t.getAttribute("data-id");e.forEach((function(e){e.id!==parseInt(r,10)||e.highlighted?!n&&e.highlighted&&i.unhighlightItem(e):i.highlightItem(e)})),this.input.focus()}},a._handleChoiceAction=function(e,t){if(e&&t){var n=t.dataset.id,i=this._store.getChoiceById(n);if(i){var r=e[0]&&e[0].keyCode?e[0].keyCode:null,a=this.dropdown.isActive;i.keyCode=r,this.passedElement.triggerEvent(N,{choice:i}),i.selected||i.disabled||this._canAddItem(e,i.value).response&&(this._addItem({value:i.value,label:i.label,choiceId:i.id,groupId:i.groupId,customProperties:i.customProperties,placeholder:i.placeholder,keyCode:i.keyCode}),this._triggerChange(i.value)),this.clearInput(),a&&this._isSelectOneElement&&(this.hideDropdown(!0),this.containerOuter.focus())}}},a._handleBackspace=function(e){if(this.config.removeItems&&e){var t=e[e.length-1],n=e.some((function(e){return e.highlighted}));this.config.editItems&&!n&&t?(this.input.value=t.value,this.input.setWidth(),this._removeItem(t),this._triggerChange(t.value)):(n||this.highlightItem(t,!1),this.removeHighlightedItems(!0))}},a._startLoading=function(){this._store.dispatch(Se(!0))},a._stopLoading=function(){this._store.dispatch(Se(!1))},a._handleLoadingState=function(e){void 0===e&&(e=!0);var t=this.itemList.getChild("."+this.config.classNames.placeholder);e?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?t?t.innerHTML=this.config.loadingText:(t=this._getTemplate("placeholder",this.config.loadingText),this.itemList.append(t)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?t.innerHTML=this._placeholderValue||"":this.input.placeholder=this._placeholderValue||"")},a._handleSearch=function(e){if(e&&this.input.isFocussed){var t=this._store.choices,n=this.config,i=n.searchFloor,r=n.searchChoices,a=t.some((function(e){return!e.active}));if(e&&e.length>=i){var o=r?this._searchChoices(e):0;this.passedElement.triggerEvent(U,{value:e,resultCount:o})}else a&&(this._isSearching=!1,this._store.dispatch(ke(!0)))}},a._canAddItem=function(e,t){var n=!0,i="function"===typeof this.config.addItemText?this.config.addItemText(t):this.config.addItemText;if(!this._isSelectOneElement){var r=function(e,t,n){return void 0===n&&(n="value"),e.some((function(e){return"string"===typeof t?e[n]===t.trim():e[n]===t}))}(e,t);this.config.maxItemCount>0&&this.config.maxItemCount<=e.length&&(n=!1,i="function"===typeof this.config.maxItemText?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),!this.config.duplicateItemsAllowed&&r&&n&&(n=!1,i="function"===typeof this.config.uniqueItemText?this.config.uniqueItemText(t):this.config.uniqueItemText),this._isTextElement&&this.config.addItems&&n&&"function"===typeof this.config.addItemFilter&&!this.config.addItemFilter(t)&&(n=!1,i="function"===typeof this.config.customAddItemText?this.config.customAddItemText(t):this.config.customAddItemText)}return{response:n,notice:i}},a._searchChoices=function(e){var t="string"===typeof e?e.trim():e,n="string"===typeof this._currentValue?this._currentValue.trim():this._currentValue;if(t.length<1&&t===n+" ")return 0;var i=this._store.searchableChoices,a=t,o=[].concat(this.config.searchFields),s=Object.assign(this.config.fuseOptions,{keys:o}),l=new r.a(i,s).search(a);return this._currentValue=t,this._highlightPosition=0,this._isSearching=!0,this._store.dispatch(function(e){return{type:q,results:e}}(l)),l.length},a._addEventListeners=function(){var e=document.documentElement;e.addEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.addEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("click",this._onClick,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(this.containerOuter.element.addEventListener("focus",this._onFocus,{passive:!0}),this.containerOuter.element.addEventListener("blur",this._onBlur,{passive:!0})),this.input.element.addEventListener("keyup",this._onKeyUp,{passive:!0}),this.input.element.addEventListener("focus",this._onFocus,{passive:!0}),this.input.element.addEventListener("blur",this._onBlur,{passive:!0}),this.input.element.form&&this.input.element.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},a._removeEventListeners=function(){var e=document.documentElement;e.removeEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.removeEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("click",this._onClick),e.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.removeEventListener("focus",this._onFocus),this.containerOuter.element.removeEventListener("blur",this._onBlur)),this.input.element.removeEventListener("keyup",this._onKeyUp),this.input.element.removeEventListener("focus",this._onFocus),this.input.element.removeEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},a._onKeyDown=function(e){var t,n=e.target,i=e.keyCode,r=e.ctrlKey,a=e.metaKey,o=this._store.activeItems,s=this.input.isFocussed,l=this.dropdown.isActive,u=this.itemList.hasChildren(),c=String.fromCharCode(i),d=$,p=J,f=Z,h=ee,m=te,v=ne,y=ie,b=re,g=ae,k=r||a;!this._isTextElement&&/[a-zA-Z0-9-_ ]/.test(c)&&this.showDropdown();var w=((t={})[h]=this._onAKey,t[f]=this._onEnterKey,t[m]=this._onEscapeKey,t[v]=this._onDirectionKey,t[b]=this._onDirectionKey,t[y]=this._onDirectionKey,t[g]=this._onDirectionKey,t[p]=this._onDeleteKey,t[d]=this._onDeleteKey,t);w[i]&&w[i]({event:e,target:n,keyCode:i,metaKey:a,activeItems:o,hasFocusedInput:s,hasActiveDropdown:l,hasItems:u,hasCtrlDownKeyPressed:k})},a._onKeyUp=function(e){var t=e.target,n=e.keyCode,i=this.input.value,r=this._store.activeItems,a=this._canAddItem(r,i),o=$,s=J;if(this._isTextElement)if(a.notice&&i){var l=this._getTemplate("notice",a.notice);this.dropdown.element.innerHTML=l.outerHTML,this.showDropdown(!0)}else this.hideDropdown(!0);else{var u=(n===o||n===s)&&!t.value,c=!this._isTextElement&&this._isSearching,d=this._canSearch&&a.response;u&&c?(this._isSearching=!1,this._store.dispatch(ke(!0))):d&&this._handleSearch(this.input.value)}this._canSearch=this.config.searchEnabled},a._onAKey=function(e){var t=e.hasItems;e.hasCtrlDownKeyPressed&&t&&(this._canSearch=!1,this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement&&this.highlightAll())},a._onEnterKey=function(e){var t=e.event,n=e.target,i=e.activeItems,r=e.hasActiveDropdown,a=Z,o=n.hasAttribute("data-button");if(this._isTextElement&&n.value){var s=this.input.value;this._canAddItem(i,s).response&&(this.hideDropdown(!0),this._addItem({value:s}),this._triggerChange(s),this.clearInput())}if(o&&(this._handleButtonAction(i,n),t.preventDefault()),r){var l=this.dropdown.getChild("."+this.config.classNames.highlightedState);l&&(i[0]&&(i[0].keyCode=a),this._handleChoiceAction(i,l)),t.preventDefault()}else this._isSelectOneElement&&(this.showDropdown(),t.preventDefault())},a._onEscapeKey=function(e){e.hasActiveDropdown&&(this.hideDropdown(!0),this.containerOuter.focus())},a._onDirectionKey=function(e){var t,n,i,r=e.event,a=e.hasActiveDropdown,o=e.keyCode,s=e.metaKey,l=ie,u=re,c=ae;if(a||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var d,p=o===l||o===c?1:-1,f="[data-choice-selectable]";if(s||o===c||o===u)d=p>0?this.dropdown.element.querySelector("[data-choice-selectable]:last-of-type"):this.dropdown.element.querySelector(f);else{var h=this.dropdown.element.querySelector("."+this.config.classNames.highlightedState);d=h?function(e,t,n){if(void 0===n&&(n=1),e instanceof Element&&"string"===typeof t){for(var i=(n>0?"next":"previous")+"ElementSibling",r=e[i];r;){if(r.matches(t))return r;r=r[i]}return r}}(h,f,p):this.dropdown.element.querySelector(f)}d&&(t=d,n=this.choiceList.element,void 0===(i=p)&&(i=1),t&&(i>0?n.scrollTop+n.offsetHeight>=t.offsetTop+t.offsetHeight:t.offsetTop>=n.scrollTop)||this.choiceList.scrollToChildElement(d,p),this._highlightChoice(d)),r.preventDefault()}},a._onDeleteKey=function(e){var t=e.event,n=e.target,i=e.hasFocusedInput,r=e.activeItems;!i||n.value||this._isSelectOneElement||(this._handleBackspace(r),t.preventDefault())},a._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},a._onTouchEnd=function(e){var t=(e||e.touches[0]).target;this._wasTap&&this.containerOuter.element.contains(t)&&((t===this.containerOuter.element||t===this.containerInner.element)&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),e.stopPropagation()),this._wasTap=!0},a._onMouseDown=function(e){var t=e.target;if(t instanceof HTMLElement){if(xe&&this.choiceList.element.contains(t)){var n=this.choiceList.element.firstElementChild,i="ltr"===this._direction?e.offsetX>=n.offsetWidth:e.offsetX<n.offsetLeft;this._isScrollingOnIe=i}if(t!==this.input.element){var r=t.closest("[data-button],[data-item],[data-choice]");if(r instanceof HTMLElement){var a=e.shiftKey,o=this._store.activeItems,s=r.dataset;"button"in s?this._handleButtonAction(o,r):"item"in s?this._handleItemAction(o,r,a):"choice"in s&&this._handleChoiceAction(o,r)}e.preventDefault()}}},a._onMouseOver=function(e){var t=e.target;t instanceof HTMLElement&&"choice"in t.dataset&&this._highlightChoice(t)},a._onClick=function(e){var t=e.target;this.containerOuter.element.contains(t)?this.dropdown.isActive||this.containerOuter.isDisabled?this._isSelectOneElement&&t!==this.input.element&&!this.dropdown.element.contains(t)&&this.hideDropdown():this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),this.containerOuter.focus()):(this._store.highlightedActiveItems.length>0&&this.unhighlightAll(),this.containerOuter.removeFocusState(),this.hideDropdown(!0))},a._onFocus=function(e){var t,n=this,i=e.target;this.containerOuter.element.contains(i)&&((t={}).text=function(){i===n.input.element&&n.containerOuter.addFocusState()},t["select-one"]=function(){n.containerOuter.addFocusState(),i===n.input.element&&n.showDropdown(!0)},t["select-multiple"]=function(){i===n.input.element&&(n.showDropdown(!0),n.containerOuter.addFocusState())},t)[this.passedElement.element.type]()},a._onBlur=function(e){var t=this,n=e.target;if(this.containerOuter.element.contains(n)&&!this._isScrollingOnIe){var i,r=this._store.activeItems.some((function(e){return e.highlighted}));((i={}).text=function(){n===t.input.element&&(t.containerOuter.removeFocusState(),r&&t.unhighlightAll(),t.hideDropdown(!0))},i["select-one"]=function(){t.containerOuter.removeFocusState(),(n===t.input.element||n===t.containerOuter.element&&!t._canSearch)&&t.hideDropdown(!0)},i["select-multiple"]=function(){n===t.input.element&&(t.containerOuter.removeFocusState(),t.hideDropdown(!0),r&&t.unhighlightAll())},i)[this.passedElement.element.type]()}else this._isScrollingOnIe=!1,this.input.element.focus()},a._onFormReset=function(){this._store.dispatch({type:"RESET_TO",state:this._initialState})},a._highlightChoice=function(e){var t=this;void 0===e&&(e=null);var n=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(n.length){var i=e;Array.from(this.dropdown.element.querySelectorAll("."+this.config.classNames.highlightedState)).forEach((function(e){e.classList.remove(t.config.classNames.highlightedState),e.setAttribute("aria-selected","false")})),i?this._highlightPosition=n.indexOf(i):(i=n.length>this._highlightPosition?n[this._highlightPosition]:n[n.length-1])||(i=n[0]),i.classList.add(this.config.classNames.highlightedState),i.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(H,{el:i}),this.dropdown.isActive&&(this.input.setActiveDescendant(i.id),this.containerOuter.setActiveDescendant(i.id))}},a._addItem=function(e){var t=e.value,n=e.label,i=void 0===n?null:n,r=e.choiceId,a=void 0===r?-1:r,o=e.groupId,s=void 0===o?-1:o,l=e.customProperties,u=void 0===l?null:l,c=e.placeholder,d=void 0!==c&&c,p=e.keyCode,f=void 0===p?null:p,h="string"===typeof t?t.trim():t,m=f,v=u,y=this._store.items,b=i||h,g=a||-1,k=s>=0?this._store.getGroupById(s):null,w=y?y.length+1:1;return this.config.prependValue&&(h=this.config.prependValue+h.toString()),this.config.appendValue&&(h+=this.config.appendValue.toString()),this._store.dispatch(function(e){var t=e.value,n=e.label,i=e.id,r=e.choiceId,a=e.groupId,o=e.customProperties,s=e.placeholder,l=e.keyCode;return{type:G,value:t,label:n,id:i,choiceId:r,groupId:a,customProperties:o,placeholder:s,keyCode:l}}({value:h,label:b,id:w,choiceId:g,groupId:s,customProperties:u,placeholder:d,keyCode:m})),this._isSelectOneElement&&this.removeActiveItems(w),this.passedElement.triggerEvent(V,{id:w,value:h,label:b,customProperties:v,groupValue:k&&k.value?k.value:void 0,keyCode:m}),this},a._removeItem=function(e){if(!e||!_("Object",e))return this;var t=e.id,n=e.value,i=e.label,r=e.choiceId,a=e.groupId,o=a>=0?this._store.getGroupById(a):null;return this._store.dispatch(function(e,t){return{type:Y,id:e,choiceId:t}}(t,r)),o&&o.value?this.passedElement.triggerEvent(F,{id:t,value:n,label:i,groupValue:o.value}):this.passedElement.triggerEvent(F,{id:t,value:n,label:i}),this},a._addChoice=function(e){var t=e.value,n=e.label,i=void 0===n?null:n,r=e.isSelected,a=void 0!==r&&r,o=e.isDisabled,s=void 0!==o&&o,l=e.groupId,u=void 0===l?-1:l,c=e.customProperties,d=void 0===c?null:c,p=e.placeholder,f=void 0!==p&&p,h=e.keyCode,m=void 0===h?null:h;if("undefined"!==typeof t&&null!==t){var v=this._store.choices,y=i||t,b=v?v.length+1:1,g=this._baseId+"-"+this._idNames.itemChoice+"-"+b;this._store.dispatch(function(e){var t=e.value,n=e.label,i=e.id,r=e.groupId,a=e.disabled,o=e.elementId,s=e.customProperties,l=e.placeholder,u=e.keyCode;return{type:z,value:t,label:n,id:i,groupId:r,disabled:a,elementId:o,customProperties:s,placeholder:l,keyCode:u}}({id:b,groupId:u,elementId:g,value:t,label:y,disabled:s,customProperties:d,placeholder:f,keyCode:m})),a&&this._addItem({value:t,label:y,choiceId:b,customProperties:d,placeholder:f,keyCode:m})}},a._addGroup=function(e){var t=this,n=e.group,i=e.id,r=e.valueKey,a=void 0===r?"value":r,o=e.labelKey,s=void 0===o?"label":o,l=_("Object",n)?n.choices:Array.from(n.getElementsByTagName("OPTION")),u=i||Math.floor((new Date).valueOf()*Math.random()),c=!!n.disabled&&n.disabled;l?(this._store.dispatch(_e({value:n.label,id:u,active:!0,disabled:c})),l.forEach((function(e){var n=e.disabled||e.parentNode&&e.parentNode.disabled;t._addChoice({value:e[a],label:_("Object",e)?e[s]:e.innerHTML,isSelected:e.selected,isDisabled:n,groupId:u,customProperties:e.customProperties,placeholder:e.placeholder})}))):this._store.dispatch(_e({value:n.label,id:n.id,active:!1,disabled:n.disabled}))},a._getTemplate=function(e){var t;if(!e)return null;for(var n=this.config.classNames,i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return(t=this._templates[e]).call.apply(t,[this,n].concat(r))},a._createTemplates=function(){var e=this.config.callbackOnCreateTemplates,t={};e&&"function"===typeof e&&(t=e.call(this,T)),this._templates=s()(ge,t)},a._createElements=function(){this.containerOuter=new ue({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.containerInner=new ue({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.input=new de({element:this._getTemplate("input",this._placeholderValue),classNames:this.config.classNames,type:this.passedElement.element.type,preventPaste:!this.config.paste}),this.choiceList=new pe({element:this._getTemplate("choiceList",this._isSelectOneElement)}),this.itemList=new pe({element:this._getTemplate("itemList",this._isSelectOneElement)}),this.dropdown=new j({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})},a._createStructure=function(){this.passedElement.conceal(),this.containerInner.wrap(this.passedElement.element),this.containerOuter.wrap(this.containerInner.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":this._placeholderValue&&(this.input.placeholder=this._placeholderValue,this.input.setWidth()),this.containerOuter.element.appendChild(this.containerInner.element),this.containerOuter.element.appendChild(this.dropdown.element),this.containerInner.element.appendChild(this.itemList.element),this._isTextElement||this.dropdown.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element),this._isSelectElement&&(this._highlightPosition=0,this._isSearching=!1,this._startLoading(),this._presetGroups.length?this._addPredefinedGroups(this._presetGroups):this._addPredefinedChoices(this._presetChoices),this._stopLoading()),this._isTextElement&&this._addPredefinedItems(this._presetItems)},a._addPredefinedGroups=function(e){var t=this,n=this.passedElement.placeholderOption;n&&"SELECT"===n.parentNode.tagName&&this._addChoice({value:n.value,label:n.innerHTML,isSelected:n.selected,isDisabled:n.disabled,placeholder:!0}),e.forEach((function(e){return t._addGroup({group:e,id:e.id||null})}))},a._addPredefinedChoices=function(e){var t=this;this.config.shouldSort&&e.sort(this.config.sorter);var n=e.some((function(e){return e.selected})),i=e.findIndex((function(e){return void 0===e.disabled||!e.disabled}));e.forEach((function(e,r){var a=e.value,o=e.label,s=e.customProperties,l=e.placeholder;if(t._isSelectElement)if(e.choices)t._addGroup({group:e,id:e.id||null});else{var u=!(!t._isSelectOneElement||n||r!==i)||e.selected,c=e.disabled;t._addChoice({value:a,label:o,isSelected:u,isDisabled:c,customProperties:s,placeholder:l})}else t._addChoice({value:a,label:o,isSelected:e.selected,isDisabled:e.disabled,customProperties:s,placeholder:l})}))},a._addPredefinedItems=function(e){var t=this;e.forEach((function(e){"object"===o(e)&&e.value&&t._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}),"string"===typeof e&&t._addItem({value:e})}))},a._setChoiceOrItem=function(e){var t=this;({object:function(){e.value&&(t._isTextElement?t._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}):t._addChoice({value:e.value,label:e.label,isSelected:!0,isDisabled:!1,customProperties:e.customProperties,placeholder:e.placeholder}))},string:function(){t._isTextElement?t._addItem({value:e}):t._addChoice({value:e,label:e,isSelected:!0,isDisabled:!1})}})[w(e).toLowerCase()]()},a._findAndSelectChoiceByValue=function(e){var t=this,n=this._store.choices.find((function(n){return t.config.valueComparer(n.value,e)}));n&&!n.selected&&this._addItem({value:n.value,label:n.label,choiceId:n.id,groupId:n.groupId,customProperties:n.customProperties,placeholder:n.placeholder,keyCode:n.keyCode})},a._generatePlaceholderValue=function(){if(this._isSelectElement){var e=this.passedElement.placeholderOption;return!!e&&e.text}var t=this.config,n=t.placeholder,i=t.placeholderValue,r=this.passedElement.element.dataset;if(n){if(i)return i;if(r.placeholder)return r.placeholder}return!1},i}();t.default=Ee}]).default},"object"===o(t)&&"object"===o(e)?e.exports=a():(i=[],void 0===(r="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=r))}).call(this,n(66)(e))},62:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"isHeader",value:function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128}},{key:"isFooter",value:function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128}},{key:"getID3Data",value:function(t,n){for(var i=n,r=0;e.isHeader(t,n);){r+=10,r+=e._readSize(t,n+6),e.isFooter(t,n+10)&&(r+=10),n+=r}if(r>0)return t.subarray(i,i+r)}},{key:"_readSize",value:function(e,t){var n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,n|=(127&e[t+2])<<7,n|=127&e[t+3]}},{key:"getTimeStamp",value:function(t){for(var n=e.getID3Frames(t),i=0;i<n.length;i++){var r=n[i];if(e.isTimeStampFrame(r))return e._readTimeStamp(r)}}},{key:"isTimeStampFrame",value:function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info}},{key:"_getFrameData",value:function(t){var n=String.fromCharCode(t[0],t[1],t[2],t[3]),i=e._readSize(t,4);return{type:n,size:i,data:t.subarray(10,10+i)}}},{key:"getID3Frames",value:function(t){for(var n=0,i=[];e.isHeader(t,n);){for(var r=e._readSize(t,n+6),a=(n+=10)+r;n+8<a;){var o=e._getFrameData(t.subarray(n)),s=e._decodeFrame(o);s&&i.push(s),n+=o.size+10}e.isFooter(t,n)&&(n+=10)}return i}},{key:"_decodeFrame",value:function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"T"===t.type[0]?e._decodeTextFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):void 0}},{key:"_readTimeStamp",value:function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),n=1&t[3],i=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return i/=45,n&&(i+=47721858.84),Math.round(i)}}},{key:"_decodePrivFrame",value:function(t){if(!(t.size<2)){var n=e._utf8ArrayToStr(t.data),i=new Uint8Array(t.data.subarray(n.length+1));return{key:t.type,info:n,data:i.buffer}}}},{key:"_decodeTextFrame",value:function(t){if(!(t.size<2)){if("TXXX"===t.type){var n=1,i=e._utf8ArrayToStr(t.data.subarray(n));n+=i.length+1;var r=e._utf8ArrayToStr(t.data.subarray(n));return{key:t.type,info:i,data:r}}var a=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:a}}}},{key:"_decodeURLFrame",value:function(t){if("WXXX"===t.type){if(t.size<2)return;var n=1,i=e._utf8ArrayToStr(t.data.subarray(n));n+=i.length+1;var r=e._utf8ArrayToStr(t.data.subarray(n));return{key:t.type,info:i,data:r}}var a=e._utf8ArrayToStr(t.data);return{key:t.type,data:a}}},{key:"_utf8ArrayToStr",value:function(e){for(var t=void 0,n=void 0,i="",r=0,a=e.length;r<a;){var o=e[r++];switch(o>>4){case 0:return i;case 1:case 2:case 3:case 4:case 5:case 6:case 7:i+=String.fromCharCode(o);break;case 12:case 13:t=e[r++],i+=String.fromCharCode((31&o)<<6|63&t);break;case 14:t=e[r++],n=e[r++],i+=String.fromCharCode((15&o)<<12|(63&t)<<6|(63&n)<<0)}}return i}}]),e}();t.default=r},63:function(e,t,n){"use strict";n.d(t,"s",(function(){return i.a})),n.d(t,"o",(function(){return r.a})),n.d(t,"r",(function(){return a.a})),n.d(t,"C",(function(){return o.a})),n.d(t,"i",(function(){return l})),n.d(t,"A",(function(){return u})),n.d(t,"x",(function(){return c})),n.d(t,"u",(function(){return h})),n.d(t,"E",(function(){return m.a})),n.d(t,"z",(function(){return b})),n.d(t,"g",(function(){return g})),n.d(t,"e",(function(){return k})),n.d(t,"f",(function(){return w})),n.d(t,"a",(function(){return x})),n.d(t,"y",(function(){return C})),n.d(t,"k",(function(){return L})),n.d(t,"h",(function(){return N})),n.d(t,"m",(function(){return F})),n.d(t,"l",(function(){return B})),n.d(t,"d",(function(){return H})),n.d(t,"j",(function(){return z})),n.d(t,"n",(function(){return X})),n.d(t,"F",(function(){return G})),n.d(t,"G",(function(){return Y})),n.d(t,"v",(function(){return ee})),n.d(t,"p",(function(){return re})),n.d(t,"b",(function(){return ae})),n.d(t,"D",(function(){return le})),n.d(t,"w",(function(){return ce})),n.d(t,"c",(function(){return he})),n.d(t,"q",(function(){return me})),n.d(t,"B",(function(){return ke})),n.d(t,"t",(function(){return we}));var i=n(2),r=n(16),a=n(26),o=n(35),s=(n(56),n(12));var l=function(e,t,n){var r,a,o,l,u=Object(s.a)(e);Object(i.a)(n)&&(r=n.bubbles,a=n.cancelable,o=n.detail),r=!Object(i.a)(r)||r,a=!Object(i.a)(a)||a,o=Object(i.a)(o)?o:{};try{l=new CustomEvent(t,{bubbles:r,cancelable:a,detail:o})}catch(c){(l=document.createEvent("CustomEvent")).initCustomEvent(t,r,a,o)}return u.dispatchEvent(l),!l.defaultPrevented};var u=function(){Object(i.a)(document.body.overflowHiddenCnt)||(document.body.overflowHiddenCnt=0),document.body.overflowHiddenCnt+=1,document.body.overflowHiddenCnt>0&&!document.body.classList.contains("overflow-hidden")&&document.body.classList.add("overflow--hidden")};var c=function(){Object(i.a)(document.body.overflowHiddenCnt)&&(document.body.overflowHiddenCnt-=1,document.body.overflowHiddenCnt<0&&(document.body.overflowHiddenCnt=0),0===document.body.overflowHiddenCnt&&document.body.classList.contains("overflow--hidden")&&document.body.classList.remove("overflow--hidden"))};function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(){var e=window.location.href,t=e.indexOf("#!");if(t<0)return{};var n=e.slice(t+2).split("&"),i={};return n.forEach((function(e){var t=e.split("="),n=t[0],r=t.length>1?t[1]:null;i=p(p({},i),{},f({},n,r))})),i},m=n(36),v=n(24);var y=function e(t){if(!Object(i.a)(t)||!(t instanceof HTMLElement))return null;var n=window.getComputedStyle(t),r=parseInt(n.marginTop,10),a=parseInt(n.marginBottom,10),o=parseInt(n.paddingTop,10),s=parseInt(n.paddingBottom,10),l=t.style.cssText,u={};return 0===o&&(u.paddingTop="1px",u.marginTop="".concat(r-1,"px")),0===s&&(u.paddingBottom="1px",u.marginBottom="".concat(a-1,"px")),Object(v.a)(t,u),t.scrollHeight>t.clientHeight?(t.style.cssText=l,t):(t.style.cssText=l,e(t.parentNode))};var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,n=void 0===t?null:t,r=e.element,a=void 0===r?null:r,o=e.scrollParentFromElement,s=void 0===o?null:o,l=a;if(l)return Object(i.a)(n)&&(l.scrollTop=n),l.scrollTop;if(Object(i.a)(s)){var u=y(s);if(Object(i.a)(u)&&u!==document.body)return Object(i.a)(n)&&(u.scrollTop=n),u.scrollTop}return Object(i.a)(n)&&(document.documentElement.scrollTop=n,document.body.parentNode.scrollTop=n,document.body.scrollTop=n),document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop};var g=function(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)};var k=function(e){setTimeout(e,0)};var w=function(e,t){return setTimeout(t,e)},_=n(22),S=n(8),T=n(9);var x=function(e,t){var n=Object(_.a)(e);if(0===n.length)return!1;for(var r=t.split(" ").filter((function(e){return""!==e.trim()})),o=Math.random().toString(36).substr(2),s=null,l=null,u=!0,c=arguments.length,d=new Array(c>2?c-2:0),p=2;p<c;p++)d[p-2]=arguments[p];for(var f=0;f<d.length;f++)"string"===typeof d[f]?s=d[f]:"function"===typeof d[f]?l=d[f]:"boolean"===typeof d[f]||Object(a.a)(d[f])?u=d[f]:console.warn("Unknown parameter for addListener function:",t,d[f]);if(!Object(i.a)(l))return console.error("Handler must be specified:",t),!1;for(var h=function(e){var t=e;if(s){var n=t.target.closest(s);if(!n||!t.currentTarget.contains(n))return!1;t.selectorTarget=n}return l(t)},m=function(e){var t=n[e],i=Object(S.a)(t,"listeners",(function(){return{}}));r.forEach((function(e){t.addEventListener(e,h,u)})),i[o]={originalHandler:l,slHandler:h,types:r},Object(T.a)(t,"listeners",i)},v=0;v<n.length;v++)m(v);return o};function O(e,t,n){for(var r=t.id,a=t.handler,o=void 0===a?null:a,s=t.listener,l=void 0===s?null:s,u=function(t){var a=e[t],s=Object(S.a)(a,"listeners");if(Object(i.a)(s)){var u=s[r];Object(i.a)(o)&&o!==u.originalHandler||(u.types=u.types.filter((function(e){return!(!Object(i.a)(l)||e===l)||(a.removeEventListener(e,u.slHandler,n),!1)}))),0===u.types.length&&delete s[r],Object(T.a)(a,"listeners",s)}},c=0;c<e.length;c++)u(c);return!0}function E(e,t,n){for(var r=t.handler,a=t.listener,o=void 0===a?null:a,s=function(t){var a=e[t],s=Object(S.a)(a,"listeners");Object(i.a)(s)&&(Object.keys(s).filter((function(e){return s[e].originalHandler===r})).forEach((function(e){var t=s[e];t.types=t.types.filter((function(e){return!(!Object(i.a)(o)||e===o)||(a.removeEventListener(e,t.slHandler,n),!1)})),0===t.types.length&&delete s[e]})),Object(T.a)(a,"listeners",s))},l=0;l<e.length;l++)s(l);return!0}function P(e,t,n){for(var r=t.listener.split(" ").filter((function(e){return""!==e.trim()})),a=function(t){var a=e[t],o=Object(S.a)(a,"listeners");Object(i.a)(o)&&(Object.keys(o).forEach((function(e){var t=o[e];t.types=t.types.filter((function(e){return!r.includes(e)||(a.removeEventListener(e,t.slHandler,n),!1)})),0===t.types.length&&delete o[e]})),Object(T.a)(a,"listeners",o))},o=0;o<e.length;o++)a(o);return!0}var C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{id:null,handler:null,listener:null},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Object(_.a)(e);return 0!==r.length&&(Object(i.a)(t.id)?(O(r,t,n),!0):Object(i.a)(t.handler)?(E(r,t,n),!0):!!Object(i.a)(t.listener)&&(P(r,t,n),!0))};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e;if(!Object(i.a)(n.customListeners))return{};if(!t)return I({},n.customListeners);var r=t.split(" ").filter((function(e){return""!==e.trim()})),a={};return r.forEach((function(e){Object(i.a)(n.customListeners[e])&&(a=I(I({},a),{},j({},e,n.customListeners[e].map((function(e){return e.originalHandler})))))})),a};function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=e.split("?");t&&t.length>1&&(t=t[1]);var n={};if(!t||t.length<=1)return n;for(var i=(t=t.split("#")[0]).split("&"),r=function e(t,n,i){var r,a=i,o=n.shift();if("undefined"===typeof a){var s=null;if(s=0===n.length?t:e(t,n),"[]"===o)return[s];if(o.match(/^\[(\d)\]$/)){var l=parseInt(/^\[(\d)\]$/.exec(o)[1],10),u=Array.from(new Array(l));return[].concat(R(u),[s])}return M({},o.replace(/(\[|\])/g,""),s)}if(0===n.length&&(r=t),"[]"===o)return"object"!==typeof a||a.constructor!==Array?(console.warn("Param mismatch:",o,a),a):("undefined"===typeof r&&(r=e(t,n)),[].concat(R(a),[r]));if(o.match(/^\[(\d)\]$/)){if("object"!==typeof a||a.constructor!==Array)return console.warn("Param mismatch:",o,a),a;var c=parseInt(/^\[(\d)\]$/.exec(o)[1],10);if(a.length<c){"undefined"===typeof r&&(r=e(t,n));var d=Array.from(new Array(c-a.length));return[].concat(R(a),R(d),[r])}return a.length===c?("undefined"===typeof r&&(r=e(t,n)),[].concat(R(a),[r])):("undefined"===typeof r&&(r=null===a[c]?e(t,n):e(t,n,a[c])),null===a[c]?a[c]=r:"object"===typeof a[c]&&a[c].constructor===Array?a[c]=[].concat(R(a[c]),[r]):a[c]=[a[c],r],a)}if("object"!==typeof a||a.constructor!==Object)return console.warn("Param mismatch:",o,a),a;var p=o.replace(/(\[|\])/g,"");return"undefined"===typeof r&&(r=p in a?e(t,n,a[p]):e(t,n)),a[p]=r,a},a=0;a<i.length;a++){var o=i[a].split("="),s=o[0],l=s.replace(/\[(\w|-)*\]/g,""),u="undefined"===typeof o[1]?"true":o[1],c=s.match(/(\[(\w|-)*\])/g);c?n[l]=r(u,c,n[l]):l in n?"string"===typeof n[l]?n[l]=[n[l],u]:"object"===typeof n[l]&&n[l].constructor===Array?n[l]=[].concat(R(n[l]),[u]):"object"===typeof n[l]&&n[l].constructor===Object?("_"in n[l]||(n[l._]=[]),n[l._]=[].concat(R(n[l._]),[u])):console.warn("Unknown url parameter:",l,u):n[l]=u}return n};function U(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var F=function(e){for(var t=[],n=0;n<e.options.length;n++)e.options[n].selected&&""!==e.options[n].value.trim()&&(t=[].concat(U(t),[e.options[n].value]));return t};var B=function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(e)?"Windows Phone":/android/i.test(e)?"Android":!window.MSStream&&/iPad|iPhone|iPod/.test(e)?"iOS":null};var H=function(e){var t,n,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150;e.match(/^rgb/)?(t=(e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/))[1],n=e[2],i=e[3]):(e=(e=e.slice(1)).replace(e.length<5&&/./g,"$&$&"),t=parseInt(e.slice(0,2),16),n=parseInt(e.slice(2,4),16),i=parseInt(e.slice(4,6),16));var a=(299*t+587*n+114*i)/1e3;return a>r?"light":"dark"};var z=function(e){return"pageX"in e?e.pageX:"touches"in e&&e.touches.length?e.touches[0].pageX:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0].pageX:0};function q(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function W(e){var t=e.split("/");return t[t.length-1].replace(/\.[^.]+$/,"")}var X=function(e){var t,n={},i=q(e.keys());try{for(i.s();!(t=i.n()).done;){var r=t.value;n[W(r)]=e(r)}}catch(a){i.e(a)}finally{i.f()}return n};var G=function(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)};var Y=function(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)};function Q(e,t){return e<t}function $(e,t){return e>t}function J(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function Z(e,t,n,i){var r;return e.length>1&&(t<(r=function(e,t,n,i){for(var r=e[Math.floor((n+t)/2)],a=t,o=n;a<=o;){for(;i.left(e[a],r);)a++;for(;i.right(e[o],r);)o--;a<=o&&(J(e,a,o),a++,o--)}return a}(e,t,n,i))-1&&Z(e,t,r-1,i),r<n&&Z(e,r,n,i)),e}var ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(t.left)||(t.left=Q),Object(i.a)(t.right)||(t.right=$),Z(e,0,e.length-1,t)};function te(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ie=["HeadlessChrome","i4ds-bot","YandexBot","Google Bot","Jooblebot","SMTBot","QuickSproutBot","Googlebot","DuckDuckBot","Marketing Miner Bot","JobboerseBot","PrivacyAwareBot","Phantom.js bot","MsnBot-Media","LmcTestbot","AhrefsBot","AppEngine-Google","Exabot-Thumbnails","Mappy","AdsBot-Google-Mobile","YandexMobileBot","screeenly-bot","semanticbot","AdsBot-Google"].map((function(e){return e.toLowerCase()}));var re=function(){var e,t=(navigator.userAgent||"").toLowerCase(),n=te(ie);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(t.indexOf(i)>=0)return!0}}catch(r){n.e(r)}finally{n.f()}return!1};var ae=function(){var e,t=document.querySelector('meta[name="ben-base-url"]');if(Object(i.a)(t)){var n=t.content;Object(i.a)(n)&&""!==n&&-1===n.indexOf("test")&&(e=n)}if(!Object(i.a)(e)||""===e){e="".concat(window.location.protocol,"//");var r=window.location.host.split(".");if(r.length>2){for(var a=0;a<r.length;a++)if(["staging","test"].includes(r[a])||r.length-a<=2){e+=r.slice(a).join(".");break}}else e+=window.location.host}return e},oe=n(23);var se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=Object(_.a)(e.querySelectorAll('button, [href], select, textarea, input:not([type="hidden"]), [tabindex]:not([tabindex="-1"])'));return t=t.filter((function(e){return Object(oe.a)(e)}))};var le=function(e){Object(T.a)(e,"previousActiveElement",document.activeElement),function(e){var t=se(e);0!==t.length?t[0].focus():Object(i.a)(document.activeElement)&&document.activeElement.blur()}(e);var t=x(window,"keydown",(function(t){return function(e,t){if(9===e.keyCode){var n=se(t),i=document.activeElement,r=n.indexOf(i);if(0!==n.length)return-1===r?(n[0].focus(),void e.preventDefault()):void(e.shiftKey?0===r&&(n[n.length-1].focus(),e.preventDefault()):r===n.length-1&&(n[0].focus(),e.preventDefault()));e.preventDefault()}}(t,e)}));Object(T.a)(e,"trapFocusListenerId",t)},ue=n(17);var ce=function(e){!function(e){var t=Object(S.a)(e,"previousActiveElement");Object(ue.a)(e,"previousActiveElement"),Object(i.a)(t)&&t.focus()}(e);var t=Object(S.a)(e,"trapFocusListenerId");C(window,{id:t}),Object(ue.a)(e,"trapFocusListenerId")},de=n(57);function pe(e,t,n){setTimeout((function(){return fe(e,t,n)}),n)}function fe(e,t,n){Object(i.a)(n)||(n=1e4),Object(de.a)("GET",e,void 0,{error:function(){return pe(e,t,n)},success:function(i){var r=JSON.parse(i.responseText);r.success?t(r.result):pe(e,t,n)}})}var he=fe;var me=function(){return!!navigator.userAgent.match(/(iPhone|iPod|iPad)/i)||(!!navigator.userAgent.match(/(BlackBerry)/i)||!!navigator.userAgent.match(/(Android)/i))};function ve(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var be=["slideslive.com","slideslive.cz","slideslive.de","slideslive.at","slideslive.ch"];function ge(e,t){return t===e||t.endsWith(".".concat(e))}var ke=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"slideslive.com",n=window.location.hostname.toLowerCase(),i=ve(be);try{for(i.s();!(e=i.n()).done;){var r=e.value;if(ge(r,n))return r}}catch(a){i.e(a)}finally{i.f()}return t};var we=function(){return window.performance&&window.performance.now?window.performance.now():Date.now()}},67:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path d="M0 0h24v24H0z" fill="none"/>\n  <path d="M10 4L8.59 5.41 15.17 12l-6.58 6.59L10 20l8-8z"/>\n</svg>\n'},68:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path d="M0 0h24v24H0z" fill="none"/>\n  <path d="M5 3v18l15-9z"/>\n</svg>\n'},69:function(e,t,n){e.exports=n.p+"media/modules/player/slides/services/slide/video-thumbnail-15b4f66bbb44f680183fcae0e954f8fc.jpg"},7:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(3),r=n(0);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,n,i,u=l(c);function c(){return a(this,c),u.apply(this,arguments)}return t=c,(n=[{key:"dispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.target,i=void 0===n?this.element:n,a=t.detail,o=void 0===a?{}:a,s=t.bubbles,l=void 0===s||s,u=t.cancelable,c=void 0===u||u,d="".concat(this.identifier,":").concat(e);Object(r.s)(i,d,{detail:o,bubbles:l,cancelable:c})}},{key:"dispatchOnWindow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.detail,i=void 0===n?{}:n,r=t.bubbles,a=void 0===r||r,o=t.cancelable,s=void 0===o||o;this.dispatch(e,{target:window,detail:i,bubbles:a,cancelable:s})}},{key:"dispatchOnDocument",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.detail,i=void 0===n?{}:n,r=t.bubbles,a=void 0===r||r,o=t.cancelable,s=void 0===o||o;this.dispatch(e,{target:document,detail:i,bubbles:a,cancelable:s})}},{key:"findComponentController",value:function(e){return this.findControllerByName(e.dataset.componentController,{useQuerySelector:!1,element:e})}},{key:"findControllerOnElement",value:function(e){return this.findControllerByName(e.dataset.controller,{useQuerySelector:!1,element:e})}},{key:"findControllerByName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useQuerySelector,i=void 0===n||n,r=t.element,a=void 0===r?null:r;return a||(a=this.element),i&&(a=a.querySelector('[data-controller~="'.concat(e,'"]'))),this.application.getControllerForElementAndIdentifier(a,e)}},{key:"findAllControllersByName",value:function(e,t){var n=this,i=(t||this.element).querySelectorAll('[data-controller*="'.concat(e,'"]'));return Array.from(i).map((function(t){return n.application.getControllerForElementAndIdentifier(t,e)}))}},{key:"findParentControllerByName",value:function(e){console.warn("Use ApplicationController#dispatch and listen for dispatched event instead of finding parent controller.");var t=this.element.closest('[data-controller~="'.concat(e,'"]'));return this.application.getControllerForElementAndIdentifier(t,e)}}])&&o(t.prototype,n),i&&o(t,i),c}(i.b)},74:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return p}));var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";return e.small?t=" spinner--small":e.tiny&&(t=" spinner--15px"),e.dark&&(t+=" spinner--dark"),"<div class='spinner".concat(t,"'></div>")};var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=document.createElement("div"),n=e.absoluteWrapper?"spinner__wrapper":"spinner__container";return t.classList.add(n),t.innerHTML=i(e),t},a=n(8),o=n(17),s=n(2),l=n(12),u=n(37);var c=function(e){var t=Object(l.a)(e),n=Object(a.a)(t,"spinnerDisableTimeout");Object(s.a)(n)&&(clearTimeout(n),Object(o.a)(t,"spinnerDisableTimeout")),Object(s.a)(t.spinnerElement)&&(t.classList.remove("disabled"),t.disabled=!1,Object(u.a)(t.spinnerElement),t.spinnerElement=void 0)},d=n(9);var p=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!Object(s.a)(e.spinnerElement)){var n=Object(l.a)(e),r=document.createElement("div");if(r.classList.add("spinner__btn"),r.innerHTML=i(),t){var u=Object(a.a)(n,"spinnerDisableTimeout");Object(s.a)(u)&&clearTimeout(u),u=setTimeout((function(){Object(o.a)(n,"spinnerDisableTimeout"),n.classList.add("disabled"),n.disabled=!0}),0),Object(d.a)(n,"spinnerDisableTimeout",u)}n.style.overflow="hidden",n.spinnerElement=r,n.insertAdjacentElement("beforeend",r)}}},75:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var i=n(0),r=n(1),a=n(120),o=n(136),s=n(138),l=n(137),u=n(125),c=n(126),d=n(127),p=n(129),f=n(131),h=n(132),m=n(133),v=n(134),y=n(135);function b(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(k(this,t),this.element=document.getElementById(e),Object(i.U)(this.element)){this.options=new a.a(this.element,r),this.updateTimer=new u.a((function(){return n.update()})),this.callbacks={load:new Set,ready:new Set,play:new Set,pause:new Set,resize:new Set,controlsShow:new Set,controlsHide:new Set,currentSlideChanged:new Set},this.initProps(),this.createView(),this.options.autoLoad?Object(i.k)((function(){return n.load()})):Object(i.k)((function(){return n.initClickToLoad()}));var o=Object(i.vb)("debug_slideslive_player");o&&(Object(i.U)(window.__debugSlidesLivePlayer)||(window.__debugSlidesLivePlayer=[]),window.__debugSlidesLivePlayer.push(this))}else console.warn("PLAYER","Player element not found.")}var n,g,_;return n=t,(g=[{key:"initProps",value:function(){this.props={createdAt:Object(i.X)(),loadingStartedAt:null,loadingDurationBeforeDataReceived:null,loadingDuration:null,loadingDurationSinceCreated:null,live:!1,offline:!1,guest:!0,liveFinished:!1,firstPlay:!0,playingBeforeSeeking:!1,seeking:!1,presentationUpdatedAt:0,nextPresentationLink:null,videoKenEnabled:!1,playlistsLoaded:!1,startTimeFromServer:null,forcedRealVideoRatio:null,forcedDisplayVideoRatio:null}}},{key:"createView",value:function(){var e=this;this.view=new o.a(this.element,{locale:this.options.locale,maxHeight:this.options.maxHeight,maxWidth:this.options.maxWidth,disableFullscreen:this.options.disableFullscreen,zoomRatio:this.options.zoomRatio,zoomHandleColor:this.options.zoomHandleColor,zoomSliderColor:this.options.zoomSliderColor,showThumbnail:this.options.showThumbnail,verticalEnabled:this.options.verticalEnabled,verticalEnabledOnMobile:this.options.verticalEnabledOnMobile,verticalDisabledWhenWidthGte:this.options.verticalDisabledWhenWidthGte,verticalWhenWidthLte:this.options.verticalWhenWidthLte,allowHiddenControlsWhenPaused:this.options.allowHiddenControlsWhenPaused,originalVideoControls:this.options.originalVideoControls},{clickToLoad:function(){return e.load()},togglePlayback:function(){return e.togglePlayback()},toggleMute:function(){return e.toggleMute()},toggleSlideMute:function(){return e.toggleSlideMute()},seekToLivePosition:function(){return e.seekToLivePosition()},startSeek:function(t){return e.startSeek(t)},updateSeek:function(t){return e.updateSeek(t)},endSeek:function(t){return e.endSeek(t)},seekTo:function(t){return e.seekTo(t)},setVolume:function(t){return e.volume=t},setPlaybackRate:function(t){return e.playbackRate=t},setVideoQuality:function(t){return e.videoQuality=t},setPlaybackServer:function(t){return e.playbackServer=t},setSubtitleTrack:function(t){return e.subtitleTrack=t},prevSlide:function(){return e.prevSlide()},nextSlide:function(){return e.nextSlide()},syncVideoToSlides:function(){return e.syncVideoToSlides()},syncSlidesToVideo:function(){return e.syncSlidesToVideo()},toggleFullscreen:function(){return e.toggleFullscreen()},progressImageUrl:function(t){return e.slidesPlayer?e.slidesPlayer.progressImageUrl(t):null},sizeChanged:function(t){e.slidesPlayer&&(e.slidesPlayer.size=t),e.videoPlayer&&t.videoElementWidth&&(e.videoPlayer.size={w:t.videoElementWidth,h:t.videoElementHeight}),e.runCallbacks("resize",t)},playNextPresentation:function(){return window.location.href=e.props.nextPresentationLink},controlsVisibilityChanged:function(t){t?e.runCallbacks("controlsShow"):e.runCallbacks("controlsHide")},togglePlaylist:this.togglePlaylist.bind(this),addPlaylist:function(t){Object(i.U)(e.playlists)&&e.playlists.addPlaylist(t)},addBookmark:function(){Object(i.U)(e.bookmarks)&&e.bookmarks.add(e.currentTime)},updateBookmark:function(t){Object(i.U)(e.bookmarks)&&e.bookmarks.update(t)},removeBookmark:function(t){Object(i.U)(e.bookmarks)&&e.bookmarks.remove(t)},showTopicsAndTranscript:function(){e.videoPlayer&&e.videoPlayer.loadVideoKen(),e.view.toggleTopicsAndTranscriptLoading(!0)}})}},{key:"createHotkeys",value:function(){var e=this;this.keyboard=new c.a(this.element,{togglePlayback:function(){return e.togglePlayback()},toggleMute:function(){return e.toggleMute()},prevSlide:function(){return e.prevSlide()},nextSlide:function(){return e.nextSlide()},syncVideoToSlides:function(){return e.syncVideoToSlides()},syncSlidesToVideo:function(){return e.syncSlidesToVideo()},toggleFullscreen:function(){return e.toggleFullscreen()},skipBack:function(){return e.skipBack()},skipForward:function(){return e.skipForward()},addBookmark:function(){Object(i.U)(e.bookmarks)&&e.bookmarks.add(e.currentTime)},hideOpenedOverlays:function(){return e.view.hideOpenedOverlays()}})}},{key:"initPlaylists",value:function(){var e=this;this.playlists=new h.a({presentationId:this.options.presentationId},{updatePlaylistsList:function(t,n){return e.view.updatePlaylistsList(t,n)},afterAction:function(t,n){return e.view.updatePlaylist(t,n)}})}},{key:"initBookmarks",value:function(){var e=this;this.bookmarks=new m.a({presentationId:this.options.presentationId},{updateBookmarksList:function(t){return e.view.updateBookmarksList(t)},afterAdded:function(t){return e.view.showBookmarksPopup(t)},afterUpdate:function(t,n){return e.view.updateBookmark(t,n)},afterRemove:function(t,n){return e.view.removeBookmark(t,n)}})}},{key:"initClickToLoad",value:function(){this.view.renderClickToLoad()}},{key:"load",value:function(){var t=this;this.createHotkeys(),this.createAnalytics(),this.createEmbedInterface(),this.playbackController=new y.a({loadingChanged:function(e){t.view.videoLoading=e},stateChanged:function(e){return t.updateState(e)}}),this.view.renderPlayer(),this.view.firstPlay=this.props.firstPlay,this.loading=!0,this.guest=!(Object(i.U)(e.gon)&&Object(i.U)(e.gon.user_email)&&Object(i.U)(e.gon.user_name)),this.options.offline?this.loadOffline():(this.presentationPlaylistLoader=new v.a({presentationId:this.options.presentationId,demo:this.options.demo,registrationId:this.options.registrationId,benBaseUrl:this.options.benBaseUrl}),this.options.m3u8?this.presentationPlaylistLoader.loadPlaylist({error:function(e){return t.showError(e)},presentationInfo:function(e){return t.processPresentationInfo(e)}}):this.presentationPlaylistLoader.loadPresentationInfo(null,{error:function(e){return t.showError(e)},presentationInfo:function(e){return t.processPresentationInfo(e)}}))}},{key:"loadOffline",value:function(){Object(r.a)("PLAYER","load offline"),this.offline=!0;var e=this.element.getAttribute("data-player-type"),t=this.element.getAttribute("data-slides"),n=this.element.getAttribute("data-video"),a=this.element.getAttribute("data-thumbnail");this.mode=e,Object(i.U)(a)&&""!==a&&(this.view.thumbnail=a),"video_slideshow"!==e&&"audio_slideshow"!==e&&"video"!==e||this.createVideoPlayer(),"video_slideshow"!==e&&"audio_slideshow"!==e&&"slideshow"!==e||this.createSlidesPlayer(),this.videoPlayer&&this.videoPlayer.loadOffline(n),this.slidesPlayer&&this.slidesPlayer.loadOffline(t)}},{key:"processPresentationInfo",value:function(e){this.props.loadingDurationBeforeDataReceived=Object(i.X)()-this.props.loadingStartedAt,console.log("PLAYER","data received in",this.props.loadingDurationBeforeDataReceived,"ms"),this.view.updateDebugInfo({title:e.title}),this.props.forcedRealVideoRatio=e.video_ratio||null,this.props.forcedDisplayVideoRatio=e.display_video_ratio||null,this.view.embed=this.embedInterface.enabled,this.view.title=e.title,this.view.link="https://slideslive.com/".concat(this.options.presentationId),this.view.hideTitle=this.options.hideTitle,this.view.linkifyTitle=this.options.linkifyTitle,this.view.realVideoRatio=this.props.forcedRealVideoRatio,this.view.displayVideoRatio=this.props.forcedDisplayVideoRatio,Object(i.U)(e.next_presentation)&&this.setNextPresentation(e.next_presentation);var t=e.playing_analytics_disabled;Object(i.U)(t)&&(this.analytics.playingAnalyticsDisabled=t),this.live=e.is_live,this.presentationUpdatedAt=e.updated_at,this.props.startTimeFromServer=e.player_start_time,Object(i.U)(e.thumbnail)&&(this.view.thumbnail=e.thumbnail),this.analytics.presentationMediaSetId=e.media_set_id,this.analytics.trackLoad(this.options.data),this.live?this.loadLive(e):this.loadOnDemand(e)}},{key:"setNextPresentation",value:function(e){Object(i.U)(e.id)&&Object(i.U)(e.title)?(this.props.nextPresentationLink="https://slideslive.com/".concat(e.id),this.view.nextPresentationTitle="".concat(e.title),Object(i.U)(e.thumbnail)&&(this.view.nextPresentationThumbnail=e.thumbnail)):this.props.nextPresentationLink=null}},{key:"loadOnDemand",value:function(e){this.guest||(this.initPlaylists(),this.initBookmarks());var t,n=Object(i.U)(e.video_service_id)&&""!==e.video_service_id,a=e.has_video&&n,o=e.has_audio&&n,s=e.has_slides,l=Object(i.U)(e.video_ken_enabled)&&e.video_ken_enabled;if(Object(r.a)("PLAYER","has media",n),Object(r.a)("PLAYER","has video",a),Object(r.a)("PLAYER","has audio",o),Object(r.a)("PLAYER","has slides",s),l&&(Object(r.a)("PLAYER","VideoKen enabled",l),this.view.topicsAndTranscriptAvailable=!0),this.props.videoKenEnabled=l,s)t=a?"video_slideshow":o?"audio_slideshow":"slideshow";else{if(!a&&!o)return void this.showNotRecorded();t="video"}if(this.mode=t,"video_slideshow"!==t&&"audio_slideshow"!==t&&"video"!==t||this.createVideoPlayer(e.default_subtitles_language),"video_slideshow"!==t&&"audio_slideshow"!==t&&"slideshow"!==t||this.createSlidesPlayer(),this.videoPlayer){var u={};e.video_cdn_servers&&(u.videoCdnServers=e.video_cdn_servers),this.videoPlayer.load(e.video_service_name.toLowerCase(),e.video_service_id,u),e.subtitles&&this.videoPlayer.loadSubtitles(e.subtitles)}this.slidesPlayer&&this.slidesPlayer.load(e.slides_json_url,e.slides_xml_url)}},{key:"loadLive",value:function(e){this.createVideoPlayer(),this.createSlidesPlayer(),this.createLivestreamInfoProvider(),this.mode="video_slideshow",this.slidesPlayer.load(),this.livestreamInfoProvider.processLivestreamInfo(e),this.livestreamInfoProvider.start()}},{key:"createVideoPlayer",value:function(e){var t=this;Object(r.a)("PLAYER","creating video player"),this.videoPlayer=new s.a(this.view.videoElement,{initial:{subtitlesLanguage:e},offline:this.props.offline,videoKenEnabled:this.props.videoKenEnabled,live:this.props.live,autoPlay:this.options.autoPlay,defaultStreamQuality:this.options.defaultStreamQuality,originalVideoControls:this.options.originalVideoControls,callbacks:{ready:function(){return t.readyCheck()},canPlay:function(){return t.startPlay()},stateChanged:function(e){return t.playbackController.updateSpeakerVideoState(e)},loadingChanged:function(e){t.playbackController.updateSpeakerVideoLoading(e)},volumeChanged:function(e,n){return t.view.updateVolume(e,n)},availablePlaybackRatesChanged:function(e){return t.view.updateAvailablePlaybackRates(e)},availableQualitiesChanged:function(e){return t.view.updateAvailableQualities(e)},availableServersChanged:function(e){return t.view.updateAvailableServers(e)},subtitlesChanged:function(e){return t.view.updateSubtitles(e)},activeSubtitlesChanged:function(e){return t.view.activeSubtitle=e},inLivePositionChanged:function(e){return t.view.videoInLivePosition=e},streamStartChanged:function(e){return t.livestreamInfoProvider.updateStreamStartFromVideo(e)},qualityChanged:function(e){return t.view.quality=e},playbackRateChanged:function(e){t.view.playbackRate=e,t.playbackController.updatePlaybackRate(e)},playbackServerChanged:function(e){return t.view.playbackServerIndex=e},showError:function(e){return t.showError(e)},playFailed:function(){t.playbackController.playFailed=!0},firstPlayHackChanged:function(e){return t.view.firstPlayHack=e},ended:function(){t.playbackController.pause(),t.view.ended=!0,t.props.nextPresentationLink&&t.view.showNextPresentationOverlay(),t.updateTime(t.duration)},livestreamStartChanged:function(e){t.view.livestreamStarted=e},timesChanged:function(e,n){return t.updateTime(e,void 0,t.slidesPlayer&&t.slidesPlayer.inSync)},ratioChanged:function(e){Object(i.U)(t.props.forcedRealVideoRatio)||(t.view.realVideoRatio=e)},videoKenLoaded:function(){return t.view.toggleTopicsAndTranscriptLoading(!1)},seekableChanged:function(e){return t.view.seekable=e},debugInfo:function(e){return t.view.updateDebugInfo(e)},reportError:function(e,n,i){return t.reportError(e,n,i)},loadingEvent:function(e){return t.analytics.trackVideoLoadingEvent(e)}}}),this.playbackController.speakerVideoPlayer=this.videoPlayer}},{key:"createSlidesPlayer",value:function(){var e=this;Object(r.a)("PLAYER","creating slides player"),this.slidesPlayer=new l.a(this.view.slidesElement,{editor:this.options.editor,offline:this.props.offline,live:this.props.live,presentationId:this.options.presentationId,cacheTimestamp:this.presentationUpdatedAt},{ready:function(){return e.readyCheck()},loadingChanged:function(t){e.view.slidesLoading=t},inSyncChanged:function(t){return e.view.slidesInSync=t},currentSlideChanged:function(t,n,i){e.view.updateSlide(t,n,i),e.runCallbacks("currentSlideChanged",t,n,i)},ratioChanged:function(t){return e.view.slidesRatio=t},videoChanged:function(t,n){return e.playbackController.updateSlideVideoPlayer(t,n)},videoLoadingChanged:function(t){return e.playbackController.updateSlideVideoLoading(t)},videoStateChanged:function(t){return e.playbackController.updateSlideVideoState(t)},videoMutedChanged:function(t,n){return e.view.updateSlideMuted(t,n)},videoPlaybackRateChanged:function(t){return e.playbackController.updatePlaybackRate(t)},videoPlayFailed:function(){e.playbackController.playFailed=!0}})}},{key:"createLivestreamInfoProvider",value:function(){var e=this;this.livestreamInfoProvider=new d.a(this.presentationPlaylistLoader,{},{serversChanged:function(t){return e.videoPlayer.updateLiveServers(t)},delayChanged:function(t){return e.slidesPlayer.delay=t},subtitlesEnabledChanged:function(t){return e.videoPlayer.subtitlesEnabled=t},subtitlesDelayMsChanged:function(t){return e.videoPlayer.liveSubtitlesDelayMs=t},streamStartChanged:function(t){return e.slidesPlayer.streamStart=t},showSlidesChanged:function(t){return e.view.hideSlides=!t},liveFinishedChanged:function(t){return e.liveFinished=t},newSlides:function(t,n){return e.slidesPlayer.addLivestreamSlides(t,n)},setNextPresentation:function(t){return e.setNextPresentation(t)},playingAnalyticsDisabledChanged:function(t){return e.analytics.playingAnalyticsDisabled=t},thumbnailChanged:function(t){return e.view.thumbnail=t},terminatedChanged:function(t){return e.terminateLiveStream()}})}},{key:"createAnalytics",value:function(){var e=this;this.analytics=new p.a({element:this.element,benBaseUrl:this.options.benBaseUrl,presentationId:this.options.presentationId,disableTracking:this.options.disableTracking},{currentTime:function(){return e.videoPlayer?e.videoPlayer.currentTime:0},inLivePosition:function(){return!!e.videoPlayer&&e.videoPlayer.inLivePosition},currentSlideIndex:function(){return e.slidesPlayer?e.slidesPlayer.currentSlideIndex:0},slidesInSync:function(){return!!e.slidesPlayer&&e.slidesPlayer.inSync},size:function(){return e.view.size},mode:function(){return e.view.mode},layout:function(){return e.view.layout},zoom:function(){return e.view.zoom},fullscreenActive:function(){return e.view.fullscreenActive},firstPlay:function(){return!!e.videoPlayer&&e.props.firstPlay},volume:function(){return e.videoPlayer?e.videoPlayer.volume:0},muted:function(){return!!e.videoPlayer&&e.videoPlayer.muted},source:function(){return e.source},sourceUrl:function(){return e.sourceUrl}})}},{key:"createEmbedInterface",value:function(){var e=this;this.embedInterface=new f.a(this.element),this.embedInterface.enabled&&(this.analytics.webReferrer="embed",this.on("load",(function(){return e.embedInterface.sendLoad()})),this.on("ready",(function(){return e.embedInterface.sendReady()})),this.on("resize",(function(t){e.embedInterface.sendSetSize(t),e.embedInterface.sendSizeChanged(t)})))}},{key:"readyCheck",value:function(){if(this.ready){if(Object(r.a)("PLAYER","all ready"),this.slidesPlayer){if(!this.options.editor&&"slideshow"===this.mode&&0===this.slidesPlayer.slideCount)return void this.showNotRecorded();this.view.slidesRatio=this.slidesPlayer.ratio}this.runCallbacks("load"),Object(i.U)(this.playlists)&&this.playlists.add("history"),this.canPlay&&this.startPlay()}}},{key:"startPlay",value:function(){var e,t=this.props.startTimeFromServer||0,n=this.startTimeFromOptions||0,i=this.startTimeFromCookie||0;Object(r.a)("PLAYER","can play",this.live,this.liveFinished,t,n,i),this.live&&!this.liveFinished?e=this.duration:((e=n>0?Math.max(t,n):Math.max(t,i))>0||this.live&&this.liveFinished)&&(this.currentTime=e,this.options.autoPlay||this.playbackController.pause()),this.videoPlayer&&(this.videoPlayer.startTime=e),this.updateTime(e,!1,!1),this.loading=!1,this.analytics.trackPlayerLoading({data:this.props.loadingDurationBeforeDataReceived,loading:this.props.loadingDuration,total:this.props.loadingDurationSinceCreated}),this.runCallbacks("ready"),this.videoPlayer&&this.options.autoPlay&&this.play()}},{key:"updateTime",value:function(e,t,n){var r;if(r=this.videoPlayer?this.duration:e,this.view.updateTime(e,r),!this.live){var a=Math.round(Math.max(0,e-2e3));Object(i.i)(this.progressCookieName,a,this.progressCookieExpireMinutes,"/".concat(this.options.presentationId))}if((!this.live||Object(i.U)(t))&&this.slidesPlayer){var o=this.live?t:e;this.slidesPlayer.updateSlide(o,!1,n)}this.embedInterface.sendTimeUpdate(e,r)}},{key:"update",value:function(){if(this.videoPlayer){var e=this.currentTime,t=this.videoPlayer.currentStreamTime;this.updateTime(e,t,this.slidesPlayer&&this.slidesPlayer.inSync),this.analytics.updatePlaying(e)}}},{key:"showNotRecorded",value:function(){this.loading=!1,this.view.notRecorded=!0}},{key:"showError",value:function(e){this.view.showError(e)}},{key:"reportError",value:function(e,t,n){var r={component:e,error:t,data:n};this.options.playerErrorReportUrl&&Object(i.b)("POST",this.options.playerErrorReportUrl,JSON.stringify({player_error:{embed:this.embedInterface?this.embedInterface.enabled:window!==window.parent,user_agent:navigator.userAgent,error_data:r}}),{})}},{key:"showProcessing",value:function(e){this.playbackController.pause(),this.view.showProcessing(e)}},{key:"showLivestreamFinished",value:function(){this.playbackController.pause(),this.loading=!1,this.props.nextPresentationLink?this.view.showNextPresentationOverlay():this.view.showLivestreamFinished()}},{key:"updateState",value:function(e){Object(r.a)("PLAYER","state",e);var t=this.analytics.trackStateChange(e),n="playing"===e,i="paused"===e;this.view.playing=n,this.view.paused=i,n?(this.view.ended=!1,this.view.firstPlayHack=!1,t&&this.analytics.trackPlay({time:this.currentTime,autoPlay:this.options.autoPlay,firstPlay:this.props.firstPlay,seeking:this.seeking}),this.updateTimer.start(),this.livestreamInfoProvider&&this.livestreamInfoProvider.start()):i&&this.updateTimer.stop(),n&&this.runCallbacks("play"),i&&this.runCallbacks("pause"),this.props.firstPlay&&"playing"===e&&(this.props.firstPlay=!1,this.view.firstPlay=this.props.firstPlay,this.analytics.firstPlay=this.props.firstPlay,Object(r.a)("PLAYER","first play"),this.analytics.processQueues()),this.embedInterface.sendStateChanged(e)}},{key:"mode",get:function(){return this.view.mode},set:function(e){Object(r.a)("PLAYER","mode",e),this.view.mode=e}},{key:"loading",set:function(e){this.view.loading=e,e&&!this.props.loadingStartedAt?this.props.loadingStartedAt=Object(i.X)():e||this.props.loadingDuration||(this.props.loadingDuration=Object(i.X)()-this.props.loadingStartedAt,this.props.loadingDurationSinceCreated=Object(i.X)()-this.props.createdAt,console.log("PLAYER","loaded in",this.props.loadingDurationSinceCreated,"ms since player was created"),console.log("PLAYER","loaded in",this.props.loadingDuration,"ms since loading started"))}},{key:"startSeek",value:function(e){this.analytics.trackSeekStart(),this.seeking=!0,this.slidesPlayer&&this.syncSlidesToVideo(!1);var t=this.duration*e/100;this.props.playingBeforeSeeking=this.videoPlayer.isPlaying,this.pause(),this.updateTime(t)}},{key:"updateSeek",value:function(e){var t=this.duration*e/100;this.updateTime(t)}},{key:"endSeek",value:function(e){var t=this.duration*e/100;this.currentTime=t,this.updateTime(t,void 0,this.slidesPlayer&&this.slidesPlayer.inSync),this.props.playingBeforeSeeking?this.play():this.pause(),this.seeking=!1,this.analytics.trackSeekEnd()}},{key:"setAvailableSize",value:function(e){this.view.setAvailableSize(e)}},{key:"play",value:function(){this.playbackController.play()}},{key:"pause",value:function(){this.isPaused||(this.analytics.trackPause({time:this.currentTime,seeking:this.seeking}),this.playbackController.pause())}},{key:"togglePlayback",value:function(){this.videoPlayer.isPlaying?this.pause():this.play()}},{key:"toggleMute",value:function(){this.analytics.trackMute({time:this.currentTime,muted:this.videoPlayer.muted}),this.videoPlayer.toggleMute()}},{key:"toggleSlideMute",value:function(){this.analytics.trackSlideMute({time:this.currentTime,muted:this.videoPlayer.muted}),this.slidesPlayer.toggleMute()}},{key:"seekToLivePosition",value:function(){this.analytics.trackLive({time:this.currentTime,inLivePosition:this.videoPlayer.inLivePosition}),this.videoPlayer.seekToLivePosition()}},{key:"toggleFullscreen",value:function(){this.analytics.trackFullscreen({time:this.currentTime,active:this.view.fullscreenActive}),this.view.toggleFullscreen()}},{key:"prevSlide",value:function(){this.analytics.trackPrevSlide(),this.slidesPlayer.prev()}},{key:"nextSlide",value:function(){this.analytics.trackNextSlide(),this.slidesPlayer.next()}},{key:"syncSlidesToVideo",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.analytics.trackSyncSlidesToVideo({seeking:this.seeking}),this.slidesPlayer.setInSync(),this.slidesPlayer.updateSlide(this.currentSlideTime,!0,e)}},{key:"syncVideoToSlides",value:function(){this.analytics.trackSyncVideoToSlides();var e=this.slidesPlayer.currentSlideTime;this.slidesPlayer.setInSync(),this.currentTime=e,this.updateTime(e,void 0,!0)}},{key:"seekTo",value:function(e){this.currentTime=e,this.updateTime(e,void 0,this.slidesPlayer&&this.slidesPlayer.inSync)}},{key:"seekToSlide",value:function(e){var t=this.slidesPlayer.timeForSlideIndex(e);this.analytics.trackSeekToSlide({time:t,slide:e,previousTime:this.currentTime}),this.slidesPlayer.setInSync(),this.videoPlayer.currentTime=t,this.updateTime(t,void 0,!0)}},{key:"getSlideUrlFromEmbed",value:function(e){var t=this.slidesPlayer?this.slidesPlayer.dataForSlideIndex(e):{},n=t.url,i=void 0===n?null:n,r=t.type,a=void 0===r?null:r;this.embedInterface.sendSlideUrl(e,i,a)}},{key:"skipBack",value:function(){var e=Math.max(0,this.currentTime-15e3);this.currentTime=e,this.updateTime(e,void 0,this.slidesPlayer&&this.slidesPlayer.inSync)}},{key:"skipForward",value:function(){var e=Math.min(this.duration,this.currentTime+15e3);this.currentTime=e,this.updateTime(e,void 0,this.slidesPlayer&&this.slidesPlayer.inSync)}},{key:"togglePlaylist",value:function(e,t){Object(i.U)(this.playlists)&&(t?this.playlists.add(e):this.playlists.remove(e))}},{key:"on",value:function(e,t){this.callbacks[e].add(t)}},{key:"runCallbacks",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r,a=b(this.callbacks[e]);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.apply(void 0,n)}}catch(s){a.e(s)}finally{a.f()}}},{key:"terminateLiveStream",value:function(){this.showLivestreamFinished()}},{key:"progressCookieExpireMinutes",get:function(){return 43200}},{key:"progressCookieName",get:function(){return"player-progress_".concat(this.analytics.props.userUuid,"_").concat(this.options.presentationId)}},{key:"volume",get:function(){return this.videoPlayer.volume},set:function(e){this.analytics.trackVolume({time:this.currentTime,value:e}),this.videoPlayer.volume=e}},{key:"currentTime",get:function(){return this.videoPlayer.currentTime},set:function(e){this.analytics.trackSeek({time:e,previousTime:this.currentTime}),this.videoPlayer.currentTime=e}},{key:"currentStreamTime",get:function(){return this.videoPlayer.currentStreamTime}},{key:"currentSlideTime",get:function(){return this.currentStreamTime||this.currentTime}},{key:"videoQuality",set:function(e){this.analytics.trackSetQuality({time:this.currentTime,quality:e}),this.videoPlayer.setQuality(e)}},{key:"playbackServer",set:function(e){this.videoPlayer.playbackServer=e}},{key:"subtitleTrack",set:function(e){this.analytics.trackSetSubtitleTrack({time:this.currentTime,track:e}),this.videoPlayer.setSubtitleTrack(e)}},{key:"playbackRate",get:function(){return this.playbackController.playbackRate},set:function(e){this.analytics.trackSetPlaybackRate({time:this.currentTime,rate:e}),this.playbackController.playbackRate=e}},{key:"duration",get:function(){return this.videoPlayer.duration}},{key:"live",get:function(){return this.props.live},set:function(e){this.props.live=e,this.view.live=e,this.analytics.live=e}},{key:"offline",get:function(){return this.props.offline},set:function(e){this.props.offline=e,this.view.offline=e}},{key:"guest",get:function(){return this.props.guest},set:function(e){this.props.guest=e,this.view.guest=e}},{key:"liveFinished",get:function(){return this.props.liveFinished},set:function(e){this.props.liveFinished=e,this.view.liveFinished=e,this.videoPlayer.liveFinished=e}},{key:"ready",get:function(){var e=!this.videoPlayer||this.videoPlayer.ready,t=!this.slidesPlayer||this.slidesPlayer.ready;return e&&t}},{key:"canPlay",get:function(){return!this.videoPlayer||this.videoPlayer.canPlay}},{key:"isPlaying",get:function(){return!!this.videoPlayer&&this.videoPlayer.isPlaying}},{key:"isPaused",get:function(){return!this.videoPlayer||this.videoPlayer.isPaused}},{key:"size",get:function(){return this.view.size}},{key:"startTimeFromCookie",get:function(){return parseInt(Object(i.cb)(this.progressCookieName),10)||0}},{key:"startTimeFromOptions",get:function(){return Object(i.U)(this.options.startTime)&&this.options.startTime>0?this.options.startTime:this.slidesPlayer&&Object(i.U)(this.options.startSlide)&&this.options.startSlide>0?this.slidesPlayer.timeForSlideIndex(this.options.startSlide):0}},{key:"source",get:function(){return this.embedInterface.enabled?"embed":"web"}},{key:"sourceUrl",get:function(){return this.embedInterface.enabled?this.embedInterface.url:window.location.href}},{key:"seeking",get:function(){return this.props.seeking},set:function(e){this.props.seeking=e,this.view.seeking=e}},{key:"presentationUpdatedAt",get:function(){return this.props.presentationUpdatedAt},set:function(e){this.props.presentationUpdatedAt=e}}])&&w(n.prototype,g),_&&w(n,_),t}()}).call(this,n(20))},775:function(e,t,n){"use strict";n.r(t);n(776);var i=n(96);Object(i.a)()},776:function(e,t,n){},8:function(e,t,n){"use strict";var i=n(2);t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(i.a)(e.__sl)?e.__sl[t]:n?n():null}},89:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="iconSvg">\n  <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>\n  <path d="M0 0h24v24H0z" fill="none"/>\n</svg>\n'},9:function(e,t,n){"use strict";var i=n(2);t.a=function(e,t,n){return Object(i.a)(e.__sl)||(e.__sl={}),e.__sl[t]=n,e}},90:function(e,t,n){"use strict";var i=n(38),r=n(0);t.a=function(e){var t=e.getAttribute("title");if(Object(r.U)(t)&&""!==t){var n=e.dataset.tooltipPosition?e.dataset.tooltipPosition:"top";Object(i.a)(e,{a11y:!1,arrow:!0,delay:20,animation:"shift-away",theme:"slideslive",touch:!1,placement:n,content:function(e){var t=e.getAttribute("title");return e.removeAttribute("title"),t}})}}},92:function(e,t,n){"use strict";function i(e,t,n){var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.suffix,i=void 0===n?"controller":n,r=t.useNamespaces,a=void 0!==r&&r,o=t.topNamespace,s="^(?:\\.\\/)?(.+)(?:[_-]".concat(i,"\\..+?)$");a||(s="^(?:\\.\\/)?(?:(.+)\\/)?([^/]+)\\/([^/]+)(?:[_-]".concat(i,"\\..+?)$"));var l=new RegExp(s),u=e.match(l);if(!u)return null;var c=u.length-1,d=(u||[])[c];if(a){var p="(^|[/])([^/]+[_-]".concat(i,"/)([^/]+)$"),f=new RegExp(p);d=d.replace(f,"$1$3").replace(/\//g,"--")}return o&&(d="".concat(o,"--").concat(d)),d.replace(/_/g,"-")}(t,n);return i?function(e,t){var n=e.default;return"function"!==typeof n?null:{identifier:t,controllerConstructor:n}}(e(t),i):null}function r(e,t){return e.keys().map((function(n){return i(e,n,t)})).filter((function(e){return e}))}n.d(t,"a",(function(){return r}))},93:function(e,t,n){!function(t){var n={src:"https://www.youtube.com/iframe_api",loading:!1,loaded:!1,listeners:[],load:function(e){var n=this;if(this.listeners.push(e),this.loaded)setTimeout((function(){n.done()}));else if(!this.loading){this.loading=!0,t.onYouTubeIframeAPIReady=function(){n.loaded=!0,n.done()};var i=document.createElement("script");i.type="text/javascript",i.src=this.src,document.body.appendChild(i)}},done:function(){for(delete t.onYouTubeIframeAPIReady;this.listeners.length;)this.listeners.pop()(t.YT)}};e.exports?e.exports=n:t.YouTubeIframeLoader=n}(window)},96:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(51),r=n.n(i);var a=function(){r.a.href=function(e){return e.href||e.getAttribute("data-url")},r.a.start()}}});